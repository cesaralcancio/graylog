b/35431252178950561135250617171059205131567494590288691224	f/35431334556342272343475362845032310148063524261845991424
EVENTS	1588792300873	{"@timestamp":"2020-05-06T19:11:36.558Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a745be8e-e189-41e8-9560-6b9fd391ac5b and profile ADMIN."}	1588792296559
EVENTS	1588792320868	{"@timestamp":"2020-05-06T19:11:57.935Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e5c99be0-e235-47ab-91a8-9426f95c5fb2 and profile CASHIER."}	1588792317942
EVENTS	1588792330866	{"@timestamp":"2020-05-06T19:12:08.464Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 60bb6872-e81f-401b-b4c2-43d604e0f2d1 and profile ADMIN."}	1588792328465
EVENTS	1588792355868	{"@timestamp":"2020-05-06T19:12:35.531Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79 "}	1588792355531
EVENTS	1588792355868	{"@timestamp":"2020-05-06T19:12:35.531Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79"}	1588792355532
EVENTS	1588792355868	{"@timestamp":"2020-05-06T19:12:35.533Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79: []"}	1588792355534
EVENTS	1588792365870	{"@timestamp":"2020-05-06T19:12:41.193Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79 "}	1588792361193
EVENTS	1588792365870	{"@timestamp":"2020-05-06T19:12:41.194Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79"}	1588792361194
EVENTS	1588792365870	{"@timestamp":"2020-05-06T19:12:41.195Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79: []"}	1588792361195
EVENTS	1588792370865	{"@timestamp":"2020-05-06T19:12:46.673Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ef64b883-9e00-467d-b492-80718f9b8ee5 and profile ADMIN."}	1588792366674
EVENTS	1588792390870	{"@timestamp":"2020-05-06T19:13:08.017Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1da7a785-2819-40fb-ab1c-e6903f7b912b and profile ADMIN."}	1588792388018
EVENTS	1588792395866	{"@timestamp":"2020-05-06T19:13:13.832Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79 "}	1588792393833
EVENTS	1588792395866	{"@timestamp":"2020-05-06T19:13:13.833Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79"}	1588792393833
EVENTS	1588792395866	{"@timestamp":"2020-05-06T19:13:13.834Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79: []"}	1588792393835
EVENTS	1588792415869	{"@timestamp":"2020-05-06T19:13:31.452Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 348f5b89-13ae-48e3-9098-f168e55bbd6d and profile ADMIN."}	1588792411453
EVENTS	1588792420865	{"@timestamp":"2020-05-06T19:13:40.734Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1d48afbf-2111-452b-84fd-c44c478918d5 and profile ADMIN."}	1588792420735
EVENTS	1588792430866	{"@timestamp":"2020-05-06T19:13:48.795Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b87c5a29-0150-4738-b453-fcb48db0209a and profile ADMIN."}	1588792428796
EVENTS	1588792445867	{"@timestamp":"2020-05-06T19:14:05.290Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1da7a785-2819-40fb-ab1c-e6903f7b912b and profile ADMIN."}	1588792445291
EVENTS	1588792450865	{"@timestamp":"2020-05-06T19:14:09.894Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 9c871267-2bc6-4f3c-bccc-e8de268ee8ac and profile ADMIN."}	1588792449894
EVENTS	1588792455866	{"@timestamp":"2020-05-06T19:14:12.329Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79 "}	1588792452330
EVENTS	1588792455866	{"@timestamp":"2020-05-06T19:14:12.330Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79"}	1588792452330
EVENTS	1588792455866	{"@timestamp":"2020-05-06T19:14:12.332Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8eaabc49-3d14-465e-800b-c8f79fc62a79: []"}	1588792452333
EVENTS	1588792455866	{"@timestamp":"2020-05-06T19:14:13.313Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c1bf188b-ad1b-4f1c-9c42-0cb8c77de99d and profile ADMIN."}	1588792453313
EVENTS	1588792460868	{"@timestamp":"2020-05-06T19:14:16.782Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3e8f7e79-4604-489d-bf92-18b65e78e661 and profile ADMIN."}	1588792456783
EVENTS	1588792465865	{"@timestamp":"2020-05-06T19:14:23.481Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 51b57f60-cc51-4c08-8e2f-d813ca4dc401 and profile ADMIN."}	1588792463481
EVENTS	1588792465865	{"@timestamp":"2020-05-06T19:14:25.466Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a44f46d1-b0df-4ed5-a0fe-ef72318833dc and profile ADMIN."}	1588792465467
EVENTS	1588792475868	{"@timestamp":"2020-05-06T19:14:34.218Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token b10bddb3-3085-4fcd-9905-522f8ec60768 "}	1588792474223
EVENTS	1588792475868	{"@timestamp":"2020-05-06T19:14:34.219Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token b10bddb3-3085-4fcd-9905-522f8ec60768"}	1588792474223
EVENTS	1588792475868	{"@timestamp":"2020-05-06T19:14:34.225Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token b10bddb3-3085-4fcd-9905-522f8ec60768: []"}	1588792474226
EVENTS	1588792485867	{"@timestamp":"2020-05-06T19:14:41.264Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 80ca3070-180d-4534-895e-bdec098151da and profile MANAGER."}	1588792481265
EVENTS	1588792495867	{"@timestamp":"2020-05-06T19:14:53.300Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 60642183-10b2-42e9-bf30-0c6fa21827ba "}	1588792493300
EVENTS	1588792495867	{"@timestamp":"2020-05-06T19:14:53.300Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 60642183-10b2-42e9-bf30-0c6fa21827ba"}	1588792493301
EVENTS	1588792495867	{"@timestamp":"2020-05-06T19:14:53.302Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 60642183-10b2-42e9-bf30-0c6fa21827ba: []"}	1588792493302
EVENTS	1588792520867	{"@timestamp":"2020-05-06T19:15:15.897Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f71c4020-e081-4afe-ac7e-3566013dede3 and profile ADMIN."}	1588792515898
EVENTS	1588792530865	{"@timestamp":"2020-05-06T19:15:26.005Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1de0f633-4508-4635-9726-2455889a057d and profile ADMIN."}	1588792526006
EVENTS	1588792535869	{"@timestamp":"2020-05-06T19:15:33.363Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d4890ed8-8b13-4a36-b43a-8b1a1ad942f7 and profile ADMIN."}	1588792533368
EVENTS	1588792535869	{"@timestamp":"2020-05-06T19:15:33.950Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 72d21cb6-4fd6-41e1-af74-aec0672d89a3 and profile ADMIN."}	1588792533951
EVENTS	1588792550868	{"@timestamp":"2020-05-06T19:15:49.595Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1de0f633-4508-4635-9726-2455889a057d and profile ADMIN."}	1588792549596
EVENTS	1588792555865	{"@timestamp":"2020-05-06T19:15:55.777Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 05edda03-093e-4cb6-97b7-6882c95e7cbc and profile ADMIN."}	1588792555782
EVENTS	1588792580865	{"@timestamp":"2020-05-06T19:16:18.222Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d3c715fe-3b16-4163-9c71-41643e360f2c and profile ADMIN."}	1588792578223
EVENTS	1588792585869	{"@timestamp":"2020-05-06T19:16:22.332Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3684e557-2697-43b4-96a4-ec5325ac3b82 and profile ADMIN."}	1588792582332
EVENTS	1588792590865	{"@timestamp":"2020-05-06T19:16:28.859Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e44377af-d458-469c-9002-4c82b628b05e and profile ADMIN."}	1588792588860
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.448Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 2e272420-a4a4-44aa-838b-f2418d63865c "}	1588792594448
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.448Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 2e272420-a4a4-44aa-838b-f2418d63865c"}	1588792594449
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.451Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2e272420-a4a4-44aa-838b-f2418d63865c"}	1588792594451
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.453Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2e272420-a4a4-44aa-838b-f2418d63865c' and pre-approval: '2cbb62a0-a11d-4d23-bce1-6c2b549cb4a1'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792594455
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.533Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792594534
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.534Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792594534
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.535Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2e272420-a4a4-44aa-838b-f2418d63865c"}	1588792594535
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.536Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2e272420-a4a4-44aa-838b-f2418d63865c' and pre-approval: '44438117-63f3-4516-97c5-e168d0e8be32'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792594537
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.590Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792594593
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.591Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792594593
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.592Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2e272420-a4a4-44aa-838b-f2418d63865c"}	1588792594593
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.594Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2e272420-a4a4-44aa-838b-f2418d63865c' and pre-approval: 'afcb0520-0184-4c46-b21b-050cb569d09f'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792594594
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.634Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792594635
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.635Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792594636
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.636Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 2e272420-a4a4-44aa-838b-f2418d63865c: [{\"id\":\"2cbb62a0-a11d-4d23-bce1-6c2b549cb4a1\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"2e272420-a4a4-44aa-838b-f2418d63865c\",\"proxy_merchant_token\":\"6b574148-2944-4471-86c4-4d0af8a90ca7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"9000.00\",\"interest\":\"840.00\",\"tax\":\"134.40\",\"payback\":\"9974.40\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2019-08-21\",\"term_maximum\":6,\"created_at\":\"2019-08-02T00:34:16Z\"},{\"id\":\"44438117-63f3-4516-97c5-e168d0e8be32\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"2e272420-a4a4-44aa-838b-f2418d63865c\",\"proxy_merchant_token\":\"6b574148-2944-4471-86c4-4d0af8a90ca7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"6400.00\",\"interest\":\"630.00\",\"tax\":\"100.80\",\"payback\":\"7130.80\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2019-08-21\",\"term_maximum\":6,\"created_at\":\"2019-08-02T00:34:16Z\"},{\"id\":\"afcb0520-0184-4c46-b21b-050cb569d09f\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"2e272420-a4a4-44aa-838b-f2418d63865c\",\"proxy_merchant_token\":\"6b574148-2944-4471-86c4-4d0af8a90ca7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7700.00\",\"interest\":\"740.00\",\"tax\":\"118.40\",\"payback\":\"8558.40\",\"retention_rate\":\"12.0000\",\"expiration_date\":\"2019-08-21\",\"term_maximum\":6,\"created_at\":\"2019-08-02T00:34:16Z\"}]"}	1588792594640
EVENTS	1588792595869	{"@timestamp":"2020-05-06T19:16:34.803Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f9a0ec32-37d7-4773-b0ce-0e4179efa6bb and profile ADMIN."}	1588792594804
EVENTS	1588792600865	{"@timestamp":"2020-05-06T19:16:40.560Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e964a823-2486-4826-b4c6-0e0597df3b08 and profile ADMIN."}	1588792600561
EVENTS	1588792605865	{"@timestamp":"2020-05-06T19:16:42.849Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 2494c19a-f54e-4726-b149-8c9cd020e5ed and profile ADMIN."}	1588792602850
EVENTS	1588792610869	{"@timestamp":"2020-05-06T19:16:49.846Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 60642183-10b2-42e9-bf30-0c6fa21827ba "}	1588792609846
EVENTS	1588792610869	{"@timestamp":"2020-05-06T19:16:49.846Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 60642183-10b2-42e9-bf30-0c6fa21827ba"}	1588792609847
EVENTS	1588792610869	{"@timestamp":"2020-05-06T19:16:49.848Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 60642183-10b2-42e9-bf30-0c6fa21827ba: []"}	1588792609848
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.308Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token ff008abb-fb2c-40ae-9c85-f2dc867c34a2 "}	1588792621308
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.309Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token ff008abb-fb2c-40ae-9c85-f2dc867c34a2"}	1588792621309
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.312Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token ff008abb-fb2c-40ae-9c85-f2dc867c34a2"}	1588792621313
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.316Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'ff008abb-fb2c-40ae-9c85-f2dc867c34a2' and pre-approval: '15c5059e-17e5-413f-b7f1-24e1d84319d7'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792621316
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.371Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621373
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.372Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621373
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.373Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token ff008abb-fb2c-40ae-9c85-f2dc867c34a2"}	1588792621373
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.375Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'ff008abb-fb2c-40ae-9c85-f2dc867c34a2' and pre-approval: '7701dac1-df4b-4474-b4bf-5cf9287476f0'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792621376
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.409Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621409
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.410Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621410
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.410Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token ff008abb-fb2c-40ae-9c85-f2dc867c34a2"}	1588792621411
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.412Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'ff008abb-fb2c-40ae-9c85-f2dc867c34a2' and pre-approval: 'c607d87f-f988-4bd1-9b4d-856a72f5431a'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792621413
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.475Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621477
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.482Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621484
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.485Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token ff008abb-fb2c-40ae-9c85-f2dc867c34a2"}	1588792621486
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.491Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'ff008abb-fb2c-40ae-9c85-f2dc867c34a2' and pre-approval: '39b65837-14fc-4b26-8d5e-3a76e9ef0f29'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792621494
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.543Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621545
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.544Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621545
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.545Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token ff008abb-fb2c-40ae-9c85-f2dc867c34a2"}	1588792621545
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.554Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'ff008abb-fb2c-40ae-9c85-f2dc867c34a2' and pre-approval: '4ab599b1-638a-4b38-9f15-15e605113bdb'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792621555
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.590Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621592
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.591Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621592
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.592Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token ff008abb-fb2c-40ae-9c85-f2dc867c34a2"}	1588792621592
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.594Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'ff008abb-fb2c-40ae-9c85-f2dc867c34a2' and pre-approval: '9cde2d7c-255d-4ab0-882b-5c9dd71b79a2'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792621594
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.641Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621642
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.671Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792621672
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:01.672Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token ff008abb-fb2c-40ae-9c85-f2dc867c34a2: [{\"id\":\"15c5059e-17e5-413f-b7f1-24e1d84319d7\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"ff008abb-fb2c-40ae-9c85-f2dc867c34a2\",\"proxy_merchant_token\":\"2d9ffac8-6338-4bc9-b059-f39fae6f68c1\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"2180.00\",\"interest\":\"218.00\",\"tax\":\"34.88\",\"payback\":\"2432.88\",\"retention_rate\":\"3.3399\",\"expiration_date\":\"2020-05-13\",\"term_maximum\":1,\"created_at\":\"2020-04-28T15:02:47Z\"},{\"id\":\"7701dac1-df4b-4474-b4bf-5cf9287476f0\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"ff008abb-fb2c-40ae-9c85-f2dc867c34a2\",\"proxy_merchant_token\":\"2d9ffac8-6338-4bc9-b059-f39fae6f68c1\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"3050.00\",\"interest\":\"305.00\",\"tax\":\"48.80\",\"payback\":\"3403.80\",\"retention_rate\":\"4.6729\",\"expiration_date\":\"2020-05-13\",\"term_maximum\":1,\"created_at\":\"2020-04-28T15:02:47Z\"},{\"id\":\"c607d87f-f988-4bd1-9b4d-856a72f5431a\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"ff008abb-fb2c-40ae-9c85-f2dc867c34a2\",\"proxy_merchant_token\":\"2d9ffac8-6338-4bc9-b059-f39fae6f68c1\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"4370.00\",\"interest\":\"437.00\",\"tax\":\"69.92\",\"payback\":\"4876.92\",\"retention_rate\":\"6.6952\",\"expiration_date\":\"2020-05-13\",\"term_maximum\":1,\"created_at\":\"2020-04-28T15:02:47Z\"},{\"id\":\"39b65837-14fc-4b26-8d5e-3a76e9ef0f29\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"ff008abb-fb2c-40ae-9c85-f2dc867c34a2\",\"proxy_merchant_token\":\"2d9ffac8-6338-4bc9-b059-f39fae6f68c1\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3050.00\",\"interest\":\"305.00\",\"tax\":\"48.80\",\"payback\":\"3403.80\",\"retention_rate\":\"4.6729\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:21:00Z\"},{\"id\":\"4ab599b1-638a-4b38-9f15-15e605113bdb\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"ff008abb-fb2c-40ae-9c85-f2dc867c34a2\",\"proxy_merchant_token\":\"2d9ffac8-6338-4bc9-b059-f39fae6f68c1\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"4370.00\",\"interest\":\"437.00\",\"tax\":\"69.92\",\"payback\":\"4876.92\",\"retention_rate\":\"6.6952\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:21:00Z\"},{\"id\":\"9cde2d7c-255d-4ab0-882b-5c9dd71b79a2\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"ff008abb-fb2c-40ae-9c85-f2dc867c34a2\",\"proxy_merchant_token\":\"2d9ffac8-6338-4bc9-b059-f39fae6f68c1\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"2180.00\",\"interest\":\"218.00\",\"tax\":\"34.88\",\"payback\":\"2432.88\",\"retention_rate\":\"3.3399\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:21:00Z\"}]"}	1588792621675
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.303Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 78f5e73f-bcf1-443b-8ab6-a06e88bf51c3 "}	1588792625303
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.303Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 78f5e73f-bcf1-443b-8ab6-a06e88bf51c3"}	1588792625304
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.305Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 78f5e73f-bcf1-443b-8ab6-a06e88bf51c3"}	1588792625305
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.306Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '78f5e73f-bcf1-443b-8ab6-a06e88bf51c3' and pre-approval: '0ed55f93-6a31-498c-9247-b70f3123452a'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792625307
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.397Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792625398
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.398Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792625399
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.399Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 78f5e73f-bcf1-443b-8ab6-a06e88bf51c3"}	1588792625399
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.401Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '78f5e73f-bcf1-443b-8ab6-a06e88bf51c3' and pre-approval: '463fcd51-1a1c-4fef-8225-a4322355a151'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792625401
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.448Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792625448
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.449Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792625449
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.450Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 78f5e73f-bcf1-443b-8ab6-a06e88bf51c3"}	1588792625450
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.452Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '78f5e73f-bcf1-443b-8ab6-a06e88bf51c3' and pre-approval: 'f303a563-ebc2-4a94-bd77-e8f2a34ce34e'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792625452
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.497Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792625498
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.498Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792625498
EVENTS	1588792625876	{"@timestamp":"2020-05-06T19:17:05.499Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 78f5e73f-bcf1-443b-8ab6-a06e88bf51c3: [{\"id\":\"0ed55f93-6a31-498c-9247-b70f3123452a\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"78f5e73f-bcf1-443b-8ab6-a06e88bf51c3\",\"proxy_merchant_token\":\"4183abf7-eb22-4bf8-b3d4-e9e437c0e502\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"8000.00\",\"interest\":\"980.00\",\"tax\":\"156.80\",\"payback\":\"9136.80\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":5,\"created_at\":\"2019-11-29T00:04:59Z\"},{\"id\":\"463fcd51-1a1c-4fef-8225-a4322355a151\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"78f5e73f-bcf1-443b-8ab6-a06e88bf51c3\",\"proxy_merchant_token\":\"4183abf7-eb22-4bf8-b3d4-e9e437c0e502\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5700.00\",\"interest\":\"710.00\",\"tax\":\"113.60\",\"payback\":\"6523.60\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":5,\"created_at\":\"2019-11-29T00:04:59Z\"},{\"id\":\"f303a563-ebc2-4a94-bd77-e8f2a34ce34e\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"78f5e73f-bcf1-443b-8ab6-a06e88bf51c3\",\"proxy_merchant_token\":\"4183abf7-eb22-4bf8-b3d4-e9e437c0e502\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10300.00\",\"interest\":\"1240.00\",\"tax\":\"198.40\",\"payback\":\"11738.40\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":5,\"created_at\":\"2019-11-29T00:04:59Z\"}]"}	1588792625501
EVENTS	1588792630869	{"@timestamp":"2020-05-06T19:17:05.919Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e964a823-2486-4826-b4c6-0e0597df3b08 and profile ADMIN."}	1588792625919
EVENTS	1588792670871	{"@timestamp":"2020-05-06T19:17:46.286Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f2e257f1-cf14-4dfe-a3d7-980b6c2fbe09 and profile ADMIN."}	1588792666290
EVENTS	1588792675869	{"@timestamp":"2020-05-06T19:17:51.160Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken cd92ee95-dfed-41af-a281-6d982e70643f and profile ADMIN."}	1588792671160
EVENTS	1588792695871	{"@timestamp":"2020-05-06T19:18:11.881Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 880e7992-ee99-4727-95ea-65640b39533d and profile ADMIN."}	1588792691881
EVENTS	1588792710872	{"@timestamp":"2020-05-06T19:18:27.275Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b848bdad-466e-45eb-9434-6cd564a86f97 and profile ADMIN."}	1588792707276
EVENTS	1588792715869	{"@timestamp":"2020-05-06T19:18:33.968Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 8fe5b586-e520-42b7-9bc1-21075b4f7cf9 and profile ADMIN."}	1588792713969
EVENTS	1588792720869	{"@timestamp":"2020-05-06T19:18:37.385Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 09067cb1-d838-4d6b-8cfd-6700df05471f and profile ADMIN."}	1588792717386
EVENTS	1588792730871	{"@timestamp":"2020-05-06T19:18:48.498Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 12a25d3e-558f-4ff1-8d61-3d834cda309f and profile ADMIN."}	1588792728499
EVENTS	1588792745869	{"@timestamp":"2020-05-06T19:19:03.915Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 8ea25bba-10ac-4f54-b402-42145d5f9ec5 and profile ADMIN."}	1588792743916
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.279Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1a3efe99-245b-4f77-882f-e9072df2e5d3 and profile ADMIN."}	1588792759279
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.662Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 2cdfab54-edaf-499f-a039-e2e4e97b3c1e "}	1588792759663
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.663Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 2cdfab54-edaf-499f-a039-e2e4e97b3c1e"}	1588792759663
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.664Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2cdfab54-edaf-499f-a039-e2e4e97b3c1e"}	1588792759664
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.665Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2cdfab54-edaf-499f-a039-e2e4e97b3c1e' and pre-approval: '5a27b21c-9530-46d3-9d7f-ec84ea40fcf1'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792759666
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.729Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759730
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.730Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759730
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.731Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2cdfab54-edaf-499f-a039-e2e4e97b3c1e"}	1588792759731
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.732Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2cdfab54-edaf-499f-a039-e2e4e97b3c1e' and pre-approval: '7d11e975-6ee9-489c-b722-5b28fa12ac5d'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792759733
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.838Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759838
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.839Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759839
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.839Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2cdfab54-edaf-499f-a039-e2e4e97b3c1e"}	1588792759840
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.841Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2cdfab54-edaf-499f-a039-e2e4e97b3c1e' and pre-approval: '97e62424-6319-4b4c-90bb-f0bb0ff3c142'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792759841
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.887Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759887
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.887Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759888
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.888Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2cdfab54-edaf-499f-a039-e2e4e97b3c1e"}	1588792759888
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.889Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2cdfab54-edaf-499f-a039-e2e4e97b3c1e' and pre-approval: '3383b4e7-54e5-4fc9-8f6d-38a9824d184e'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792759890
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.930Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759931
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.931Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759931
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.932Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2cdfab54-edaf-499f-a039-e2e4e97b3c1e"}	1588792759932
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.933Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2cdfab54-edaf-499f-a039-e2e4e97b3c1e' and pre-approval: '52c29f4f-aa4f-48e5-8487-8f9b6832a3ce'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792759934
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.982Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759982
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.983Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792759983
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.983Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2cdfab54-edaf-499f-a039-e2e4e97b3c1e"}	1588792759984
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:19.985Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2cdfab54-edaf-499f-a039-e2e4e97b3c1e' and pre-approval: 'b7232c92-36fe-4722-b773-e09f0333e223'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792759985
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:20.030Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792760030
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:20.031Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792760031
EVENTS	1588792760872	{"@timestamp":"2020-05-06T19:19:20.031Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 2cdfab54-edaf-499f-a039-e2e4e97b3c1e: [{\"id\":\"5a27b21c-9530-46d3-9d7f-ec84ea40fcf1\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"2cdfab54-edaf-499f-a039-e2e4e97b3c1e\",\"proxy_merchant_token\":\"9a8508cc-4b7b-42c4-b3eb-19f4eacaeb72\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"550.00\",\"interest\":\"55.00\",\"tax\":\"8.80\",\"payback\":\"613.80\",\"retention_rate\":\"5.0270\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:13:26Z\"},{\"id\":\"7d11e975-6ee9-489c-b722-5b28fa12ac5d\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"2cdfab54-edaf-499f-a039-e2e4e97b3c1e\",\"proxy_merchant_token\":\"9a8508cc-4b7b-42c4-b3eb-19f4eacaeb72\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"770.00\",\"interest\":\"77.00\",\"tax\":\"12.32\",\"payback\":\"859.32\",\"retention_rate\":\"7.0378\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:13:26Z\"},{\"id\":\"97e62424-6319-4b4c-90bb-f0bb0ff3c142\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"2cdfab54-edaf-499f-a039-e2e4e97b3c1e\",\"proxy_merchant_token\":\"9a8508cc-4b7b-42c4-b3eb-19f4eacaeb72\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"1110.00\",\"interest\":\"111.00\",\"tax\":\"17.76\",\"payback\":\"1238.76\",\"retention_rate\":\"10.1455\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:13:26Z\"},{\"id\":\"3383b4e7-54e5-4fc9-8f6d-38a9824d184e\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"2cdfab54-edaf-499f-a039-e2e4e97b3c1e\",\"proxy_merchant_token\":\"9a8508cc-4b7b-42c4-b3eb-19f4eacaeb72\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"1110.00\",\"interest\":\"111.00\",\"tax\":\"17.76\",\"payback\":\"1238.76\",\"retention_rate\":\"10.1455\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:30:43Z\"},{\"id\":\"52c29f4f-aa4f-48e5-8487-8f9b6832a3ce\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"2cdfab54-edaf-499f-a039-e2e4e97b3c1e\",\"proxy_merchant_token\":\"9a8508cc-4b7b-42c4-b3eb-19f4eacaeb72\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"770.00\",\"interest\":\"77.00\",\"tax\":\"12.32\",\"payback\":\"859.32\",\"retention_rate\":\"7.0378\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:30:43Z\"},{\"id\":\"b7232c92-36fe-4722-b773-e09f0333e223\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"2cdfab54-edaf-499f-a039-e2e4e97b3c1e\",\"proxy_merchant_token\":\"9a8508cc-4b7b-42c4-b3eb-19f4eacaeb72\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"550.00\",\"interest\":\"55.00\",\"tax\":\"8.80\",\"payback\":\"613.80\",\"retention_rate\":\"5.0270\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:30:43Z\"}]"}	1588792760035
EVENTS	1588792770869	{"@timestamp":"2020-05-06T19:19:28.851Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 27b28066-2c99-442c-bac9-46eeda9b7e3c and profile ADMIN."}	1588792768854
EVENTS	1588792770869	{"@timestamp":"2020-05-06T19:19:30.245Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6279c818-0878-4a74-8d4a-82fea8461b6a "}	1588792770245
EVENTS	1588792770869	{"@timestamp":"2020-05-06T19:19:30.245Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6279c818-0878-4a74-8d4a-82fea8461b6a"}	1588792770246
EVENTS	1588792770869	{"@timestamp":"2020-05-06T19:19:30.246Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6279c818-0878-4a74-8d4a-82fea8461b6a: []"}	1588792770247
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.060Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a91c184d-854f-45e0-8ebd-b0c752b404ec and profile ADMIN."}	1588792791060
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.110Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 9f920a29-8d6f-470e-bd7d-c124cbb24186 "}	1588792791110
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.110Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 9f920a29-8d6f-470e-bd7d-c124cbb24186"}	1588792791111
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.112Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9f920a29-8d6f-470e-bd7d-c124cbb24186"}	1588792791112
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.113Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9f920a29-8d6f-470e-bd7d-c124cbb24186' and pre-approval: '64d85356-4497-4e3b-abfd-79543cc661b1'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792791114
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.183Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791184
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.184Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791184
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.185Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9f920a29-8d6f-470e-bd7d-c124cbb24186"}	1588792791185
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.193Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9f920a29-8d6f-470e-bd7d-c124cbb24186' and pre-approval: '9722e934-ee86-4dcf-a404-79bc75b14e6b'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792791194
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.312Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791313
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.313Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791314
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.314Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9f920a29-8d6f-470e-bd7d-c124cbb24186"}	1588792791315
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.316Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9f920a29-8d6f-470e-bd7d-c124cbb24186' and pre-approval: 'eb8bc588-f716-45c7-b9aa-ab263c9d63cf'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792791316
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.370Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791371
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.371Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791372
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.372Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9f920a29-8d6f-470e-bd7d-c124cbb24186"}	1588792791372
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.373Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9f920a29-8d6f-470e-bd7d-c124cbb24186' and pre-approval: '999bf703-1db8-4a7b-844f-58e2a7dfa67e'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792791374
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.407Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791408
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.408Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791409
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.409Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9f920a29-8d6f-470e-bd7d-c124cbb24186"}	1588792791410
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.411Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9f920a29-8d6f-470e-bd7d-c124cbb24186' and pre-approval: 'ac2f51a6-f614-4c12-8dec-e165803e806a'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792791412
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.447Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791447
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.448Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791448
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.448Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9f920a29-8d6f-470e-bd7d-c124cbb24186"}	1588792791448
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.450Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9f920a29-8d6f-470e-bd7d-c124cbb24186' and pre-approval: 'fc79e251-570c-4f6f-af7f-ccd75d62d7df'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588792791450
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.482Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791483
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.483Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588792791484
EVENTS	1588792795873	{"@timestamp":"2020-05-06T19:19:51.484Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 9f920a29-8d6f-470e-bd7d-c124cbb24186: [{\"id\":\"64d85356-4497-4e3b-abfd-79543cc661b1\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"9f920a29-8d6f-470e-bd7d-c124cbb24186\",\"proxy_merchant_token\":\"c497d9aa-b1c8-401b-8cd3-592a9183561e\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"7280.00\",\"interest\":\"728.00\",\"tax\":\"116.48\",\"payback\":\"8124.48\",\"retention_rate\":\"10.1455\",\"expiration_date\":\"2020-05-13\",\"term_maximum\":1,\"created_at\":\"2020-04-28T15:08:03Z\"},{\"id\":\"9722e934-ee86-4dcf-a404-79bc75b14e6b\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"9f920a29-8d6f-470e-bd7d-c124cbb24186\",\"proxy_merchant_token\":\"c497d9aa-b1c8-401b-8cd3-592a9183561e\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"3640.00\",\"interest\":\"364.00\",\"tax\":\"58.24\",\"payback\":\"4062.24\",\"retention_rate\":\"5.0727\",\"expiration_date\":\"2020-05-13\",\"term_maximum\":1,\"created_at\":\"2020-04-28T15:08:03Z\"},{\"id\":\"eb8bc588-f716-45c7-b9aa-ab263c9d63cf\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"9f920a29-8d6f-470e-bd7d-c124cbb24186\",\"proxy_merchant_token\":\"c497d9aa-b1c8-401b-8cd3-592a9183561e\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"5090.00\",\"interest\":\"509.00\",\"tax\":\"81.44\",\"payback\":\"5680.44\",\"retention_rate\":\"7.0935\",\"expiration_date\":\"2020-05-13\",\"term_maximum\":1,\"created_at\":\"2020-04-28T15:08:03Z\"},{\"id\":\"999bf703-1db8-4a7b-844f-58e2a7dfa67e\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"9f920a29-8d6f-470e-bd7d-c124cbb24186\",\"proxy_merchant_token\":\"c497d9aa-b1c8-401b-8cd3-592a9183561e\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5090.00\",\"interest\":\"509.00\",\"tax\":\"81.44\",\"payback\":\"5680.44\",\"retention_rate\":\"7.0935\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:10:51Z\"},{\"id\":\"ac2f51a6-f614-4c12-8dec-e165803e806a\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"9f920a29-8d6f-470e-bd7d-c124cbb24186\",\"proxy_merchant_token\":\"c497d9aa-b1c8-401b-8cd3-592a9183561e\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3640.00\",\"interest\":\"364.00\",\"tax\":\"58.24\",\"payback\":\"4062.24\",\"retention_rate\":\"5.0727\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:10:51Z\"},{\"id\":\"fc79e251-570c-4f6f-af7f-ccd75d62d7df\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"9f920a29-8d6f-470e-bd7d-c124cbb24186\",\"proxy_merchant_token\":\"c497d9aa-b1c8-401b-8cd3-592a9183561e\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7280.00\",\"interest\":\"728.00\",\"tax\":\"116.48\",\"payback\":\"8124.48\",\"retention_rate\":\"10.1455\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:10:51Z\"}]"}	1588792791489
EVENTS	1588792810870	{"@timestamp":"2020-05-06T19:20:07.078Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 6dabc13f-f840-463d-89a7-21c01298100e and profile ADMIN."}	1588792807079
EVENTS	1588792820869	{"@timestamp":"2020-05-06T19:20:16.291Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 699b7988-a688-4dbb-bafb-a495449ad981 and profile ADMIN."}	1588792816291
EVENTS	1588792825874	{"@timestamp":"2020-05-06T19:20:22.015Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ec53668d-556e-4e6e-a70c-7d488e328c99 and profile ADMIN."}	1588792822015
EVENTS	1588792825874	{"@timestamp":"2020-05-06T19:20:23.132Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token bb4dfd8d-7e7e-4a71-a6b0-d3c3fabcb571 "}	1588792823132
EVENTS	1588792825874	{"@timestamp":"2020-05-06T19:20:23.132Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token bb4dfd8d-7e7e-4a71-a6b0-d3c3fabcb571"}	1588792823132
EVENTS	1588792825874	{"@timestamp":"2020-05-06T19:20:23.134Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token bb4dfd8d-7e7e-4a71-a6b0-d3c3fabcb571: []"}	1588792823134
EVENTS	1588792830869	{"@timestamp":"2020-05-06T19:20:29.605Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1de0f633-4508-4635-9726-2455889a057d and profile ADMIN."}	1588792829606
EVENTS	1588792845872	{"@timestamp":"2020-05-06T19:20:41.581Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a8a058ed-77f9-4d2c-a8b3-f14193150c99 and profile ADMIN."}	1588792841582
EVENTS	1588792855869	{"@timestamp":"2020-05-06T19:20:55.742Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 01105887-b8ba-41d8-b6a0-c2d130f31090 and profile ADMIN."}	1588792855743
EVENTS	1588792870873	{"@timestamp":"2020-05-06T19:21:10.013Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 72273c17-8976-4742-b7ac-f93cc86c79dd and profile ADMIN."}	1588792870014
EVENTS	1588792900873	{"@timestamp":"2020-05-06T19:21:36.943Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 8583fdcc-8cc3-4a98-b8fb-142ef7829f56 and profile ADMIN."}	1588792896944
EVENTS	1588792905869	{"@timestamp":"2020-05-06T19:21:40.903Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a66247bf-62aa-4584-b6c7-a9ee7dc94953 and profile ADMIN."}	1588792900903
EVENTS	1588792915871	{"@timestamp":"2020-05-06T19:21:53.961Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 810b5ec7-fd70-423c-8575-a23ec7feac3b and profile ADMIN."}	1588792913962
EVENTS	1588792930873	{"@timestamp":"2020-05-06T19:22:07.799Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f5b49c9c-b147-4250-a57b-81d32dec0545 and profile ADMIN."}	1588792927802
EVENTS	1588792935868	{"@timestamp":"2020-05-06T19:22:14.498Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 810b5ec7-fd70-423c-8575-a23ec7feac3b and profile ADMIN."}	1588792934498
EVENTS	1588792965869	{"@timestamp":"2020-05-06T19:22:44.217Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e89ebea4-0668-410d-881e-1c68786af02a and profile ADMIN."}	1588792964218
EVENTS	1588792970870	{"@timestamp":"2020-05-06T19:22:47.512Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken fbb8c7bf-ec7c-43f4-ac1b-2e7c9de12e69 and profile ADMIN."}	1588792967512
EVENTS	1588792975868	{"@timestamp":"2020-05-06T19:22:54.234Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f9a0ec32-37d7-4773-b0ce-0e4179efa6bb and profile ADMIN."}	1588792974235
EVENTS	1588792985869	{"@timestamp":"2020-05-06T19:23:04.292Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3385e312-07df-4d05-98d9-e80c73fc4a54 and profile ADMIN."}	1588792984292
EVENTS	1588793000871	{"@timestamp":"2020-05-06T19:23:18.717Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e1aa2874-e0a7-45b9-9565-b7640348b804 and profile ADMIN."}	1588792998718
EVENTS	1588793010879	{"@timestamp":"2020-05-06T19:23:26.925Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f5874e40-3db3-4f94-b448-a36dbc9c00f8 and profile ADMIN."}	1588793006926
EVENTS	1588793045873	{"@timestamp":"2020-05-06T19:24:02.446Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 2249466c-20ee-4a55-9df2-e57be8987784 and profile ADMIN."}	1588793042446
EVENTS	1588793055873	{"@timestamp":"2020-05-06T19:24:13.049Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 8b53310d-bfb1-427a-9111-f76d51d4d280 and profile ADMIN."}	1588793053050
EVENTS	1588793065873	{"@timestamp":"2020-05-06T19:24:21.835Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6c3f24b4-bbb2-4db2-992e-ae72decf1632 "}	1588793061835
EVENTS	1588793065873	{"@timestamp":"2020-05-06T19:24:21.835Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6c3f24b4-bbb2-4db2-992e-ae72decf1632"}	1588793061836
EVENTS	1588793065873	{"@timestamp":"2020-05-06T19:24:21.837Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6c3f24b4-bbb2-4db2-992e-ae72decf1632: []"}	1588793061837
EVENTS	1588793065873	{"@timestamp":"2020-05-06T19:24:23.268Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 43970b24-bbc5-461a-9324-040f033b81bc "}	1588793063269
EVENTS	1588793065873	{"@timestamp":"2020-05-06T19:24:23.269Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 43970b24-bbc5-461a-9324-040f033b81bc"}	1588793063269
EVENTS	1588793065873	{"@timestamp":"2020-05-06T19:24:23.271Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 43970b24-bbc5-461a-9324-040f033b81bc: []"}	1588793063271
EVENTS	1588793070870	{"@timestamp":"2020-05-06T19:24:29.618Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b33d92bd-f75d-4a6f-8759-b784218a54ca and profile ADMIN."}	1588793069618
EVENTS	1588793080870	{"@timestamp":"2020-05-06T19:24:38.453Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 4dd0a601-fb7c-461b-9fc8-52a62163a5e2 and profile ADMIN."}	1588793078454
EVENTS	1588793100868	{"@timestamp":"2020-05-06T19:24:56.439Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e1aa2874-e0a7-45b9-9565-b7640348b804 and profile ADMIN."}	1588793096439
EVENTS	1588793110873	{"@timestamp":"2020-05-06T19:25:08.009Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f758e3d4-2e3b-4bba-be4d-88c3a1f8969d and profile ADMIN."}	1588793108009
EVENTS	1588793110873	{"@timestamp":"2020-05-06T19:25:09.756Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token b10bddb3-3085-4fcd-9905-522f8ec60768 "}	1588793109756
EVENTS	1588793110873	{"@timestamp":"2020-05-06T19:25:09.756Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token b10bddb3-3085-4fcd-9905-522f8ec60768"}	1588793109757
EVENTS	1588793110873	{"@timestamp":"2020-05-06T19:25:09.758Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token b10bddb3-3085-4fcd-9905-522f8ec60768: []"}	1588793109758
EVENTS	1588793115865	{"@timestamp":"2020-05-06T19:25:13.512Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 2cfbaeb0-d185-435e-8f21-cb4af859e4f3 and profile ADMIN."}	1588793113514
EVENTS	1588793130873	{"@timestamp":"2020-05-06T19:25:26.603Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 177e523a-848f-4667-84fa-79ec761676e8 and profile ADMIN."}	1588793126604
EVENTS	1588793135871	{"@timestamp":"2020-05-06T19:25:33.344Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken bbc48ff2-7936-4322-8343-af5492f3f70f and profile ADMIN."}	1588793133344
EVENTS	1588793145869	{"@timestamp":"2020-05-06T19:25:42.687Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken cdeb2aae-f52c-4ba1-ab92-d54b0a574e58 and profile ADMIN."}	1588793142687
EVENTS	1588793150872	{"@timestamp":"2020-05-06T19:25:49.595Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 4175b4c1-ce63-40bd-a50a-5af0d684ddd2 and profile CASHIER."}	1588793149596
EVENTS	1588793165872	{"@timestamp":"2020-05-06T19:26:05.197Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 11c3a320-88ae-434a-b984-f55e63bb3182 "}	1588793165197
EVENTS	1588793165872	{"@timestamp":"2020-05-06T19:26:05.198Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 11c3a320-88ae-434a-b984-f55e63bb3182"}	1588793165198
EVENTS	1588793165872	{"@timestamp":"2020-05-06T19:26:05.199Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 11c3a320-88ae-434a-b984-f55e63bb3182: []"}	1588793165199
EVENTS	1588793170870	{"@timestamp":"2020-05-06T19:26:08.086Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 5bc0026a-21a3-4ea1-9e02-8bae31ee9ea0 and profile ADMIN."}	1588793168087
EVENTS	1588793185874	{"@timestamp":"2020-05-06T19:26:22.812Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 7d696605-7cb9-4d91-a16b-5db0abec0079 and profile ADMIN."}	1588793182812
EVENTS	1588793185874	{"@timestamp":"2020-05-06T19:26:23.978Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b21a2793-2386-4fc8-8303-9f6bf8ef1e45 and profile ADMIN."}	1588793183979
EVENTS	1588793190873	{"@timestamp":"2020-05-06T19:26:30.136Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e170e25d-26c1-49ef-998e-472386685627 and profile ADMIN."}	1588793190137
EVENTS	1588793205869	{"@timestamp":"2020-05-06T19:26:42.672Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllLoansByMerchantToken","file":"LoansController.java","line":156,"message":"getAllLoansByMerchantToken for merchantToken 65539e86-5b7e-4388-878e-c1c598d6f1f5."}	1588793202672
EVENTS	1588793205869	{"@timestamp":"2020-05-06T19:26:42.672Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoansByMerchantToken","file":"LoansDaoImpl.java","line":190,"message":"invoking sql query to find loans by merchant token 65539e86-5b7e-4388-878e-c1c598d6f1f5"}	1588793202673
EVENTS	1588793235872	{"@timestamp":"2020-05-06T19:27:11.418Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a99b49ae-d82d-4bee-900c-fecd03c9d97f and profile ADMIN."}	1588793231418
EVENTS	1588793245870	{"@timestamp":"2020-05-06T19:27:22.286Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 96970394-740c-4a26-b500-927d428842f1 and profile ADMIN."}	1588793242286
EVENTS	1588793265873	{"@timestamp":"2020-05-06T19:27:41.318Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a77eff16-7fe5-4743-8963-b7e25dda404c and profile ADMIN."}	1588793261319
EVENTS	1588793265873	{"@timestamp":"2020-05-06T19:27:44.982Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 758108fd-5dc9-4253-864a-6f6be7a85a69 and profile ADMIN."}	1588793264983
EVENTS	1588793275869	{"@timestamp":"2020-05-06T19:27:55.120Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken dae1111d-2e2e-4857-b717-8c64cea9e7f6 and profile ADMIN."}	1588793275120
EVENTS	1588793280872	{"@timestamp":"2020-05-06T19:27:57.141Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 27b28066-2c99-442c-bac9-46eeda9b7e3c and profile ADMIN."}	1588793277143
EVENTS	1588793290872	{"@timestamp":"2020-05-06T19:28:09.681Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 7b088d0c-82ee-4cad-83ee-770b9e280223 and profile ADMIN."}	1588793289682
EVENTS	1588793300869	{"@timestamp":"2020-05-06T19:28:18.035Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f758e3d4-2e3b-4bba-be4d-88c3a1f8969d and profile ADMIN."}	1588793298036
EVENTS	1588793305874	{"@timestamp":"2020-05-06T19:28:21.724Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f4d694f6-8d1a-4a90-b01f-bb012d940062 and profile ADMIN."}	1588793301724
EVENTS	1588793330872	{"@timestamp":"2020-05-06T19:28:49.851Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a8d46027-c01b-417b-960a-e1d08c5e488b and profile ADMIN."}	1588793329851
EVENTS	1588793340869	{"@timestamp":"2020-05-06T19:28:58.470Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d3c715fe-3b16-4163-9c71-41643e360f2c and profile ADMIN."}	1588793338470
EVENTS	1588793360871	{"@timestamp":"2020-05-06T19:29:15.941Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 53d06949-21a4-47c6-8f72-62f90bb7eb4f and profile ADMIN."}	1588793355942
EVENTS	1588793385872	{"@timestamp":"2020-05-06T19:29:43.653Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 219ef443-ae51-468c-9054-6811d523c7fd "}	1588793383653
EVENTS	1588793385872	{"@timestamp":"2020-05-06T19:29:43.653Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 219ef443-ae51-468c-9054-6811d523c7fd"}	1588793383653
EVENTS	1588793385872	{"@timestamp":"2020-05-06T19:29:43.655Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 219ef443-ae51-468c-9054-6811d523c7fd: []"}	1588793383655
EVENTS	1588793390869	{"@timestamp":"2020-05-06T19:29:49.690Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f5ba9055-3219-47d8-a8c2-8b3743c3a5f6 and profile ADMIN."}	1588793389691
EVENTS	1588793400868	{"@timestamp":"2020-05-06T19:29:56.474Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 80ecbe84-e6bf-409c-9013-6b1dfa8c19e7 and profile ADMIN."}	1588793396474
EVENTS	1588793405870	{"@timestamp":"2020-05-06T19:30:03.097Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 0d258084-0650-473a-8884-bbadd050ee11 and profile ADMIN."}	1588793403098
EVENTS	1588793405870	{"@timestamp":"2020-05-06T19:30:05.197Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 0451e800-7291-4801-b443-ecf3d8be81df and profile ADMIN."}	1588793405198
EVENTS	1588793415872	{"@timestamp":"2020-05-06T19:30:12.794Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 7d696605-7cb9-4d91-a16b-5db0abec0079 and profile ADMIN."}	1588793412795
EVENTS	1588793415872	{"@timestamp":"2020-05-06T19:30:15.795Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 19e8a2d0-5e69-4dbe-8323-1d0286205a92 and profile ADMIN."}	1588793415796
EVENTS	1588793430873	{"@timestamp":"2020-05-06T19:30:25.994Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 51ef63be-27bf-4800-bf20-6fe9674fa2c3 and profile ADMIN."}	1588793425999
EVENTS	1588793430873	{"@timestamp":"2020-05-06T19:30:29.196Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token d7939e3f-06d1-40c0-a9d2-bd240dda347b "}	1588793429197
EVENTS	1588793430873	{"@timestamp":"2020-05-06T19:30:29.197Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token d7939e3f-06d1-40c0-a9d2-bd240dda347b"}	1588793429197
EVENTS	1588793430873	{"@timestamp":"2020-05-06T19:30:29.199Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d7939e3f-06d1-40c0-a9d2-bd240dda347b: []"}	1588793429199
EVENTS	1588793430873	{"@timestamp":"2020-05-06T19:30:29.689Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 76532958-b2e7-4e07-9510-75ed660b939a and profile ADMIN."}	1588793429690
EVENTS	1588793445872	{"@timestamp":"2020-05-06T19:30:41.300Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken bd1fa398-b577-45ff-97b6-9d50af7179a2 and profile ADMIN."}	1588793441300
EVENTS	1588793450871	{"@timestamp":"2020-05-06T19:30:50.758Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d9a1e6bd-36bd-4cb6-a6a1-1a72a0141b19 and profile ADMIN."}	1588793450759
EVENTS	1588793470873	{"@timestamp":"2020-05-06T19:31:07.771Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken afde0d03-2da2-47a7-89dc-a1e5c44646ee and profile ADMIN."}	1588793467772
EVENTS	1588793480874	{"@timestamp":"2020-05-06T19:31:19.845Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 8b53310d-bfb1-427a-9111-f76d51d4d280 and profile ADMIN."}	1588793479846
EVENTS	1588793505875	{"@timestamp":"2020-05-06T19:31:40.902Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 2913d38c-6be4-43ab-8825-b06d92d8e3a7 and profile ADMIN."}	1588793500903
EVENTS	1588793520870	{"@timestamp":"2020-05-06T19:31:55.975Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 49cc327e-5e77-48c3-9890-851c04fcb9f7 "}	1588793515976
EVENTS	1588793520870	{"@timestamp":"2020-05-06T19:31:55.976Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 49cc327e-5e77-48c3-9890-851c04fcb9f7"}	1588793515977
EVENTS	1588793520870	{"@timestamp":"2020-05-06T19:31:55.978Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 49cc327e-5e77-48c3-9890-851c04fcb9f7: []"}	1588793515978
EVENTS	1588793525873	{"@timestamp":"2020-05-06T19:32:03.949Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c5d46a41-065d-475c-b479-d17639c55024 and profile ADMIN."}	1588793523950
EVENTS	1588793535874	{"@timestamp":"2020-05-06T19:32:14.223Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 10cc7e7f-6795-404b-be28-758c5067cd60 and profile ADMIN."}	1588793534224
EVENTS	1588793560873	{"@timestamp":"2020-05-06T19:32:38.566Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ac7d9869-28d2-4f20-9718-32119bde689b and profile ADMIN."}	1588793558566
EVENTS	1588793565871	{"@timestamp":"2020-05-06T19:32:44.819Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 106c517e-1129-4fc8-9381-3049d41290d8 and profile ADMIN."}	1588793564820
EVENTS	1588793575873	{"@timestamp":"2020-05-06T19:32:52.336Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 06b1c50c-d0f6-4165-8c30-b22d59b3f90b and profile CASHIER."}	1588793572337
EVENTS	1588793590875	{"@timestamp":"2020-05-06T19:33:10.814Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 10cc7e7f-6795-404b-be28-758c5067cd60 and profile ADMIN."}	1588793590815
EVENTS	1588793610867	{"@timestamp":"2020-05-06T19:33:30.345Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 4141c2b8-16c1-40a3-bc93-dbb588cc86bc and profile ADMIN."}	1588793610346
EVENTS	1588793620875	{"@timestamp":"2020-05-06T19:33:39.159Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 7eb8cf67-ceaa-4967-829c-3e4446aa8767 "}	1588793619159
EVENTS	1588793620875	{"@timestamp":"2020-05-06T19:33:39.160Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 7eb8cf67-ceaa-4967-829c-3e4446aa8767"}	1588793619160
EVENTS	1588793620875	{"@timestamp":"2020-05-06T19:33:39.170Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 7eb8cf67-ceaa-4967-829c-3e4446aa8767: []"}	1588793619170
EVENTS	1588793625872	{"@timestamp":"2020-05-06T19:33:41.636Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 6a5a7618-cbc0-4080-85f6-f47fba0c7220 and profile ADMIN."}	1588793621637
EVENTS	1588793640871	{"@timestamp":"2020-05-06T19:33:58.142Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d60da23d-7ce7-4d39-9b52-bdf470c41463 and profile ADMIN."}	1588793638143
EVENTS	1588793660871	{"@timestamp":"2020-05-06T19:34:19.840Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 79cb5b54-01f2-4b9b-8983-b477a67c6175 and profile ADMIN."}	1588793659840
EVENTS	1588793665870	{"@timestamp":"2020-05-06T19:34:22.243Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 5bc0026a-21a3-4ea1-9e02-8bae31ee9ea0 and profile ADMIN."}	1588793662244
EVENTS	1588793665870	{"@timestamp":"2020-05-06T19:34:23.594Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d60da23d-7ce7-4d39-9b52-bdf470c41463 and profile ADMIN."}	1588793663595
EVENTS	1588793690874	{"@timestamp":"2020-05-06T19:34:46.393Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 2e2ebd07-15ad-434e-826e-975dbdf8f55e and profile ADMIN."}	1588793686394
EVENTS	1588793705875	{"@timestamp":"2020-05-06T19:35:05.473Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 045614f8-a06a-42e4-9c29-3bc14adf0aaf and profile CASHIER."}	1588793705474
EVENTS	1588793725867	{"@timestamp":"2020-05-06T19:35:21.147Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c1bf188b-ad1b-4f1c-9c42-0cb8c77de99d and profile ADMIN."}	1588793721148
EVENTS	1588793730872	{"@timestamp":"2020-05-06T19:35:29.341Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1f361698-4243-4322-b4ed-f416d49009f2 and profile ADMIN."}	1588793729341
EVENTS	1588793750875	{"@timestamp":"2020-05-06T19:35:49.774Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 881aef21-fe5b-48d1-a360-bb1409009a4e and profile CASHIER."}	1588793749775
EVENTS	1588793765871	{"@timestamp":"2020-05-06T19:36:05.844Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c79ce550-0c15-42a6-98de-3139613876c0 and profile ADMIN."}	1588793765845
EVENTS	1588793795868	{"@timestamp":"2020-05-06T19:36:33.305Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 067f5eac-558f-499f-8d28-289b3bc8e550 and profile ADMIN."}	1588793793305
EVENTS	1588793805866	{"@timestamp":"2020-05-06T19:36:43.136Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f758e3d4-2e3b-4bba-be4d-88c3a1f8969d and profile ADMIN."}	1588793803137
EVENTS	1588793840868	{"@timestamp":"2020-05-06T19:37:17.657Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 25f92465-1586-4890-a945-5468232fe719 and profile ADMIN."}	1588793837657
EVENTS	1588793885868	{"@timestamp":"2020-05-06T19:38:04.751Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 6ec41d24-27b9-4efd-a45f-bf373f8714a0 and profile ADMIN."}	1588793884755
EVENTS	1588793890866	{"@timestamp":"2020-05-06T19:38:10.765Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 87f49f0d-15da-4f61-a65f-adbca4d46334 and profile CASHIER."}	1588793890766
EVENTS	1588793895872	{"@timestamp":"2020-05-06T19:38:11.702Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token c64afe6a-c9b8-40f7-a6c5-a0650c5b98e9 "}	1588793891702
EVENTS	1588793895872	{"@timestamp":"2020-05-06T19:38:11.703Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token c64afe6a-c9b8-40f7-a6c5-a0650c5b98e9"}	1588793891703
EVENTS	1588793895872	{"@timestamp":"2020-05-06T19:38:11.703Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token c64afe6a-c9b8-40f7-a6c5-a0650c5b98e9: []"}	1588793891704
EVENTS	1588793915866	{"@timestamp":"2020-05-06T19:38:31.519Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f6ccdebe-ac75-41d0-a75f-6973df8657c9 and profile ADMIN."}	1588793911519
EVENTS	1588793920869	{"@timestamp":"2020-05-06T19:38:37.408Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 2052070e-a009-4032-b033-c3575b85bf7a and profile ADMIN."}	1588793917409
EVENTS	1588793930868	{"@timestamp":"2020-05-06T19:38:47.690Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 031f5451-eb62-41e1-b579-4ac77a59d963 and profile ADMIN."}	1588793927691
EVENTS	1588793955868	{"@timestamp":"2020-05-06T19:39:11.828Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b7952bb0-3b0d-4e42-85d9-d8ff47700c8d and profile ADMIN."}	1588793951829
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.027Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e2d036a3-85f0-4022-a0bf-4313d105ab2f and profile ADMIN."}	1588793958028
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.476Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token cf951ed1-c20a-4a62-8a84-7abde95999ff "}	1588793958476
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.476Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token cf951ed1-c20a-4a62-8a84-7abde95999ff"}	1588793958476
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.477Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cf951ed1-c20a-4a62-8a84-7abde95999ff"}	1588793958478
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.479Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cf951ed1-c20a-4a62-8a84-7abde95999ff' and pre-approval: '072fa39f-167c-4259-858a-fafa289c2f0d'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588793958479
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.540Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958541
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.541Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958541
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.542Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cf951ed1-c20a-4a62-8a84-7abde95999ff"}	1588793958542
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.543Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cf951ed1-c20a-4a62-8a84-7abde95999ff' and pre-approval: '5719a3b8-f968-414f-a650-fc0eb7d7a773'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588793958544
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.617Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958618
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.618Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958618
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.618Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cf951ed1-c20a-4a62-8a84-7abde95999ff"}	1588793958619
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.623Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cf951ed1-c20a-4a62-8a84-7abde95999ff' and pre-approval: '5c686cf5-c584-4eb2-960d-86591951d118'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588793958623
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.659Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958660
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.660Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958660
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.660Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cf951ed1-c20a-4a62-8a84-7abde95999ff"}	1588793958661
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.662Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cf951ed1-c20a-4a62-8a84-7abde95999ff' and pre-approval: '5a7b068e-78bd-4372-a82c-7b0fe328023b'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588793958662
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.698Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958698
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.698Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958699
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.699Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cf951ed1-c20a-4a62-8a84-7abde95999ff"}	1588793958699
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.701Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cf951ed1-c20a-4a62-8a84-7abde95999ff' and pre-approval: 'b7739d30-cc48-4c88-89f2-8aa2ecac1602'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588793958701
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.738Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958739
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.739Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958739
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.739Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cf951ed1-c20a-4a62-8a84-7abde95999ff"}	1588793958740
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.741Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cf951ed1-c20a-4a62-8a84-7abde95999ff' and pre-approval: 'c193f89b-5630-4946-af26-0161f1b33ce4'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588793958741
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.787Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958787
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.787Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588793958788
EVENTS	1588793960870	{"@timestamp":"2020-05-06T19:39:18.788Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token cf951ed1-c20a-4a62-8a84-7abde95999ff: [{\"id\":\"072fa39f-167c-4259-858a-fafa289c2f0d\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"cf951ed1-c20a-4a62-8a84-7abde95999ff\",\"proxy_merchant_token\":\"f4e1bcb0-0f25-4a89-b394-0946810decdd\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"7000.00\",\"interest\":\"700.00\",\"tax\":\"112.00\",\"payback\":\"7812.00\",\"retention_rate\":\"3.1247\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:04:06Z\"},{\"id\":\"5719a3b8-f968-414f-a650-fc0eb7d7a773\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"cf951ed1-c20a-4a62-8a84-7abde95999ff\",\"proxy_merchant_token\":\"f4e1bcb0-0f25-4a89-b394-0946810decdd\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"5000.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"5580.00\",\"retention_rate\":\"2.2319\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:04:06Z\"},{\"id\":\"5c686cf5-c584-4eb2-960d-86591951d118\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"cf951ed1-c20a-4a62-8a84-7abde95999ff\",\"proxy_merchant_token\":\"f4e1bcb0-0f25-4a89-b394-0946810decdd\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1000.00\",\"tax\":\"160.00\",\"payback\":\"11160.00\",\"retention_rate\":\"4.4639\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:04:06Z\"},{\"id\":\"5a7b068e-78bd-4372-a82c-7b0fe328023b\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"cf951ed1-c20a-4a62-8a84-7abde95999ff\",\"proxy_merchant_token\":\"f4e1bcb0-0f25-4a89-b394-0946810decdd\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7000.00\",\"interest\":\"700.00\",\"tax\":\"112.00\",\"payback\":\"7812.00\",\"retention_rate\":\"3.1247\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:04:16Z\"},{\"id\":\"b7739d30-cc48-4c88-89f2-8aa2ecac1602\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"cf951ed1-c20a-4a62-8a84-7abde95999ff\",\"proxy_merchant_token\":\"f4e1bcb0-0f25-4a89-b394-0946810decdd\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5000.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"5580.00\",\"retention_rate\":\"2.2319\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:04:16Z\"},{\"id\":\"c193f89b-5630-4946-af26-0161f1b33ce4\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"cf951ed1-c20a-4a62-8a84-7abde95999ff\",\"proxy_merchant_token\":\"f4e1bcb0-0f25-4a89-b394-0946810decdd\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1000.00\",\"tax\":\"160.00\",\"payback\":\"11160.00\",\"retention_rate\":\"4.4639\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:04:16Z\"}]"}	1588793958791
EVENTS	1588793965866	{"@timestamp":"2020-05-06T19:39:23.231Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a5900f64-e1e6-4934-99f8-e77dbbd6ed6c and profile CASHIER."}	1588793963231
EVENTS	1588793970868	{"@timestamp":"2020-05-06T19:39:29.275Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b611490a-7fbd-4391-a8e4-951cafc516af and profile ADMIN."}	1588793969275
EVENTS	1588793975866	{"@timestamp":"2020-05-06T19:39:35.782Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 41fe4696-b4a2-4693-9bcd-aa5f0bd6509f and profile ADMIN."}	1588793975783
EVENTS	1588793985868	{"@timestamp":"2020-05-06T19:39:41.141Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 168c3ac4-ee22-4ae2-b80b-47fcc5a2757a and profile CASHIER."}	1588793981142
EVENTS	1588794015868	{"@timestamp":"2020-05-06T19:40:12.320Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 006d01e9-65bc-49e6-8df3-3fd8683ccba8 and profile ADMIN."}	1588794012321
EVENTS	1588794030869	{"@timestamp":"2020-05-06T19:40:30.602Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.externalapi.loans.LoansDispatcher","method":"onMessage","file":"LoansDispatcher.java","line":37,"message":"New AMQP message on queue payclip.service.component.loans.external.api.loans: (Body:'[B@7f992706(byte[1415])' MessageProperties [headers={}, correlationId=d70bf0bd-cdac-4293-b5c4-c4a4661689e3, replyTo=amq.gen-dTAVyScHK9jG0psycNr-PQ, contentLength=0, redelivered=false, receivedExchange=, receivedRoutingKey=payclip.service.component.loans.external.api.loans, deliveryTag=1, consumerTag=amq.ctag--1YYgXG76LLPrn8W-5d05g, consumerQueue=payclip.service.component.loans.external.api.loans])"}	1588794030603
EVENTS	1588794030869	{"@timestamp":"2020-05-06T19:40:30.603Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.externalapi.common.HttpMethodHandlerResolver","method":"resolve","file":"HttpMethodHandlerResolver.java","line":16,"message":"Resolving handler for AMQP message with body: {\"body\": {\"provider_loan_id\": 64, \"proxy_merchant_token\": \"89375e3b-c061-45fc-8a02-a955601f44fd\", \"provider_pre_approval_id\": 1, \"conditions\": {\"retention_percentage_sale\": \"10.15\", \"rate_interest_regular\": \"0.11\", \"deposited_amount\": \"2190.00\", \"interest_amount\": \"219.00\", \"tax_amount\": \"35.04\", \"payback_amount\": \"2444.04\"}, \"created_at\": \"2020-05-04T22:30:31Z\", \"disbursed_at\": \"2020-05-06T14:40:28Z\", \"ends_at\": \"2020-08-06T14:40:28Z\"}, \"headers\": \"{\\\"Accept\\\": \\\"*/*\\\", \\\"Accept-Encoding\\\": \\\"gzip, deflate\\\", \\\"CloudFront-Forwarded-Proto\\\": \\\"https\\\", \\\"CloudFront-Is-Desktop-Viewer\\\": \\\"true\\\", \\\"CloudFront-Is-Mobile-Viewer\\\": \\\"false\\\", \\\"CloudFront-Is-SmartTV-Viewer\\\": \\\"false\\\", \\\"CloudFront-Is-Tablet-Viewer\\\": \\\"false\\\", \\\"CloudFront-Viewer-Country\\\": \\\"US\\\", \\\"Content-Type\\\": \\\"application/json\\\", \\\"Host\\\": \\\"api-gw.payclip.com\\\", \\\"User-Agent\\\": \\\"python-requests/2.22.0\\\", \\\"Via\\\": \\\"1.1 8ad5a9cbb864898c238f716c1a12623d.cloudfront.net (CloudFront)\\\", \\\"X-Amz-Cf-Id\\\": \\\"0fihuotO32dluF5zZcSm_KuJbPzMFvYbHbde5vPWKlU06IK7bTG6uA==\\\", \\\"X-Amzn-Trace-Id\\\": \\\"Root=1-5eb312ac-94764b1a8cdd659e47354980\\\", \\\"x-api-key\\\": \\\"lMEyupWDmu6u81B8fD9Tb3qzPiAlBBYM9F5KYgsj\\\", \\\"X-Forwarded-For\\\": \\\"54.172.76.209, 70.132.60.85\\\", \\\"X-Forwarded-Port\\\": \\\"443\\\", \\\"X-Forwarded-Proto\\\": \\\"https\\\"}\", \"injectedParameters\": {\"provider_code\": \"MOT\"}, \"http_method\": \"POST\", \"queryParameters\": {}, \"pathParameters\": {}}"}	1588794030605
EVENTS	1588794030869	{"@timestamp":"2020-05-06T19:40:30.607Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.externalapi.loans.LoansHandlerPost","method":"process","file":"LoansHandlerPost.java","line":33,"message":"Processing external message for create loan (POST Request)"}	1588794030608
EVENTS	1588794030869	{"@timestamp":"2020-05-06T19:40:30.662Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.LoansService","method":"createLoan","file":"LoansService.java","line":310,"message":"Creating loan [providerCode=MOT][proxyMerchantToken=89375e3b-c061-45fc-8a02-a955601f44fd][providerLoanId=64][providerPreApprovalId=1]"}	1588794030662
EVENTS	1588794030869	{"@timestamp":"2020-05-06T19:40:30.666Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.SharedMerchantDataDaoImpl","method":"findLastSharedMerchantData","file":"SharedMerchantDataDaoImpl.java","line":41,"message":"Getting the last shared merchant data [providerCode=MOT][proxyMerchantToken=89375e3b-c061-45fc-8a02-a955601f44fd]"}	1588794030666
EVENTS	1588794030869	{"@timestamp":"2020-05-06T19:40:30.826Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.PreApprovalsDaoImpl","method":"findAcceptedThatDoesNotHaveAnyLoan","file":"PreApprovalsDaoImpl.java","line":237,"message":"Getting Accepted PreApprovals that does not have any loan [providerPreApprovalId=1][providerCode=MOT][proxyMerchantToken=89375e3b-c061-45fc-8a02-a955601f44fd]"}	1588794030826
EVENTS	1588794035866	{"@timestamp":"2020-05-06T19:40:30.897Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoansByMerchantTokenAndStatus","file":"LoansDaoImpl.java","line":239,"message":"Getting active loans [merchantToken=82d4b1f6-785d-48e9-a21f-212f29681f7b]"}	1588794030897
EVENTS	1588794035866	{"@timestamp":"2020-05-06T19:40:30.901Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"insertLoan","file":"LoansDaoImpl.java","line":253,"message":"Inserting loan [providerCode=MOT][proxyMerchantToken=89375e3b-c061-45fc-8a02-a955601f44fd][merchantToken=82d4b1f6-785d-48e9-a21f-212f29681f7b][merchantId=82f2eac6-17cd-4cad-aaf5-1fd65d2f23b2][preApprovalId=6e0351a4-fffe-4bc1-9d58-fa4c23e8a687]"}	1588794030902
EVENTS	1588794035866	{"@timestamp":"2020-05-06T19:40:30.915Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.PreApprovalStatusDaoImpl","method":"insert","file":"PreApprovalStatusDaoImpl.java","line":73,"message":"Inserting pre approval status [providerCode=MOT, preApprovalId=6e0351a4-fffe-4bc1-9d58-fa4c23e8a687, merchantToken=82d4b1f6-785d-48e9-a21f-212f29681f7b, status=ACTIVE]"}	1588794030916
EVENTS	1588794040866	{"@timestamp":"2020-05-06T19:40:38.947Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1c7b4475-9b8d-4aa9-9b64-d7a36c136ab1 and profile ADMIN."}	1588794038948
EVENTS	1588794055866	{"@timestamp":"2020-05-06T19:40:52.544Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 18c2963f-e13c-4fa5-a891-68f821fec608 and profile ADMIN."}	1588794052544
EVENTS	1588794085868	{"@timestamp":"2020-05-06T19:41:23.225Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 199f0169-27cb-429c-ab26-e128a16e5d78 and profile MANAGER."}	1588794083226
EVENTS	1588794095866	{"@timestamp":"2020-05-06T19:41:32.204Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d7eec471-d493-4308-99fd-f7b0ecee4027 and profile ADMIN."}	1588794092205
EVENTS	1588794110870	{"@timestamp":"2020-05-06T19:41:47.084Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b9239012-8de3-4160-832f-6bd295c0d0fe and profile ADMIN."}	1588794107086
EVENTS	1588794120871	{"@timestamp":"2020-05-06T19:41:57.559Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 42bbcddf-8881-4f86-a749-b0294482f255 and profile ADMIN."}	1588794117560
EVENTS	1588794120871	{"@timestamp":"2020-05-06T19:41:58.833Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ba7b0d9d-af45-4d84-8720-11107657e09d and profile ADMIN."}	1588794118835
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.272Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7 "}	1588794137273
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.273Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137273
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.287Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137287
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.289Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e9886494-3109-4c60-8a22-bf34bcccd4d7' and pre-approval: '5ef3d18c-1bba-41d1-b718-6c56a625d376'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794137289
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.378Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588794137378
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.378Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137379
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.380Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e9886494-3109-4c60-8a22-bf34bcccd4d7' and pre-approval: '64a9014d-12da-49a2-88af-885841424214'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794137381
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.433Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588794137433
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.433Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137434
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.435Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e9886494-3109-4c60-8a22-bf34bcccd4d7' and pre-approval: '817ed92a-a194-4753-b9d6-d5a888e41022'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794137436
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.482Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588794137483
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.483Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137483
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.484Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e9886494-3109-4c60-8a22-bf34bcccd4d7' and pre-approval: '23d0f317-f744-40d5-9ccd-0fe27a3a6a7c'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794137485
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.546Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137547
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.547Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137548
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.548Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137548
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.550Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e9886494-3109-4c60-8a22-bf34bcccd4d7' and pre-approval: '50701041-fc1e-4db3-8f40-ec878d0a6544'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794137551
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.655Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137658
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.656Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137658
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.657Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137658
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.659Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e9886494-3109-4c60-8a22-bf34bcccd4d7' and pre-approval: '9de6a221-591f-499a-b7fe-922cf4b0f280'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794137660
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.727Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137728
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.728Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137729
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.729Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137729
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.730Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e9886494-3109-4c60-8a22-bf34bcccd4d7' and pre-approval: '0df3f413-53dd-426e-b191-6fec9e62d1b3'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794137731
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.777Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137778
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.778Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137779
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.779Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137780
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.781Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e9886494-3109-4c60-8a22-bf34bcccd4d7' and pre-approval: 'be9a1952-57ef-46a5-81bb-9a6644c01823'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794137782
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.831Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137832
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.832Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137833
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.833Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7"}	1588794137833
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.834Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e9886494-3109-4c60-8a22-bf34bcccd4d7' and pre-approval: 'fe6a5305-4e29-4c0a-9bdf-c0edccabd940'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794137835
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.887Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137887
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.888Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794137888
EVENTS	1588794140875	{"@timestamp":"2020-05-06T19:42:17.889Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token e9886494-3109-4c60-8a22-bf34bcccd4d7: [{\"id\":\"5ef3d18c-1bba-41d1-b718-6c56a625d376\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e9886494-3109-4c60-8a22-bf34bcccd4d7\",\"proxy_merchant_token\":\"5258244b-a726-460b-bcfb-37bf48136cf7\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"3000.00\",\"interest\":\"680.00\",\"tax\":\"108.80\",\"payback\":\"3788.80\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T15:24:16Z\"},{\"id\":\"64a9014d-12da-49a2-88af-885841424214\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e9886494-3109-4c60-8a22-bf34bcccd4d7\",\"proxy_merchant_token\":\"5258244b-a726-460b-bcfb-37bf48136cf7\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"1900.00\",\"interest\":\"400.00\",\"tax\":\"64.00\",\"payback\":\"2364.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T15:24:16Z\"},{\"id\":\"817ed92a-a194-4753-b9d6-d5a888e41022\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e9886494-3109-4c60-8a22-bf34bcccd4d7\",\"proxy_merchant_token\":\"5258244b-a726-460b-bcfb-37bf48136cf7\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"4200.00\",\"interest\":\"860.00\",\"tax\":\"137.60\",\"payback\":\"5197.60\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T15:24:16Z\"},{\"id\":\"23d0f317-f744-40d5-9ccd-0fe27a3a6a7c\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e9886494-3109-4c60-8a22-bf34bcccd4d7\",\"proxy_merchant_token\":\"5258244b-a726-460b-bcfb-37bf48136cf7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"4000.00\",\"interest\":\"670.00\",\"tax\":\"107.20\",\"payback\":\"4777.20\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T07:45:21Z\"},{\"id\":\"50701041-fc1e-4db3-8f40-ec878d0a6544\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e9886494-3109-4c60-8a22-bf34bcccd4d7\",\"proxy_merchant_token\":\"5258244b-a726-460b-bcfb-37bf48136cf7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"2200.00\",\"interest\":\"390.00\",\"tax\":\"62.40\",\"payback\":\"2652.40\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T07:45:21Z\"},{\"id\":\"9de6a221-591f-499a-b7fe-922cf4b0f280\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e9886494-3109-4c60-8a22-bf34bcccd4d7\",\"proxy_merchant_token\":\"5258244b-a726-460b-bcfb-37bf48136cf7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3100.00\",\"interest\":\"530.00\",\"tax\":\"84.80\",\"payback\":\"3714.80\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T07:45:21Z\"},{\"id\":\"0df3f413-53dd-426e-b191-6fec9e62d1b3\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e9886494-3109-4c60-8a22-bf34bcccd4d7\",\"proxy_merchant_token\":\"5258244b-a726-460b-bcfb-37bf48136cf7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3500.00\",\"interest\":\"510.00\",\"tax\":\"81.60\",\"payback\":\"4091.60\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":6,\"created_at\":\"2019-12-13T21:53:32Z\"},{\"id\":\"be9a1952-57ef-46a5-81bb-9a6644c01823\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e9886494-3109-4c60-8a22-bf34bcccd4d7\",\"proxy_merchant_token\":\"5258244b-a726-460b-bcfb-37bf48136cf7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"2300.00\",\"interest\":\"340.00\",\"tax\":\"54.40\",\"payback\":\"2694.40\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":5,\"created_at\":\"2019-12-13T21:53:32Z\"},{\"id\":\"fe6a5305-4e29-4c0a-9bdf-c0edccabd940\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e9886494-3109-4c60-8a22-bf34bcccd4d7\",\"proxy_merchant_token\":\"5258244b-a726-460b-bcfb-37bf48136cf7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"4800.00\",\"interest\":\"750.00\",\"tax\":\"120.00\",\"payback\":\"5670.00\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":7,\"created_at\":\"2019-12-13T21:53:32Z\"}]"}	1588794137895
EVENTS	1588794150870	{"@timestamp":"2020-05-06T19:42:26.498Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e3b219bd-45a2-4e78-a54e-45853c310f0c and profile ADMIN."}	1588794146498
EVENTS	1588794155918	{"@timestamp":"2020-05-06T19:42:34.955Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken bab380a5-2d3b-43ae-99f8-361f11397ce6 and profile ADMIN."}	1588794154956
EVENTS	1588794175866	{"@timestamp":"2020-05-06T19:42:51.319Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 2cbf4e58-9dd9-4e02-ae0f-4e618d4a569f and profile ADMIN."}	1588794171320
EVENTS	1588794175866	{"@timestamp":"2020-05-06T19:42:55.520Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 398dea86-b518-49a5-97ec-821ae340557e and profile ADMIN."}	1588794175520
EVENTS	1588794180864	{"@timestamp":"2020-05-06T19:42:58.820Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 4bf5cfd0-3951-4988-84b4-a9f91a902932 and profile ADMIN."}	1588794178821
EVENTS	1588794200866	{"@timestamp":"2020-05-06T19:43:16.418Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 73d1ac28-a4c7-4f2e-b13f-b18ca4a01e43 and profile ADMIN."}	1588794196418
EVENTS	1588794205869	{"@timestamp":"2020-05-06T19:43:23.199Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 960c4660-dc4a-4b14-9a57-4d685aac5592 and profile ADMIN."}	1588794203200
EVENTS	1588794225867	{"@timestamp":"2020-05-06T19:43:43.197Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f007fabe-3053-4471-a821-16c33cab0b86 and profile ADMIN."}	1588794223197
EVENTS	1588794230864	{"@timestamp":"2020-05-06T19:43:49.896Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 329e2a5f-7e5b-4a57-a0af-9c54019fd83d and profile ADMIN."}	1588794229897
EVENTS	1588794235864	{"@timestamp":"2020-05-06T19:43:54.588Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 784e826c-7c7d-4ae5-b925-5be2e8a9dbbc and profile ADMIN."}	1588794234588
EVENTS	1588794255867	{"@timestamp":"2020-05-06T19:44:15.273Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ce5cad88-1c65-4fbf-9380-4f149b8ae635 and profile ADMIN."}	1588794255274
EVENTS	1588794260864	{"@timestamp":"2020-05-06T19:44:16.892Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 239804cd-0b5e-4129-9624-4afd87e9e722 and profile ADMIN."}	1588794256893
EVENTS	1588794275864	{"@timestamp":"2020-05-06T19:44:31.388Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b64fd6a3-d244-4448-9c93-7d5d4c05d6da and profile ADMIN."}	1588794271389
EVENTS	1588794280866	{"@timestamp":"2020-05-06T19:44:36.332Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 960c4660-dc4a-4b14-9a57-4d685aac5592 and profile ADMIN."}	1588794276332
EVENTS	1588794285868	{"@timestamp":"2020-05-06T19:44:44.008Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token cdeb2aae-f52c-4ba1-ab92-d54b0a574e58 "}	1588794284008
EVENTS	1588794285868	{"@timestamp":"2020-05-06T19:44:44.008Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token cdeb2aae-f52c-4ba1-ab92-d54b0a574e58"}	1588794284009
EVENTS	1588794285868	{"@timestamp":"2020-05-06T19:44:44.010Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token cdeb2aae-f52c-4ba1-ab92-d54b0a574e58: []"}	1588794284010
EVENTS	1588794295866	{"@timestamp":"2020-05-06T19:44:53.937Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b8eea696-0dfb-440c-88e0-562253369a0f and profile ADMIN."}	1588794293938
EVENTS	1588794305867	{"@timestamp":"2020-05-06T19:45:05.073Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d4a84f89-005f-448a-940c-a43e63272304 and profile ADMIN."}	1588794305074
EVENTS	1588794335867	{"@timestamp":"2020-05-06T19:45:32.496Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 2c306461-758e-41db-8ce4-4ea64b097fb0 and profile ADMIN."}	1588794332497
EVENTS	1588794340865	{"@timestamp":"2020-05-06T19:45:37.507Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ecc0836c-381d-4d22-a6ad-41ccff5558be and profile ADMIN."}	1588794337507
EVENTS	1588794340865	{"@timestamp":"2020-05-06T19:45:39.853Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b133d2ee-812f-45a2-9660-f6b1d4e90b4e and profile MANAGER."}	1588794339853
EVENTS	1588794355867	{"@timestamp":"2020-05-06T19:45:53.532Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 4175b4c1-ce63-40bd-a50a-5af0d684ddd2 and profile CASHIER."}	1588794353533
EVENTS	1588794365863	{"@timestamp":"2020-05-06T19:46:04.764Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ffe03d27-dad1-46db-8da6-6abe506c1a25 and profile ADMIN."}	1588794364765
EVENTS	1588794375862	{"@timestamp":"2020-05-06T19:46:14.766Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3e493dc6-2e04-441b-b451-6dfac6463de2 and profile ADMIN."}	1588794374767
EVENTS	1588794385862	{"@timestamp":"2020-05-06T19:46:21.051Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c74d0205-e7ee-4d0e-97b6-e634d1db9dad and profile ADMIN."}	1588794381051
EVENTS	1588794410862	{"@timestamp":"2020-05-06T19:46:46.638Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 64d86046-18b8-48c9-8f05-4500e193ba90 and profile ADMIN."}	1588794406638
EVENTS	1588794415866	{"@timestamp":"2020-05-06T19:46:51.189Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 48d8acad-0c29-4360-9dec-099d7624f28b and profile ADMIN."}	1588794411189
EVENTS	1588794421783	{"@timestamp":"2020-05-06T19:46:58.862Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 64d48e5f-3e84-4e86-ad38-fe6fc9e09020 and profile ADMIN."}	1588794418863
EVENTS	1588794435862	{"@timestamp":"2020-05-06T19:47:15.134Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 41c55cb7-4e95-4da4-9aa0-4da0421ee9c5 and profile ADMIN."}	1588794435134
EVENTS	1588794440866	{"@timestamp":"2020-05-06T19:47:16.712Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 5a63cded-e820-43bc-ab21-b13e04e71b89 and profile ADMIN."}	1588794436713
EVENTS	1588794450868	{"@timestamp":"2020-05-06T19:47:28.646Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ce2b4cd8-2649-4f31-83f6-1ffef8744288 and profile ADMIN."}	1588794448647
EVENTS	1588794465862	{"@timestamp":"2020-05-06T19:47:43.350Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3d919d46-fdec-4021-be21-aa92b9d4c028 and profile ADMIN."}	1588794463351
EVENTS	1588794485866	{"@timestamp":"2020-05-06T19:48:02.131Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 41c55cb7-4e95-4da4-9aa0-4da0421ee9c5 and profile ADMIN."}	1588794482131
EVENTS	1588794500863	{"@timestamp":"2020-05-06T19:48:19.167Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f56514eb-36a4-444d-a0f5-45c702ec2394 and profile ADMIN."}	1588794499167
EVENTS	1588794510866	{"@timestamp":"2020-05-06T19:48:29.555Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 96abd8d0-3bc7-4092-a934-d12fa021310c and profile ADMIN."}	1588794509556
EVENTS	1588794520863	{"@timestamp":"2020-05-06T19:48:37.614Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ffe03d27-dad1-46db-8da6-6abe506c1a25 and profile ADMIN."}	1588794517614
EVENTS	1588794525866	{"@timestamp":"2020-05-06T19:48:41.557Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f758e3d4-2e3b-4bba-be4d-88c3a1f8969d and profile ADMIN."}	1588794521557
EVENTS	1588794525866	{"@timestamp":"2020-05-06T19:48:44.781Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3f202fe1-d12a-40d6-853b-e8bafdf19400 and profile ADMIN."}	1588794524782
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:51.961Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc "}	1588794531961
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:51.961Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc"}	1588794531962
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:51.965Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc"}	1588794531965
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:51.968Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc' and pre-approval: '24568eeb-59bc-41f1-af20-df4f94b660dc'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794531969
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:52.097Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588794532098
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:52.098Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc"}	1588794532098
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:52.106Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc' and pre-approval: '4b9d3c96-c7cf-45e9-981f-7f0942acdb8b'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794532107
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:52.186Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588794532187
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:52.187Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc"}	1588794532187
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:52.188Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc' and pre-approval: '8bd5bb13-64c9-4618-ba05-ace03921cda3'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794532189
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:52.247Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588794532247
EVENTS	1588794535870	{"@timestamp":"2020-05-06T19:48:52.248Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc: [{\"id\":\"24568eeb-59bc-41f1-af20-df4f94b660dc\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc\",\"proxy_merchant_token\":\"f40ac186-3361-4ea8-b023-352e749e5557\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"5800.00\",\"interest\":\"910.00\",\"tax\":\"145.60\",\"payback\":\"6855.60\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T10:37:10Z\"},{\"id\":\"4b9d3c96-c7cf-45e9-981f-7f0942acdb8b\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc\",\"proxy_merchant_token\":\"f40ac186-3361-4ea8-b023-352e749e5557\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"8000.00\",\"interest\":\"1230.00\",\"tax\":\"196.80\",\"payback\":\"9426.80\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T10:37:10Z\"},{\"id\":\"8bd5bb13-64c9-4618-ba05-ace03921cda3\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"c60e1a82-98cf-4bfb-a9c9-48c8f5da3ecc\",\"proxy_merchant_token\":\"f40ac186-3361-4ea8-b023-352e749e5557\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"3600.00\",\"interest\":\"600.00\",\"tax\":\"96.00\",\"payback\":\"4296.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T10:37:10Z\"}]"}	1588794532250
EVENTS	1588794550869	{"@timestamp":"2020-05-06T19:49:07.396Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 0029924a-4385-41d4-86a4-08f55e6a55a1 and profile ADMIN."}	1588794547397
EVENTS	1588794550869	{"@timestamp":"2020-05-06T19:49:09.305Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken f119a02d-70dc-4303-8c94-403b7a2c9b37 and profile ADMIN."}	1588794549306
EVENTS	1588794570869	{"@timestamp":"2020-05-06T19:49:29.058Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 6a93063a-b960-4f11-a12e-707a713086a5 and profile ADMIN."}	1588794569059
EVENTS	1588794580865	{"@timestamp":"2020-05-06T19:49:39.711Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 7588b0d3-0414-4f41-841a-fb3dbddc2c9b and profile ADMIN."}	1588794579712
EVENTS	1588794590865	{"@timestamp":"2020-05-06T19:49:50.120Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token c2207f12-e84a-43ec-b391-23f05a7c6001 "}	1588794590121
EVENTS	1588794590865	{"@timestamp":"2020-05-06T19:49:50.121Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token c2207f12-e84a-43ec-b391-23f05a7c6001"}	1588794590121
EVENTS	1588794590865	{"@timestamp":"2020-05-06T19:49:50.123Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token c2207f12-e84a-43ec-b391-23f05a7c6001: []"}	1588794590123
EVENTS	1588794595868	{"@timestamp":"2020-05-06T19:49:51.889Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 5fc2823c-6837-4668-adcc-085ecbb98836 and profile ADMIN."}	1588794591890
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:28.819Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1511c8e1-a57e-4cb4-8264-1b6c3047d621 and profile FINANCE."}	1588794628819
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.678Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 568ec8b7-fcd8-4e2d-845b-4340b3750d9d "}	1588794629678
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.682Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 568ec8b7-fcd8-4e2d-845b-4340b3750d9d"}	1588794629686
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.685Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 568ec8b7-fcd8-4e2d-845b-4340b3750d9d"}	1588794629686
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.688Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '568ec8b7-fcd8-4e2d-845b-4340b3750d9d' and pre-approval: '0d565a59-fac0-4e95-a399-23b7dd781f88'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794629690
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.786Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794629787
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.787Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794629788
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.788Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 568ec8b7-fcd8-4e2d-845b-4340b3750d9d"}	1588794629788
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.794Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '568ec8b7-fcd8-4e2d-845b-4340b3750d9d' and pre-approval: '4dfc3160-1871-45e5-a5c3-204e3c5326b3'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794629794
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.850Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794629854
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.854Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794629855
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.855Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 568ec8b7-fcd8-4e2d-845b-4340b3750d9d"}	1588794629856
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.858Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '568ec8b7-fcd8-4e2d-845b-4340b3750d9d' and pre-approval: 'a7fcb634-e884-46c5-ad3e-598af5046b06'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794629858
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.898Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794629899
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.899Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794629899
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.900Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 568ec8b7-fcd8-4e2d-845b-4340b3750d9d"}	1588794629900
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.904Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '568ec8b7-fcd8-4e2d-845b-4340b3750d9d' and pre-approval: '365bdd88-d0d7-4d99-a7a0-aff8a2d75137'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794629904
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.949Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794629949
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.950Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794629950
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.950Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 568ec8b7-fcd8-4e2d-845b-4340b3750d9d"}	1588794629951
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:29.952Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '568ec8b7-fcd8-4e2d-845b-4340b3750d9d' and pre-approval: '4ab8c592-31bb-491b-9ece-a66bc0885574'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794629953
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:30.006Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794630008
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:30.007Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794630008
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:30.008Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 568ec8b7-fcd8-4e2d-845b-4340b3750d9d"}	1588794630008
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:30.014Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '568ec8b7-fcd8-4e2d-845b-4340b3750d9d' and pre-approval: '885ebebc-3950-4a43-8833-1f1d539ada6d'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794630015
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:30.081Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794630081
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:30.081Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794630082
EVENTS	1588794630872	{"@timestamp":"2020-05-06T19:50:30.082Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 568ec8b7-fcd8-4e2d-845b-4340b3750d9d: [{\"id\":\"0d565a59-fac0-4e95-a399-23b7dd781f88\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"568ec8b7-fcd8-4e2d-845b-4340b3750d9d\",\"proxy_merchant_token\":\"778ffcf8-243d-44c0-ab7c-cf87109363f7\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1000.00\",\"tax\":\"160.00\",\"payback\":\"11160.00\",\"retention_rate\":\"2.2320\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:11:12Z\"},{\"id\":\"4dfc3160-1871-45e5-a5c3-204e3c5326b3\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"568ec8b7-fcd8-4e2d-845b-4340b3750d9d\",\"proxy_merchant_token\":\"778ffcf8-243d-44c0-ab7c-cf87109363f7\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"5000.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"5580.00\",\"retention_rate\":\"1.1160\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:11:12Z\"},{\"id\":\"a7fcb634-e884-46c5-ad3e-598af5046b06\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"568ec8b7-fcd8-4e2d-845b-4340b3750d9d\",\"proxy_merchant_token\":\"778ffcf8-243d-44c0-ab7c-cf87109363f7\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"7000.00\",\"interest\":\"700.00\",\"tax\":\"112.00\",\"payback\":\"7812.00\",\"retention_rate\":\"1.5624\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:11:12Z\"},{\"id\":\"365bdd88-d0d7-4d99-a7a0-aff8a2d75137\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"568ec8b7-fcd8-4e2d-845b-4340b3750d9d\",\"proxy_merchant_token\":\"778ffcf8-243d-44c0-ab7c-cf87109363f7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1000.00\",\"tax\":\"160.00\",\"payback\":\"11160.00\",\"retention_rate\":\"2.2320\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:28:17Z\"},{\"id\":\"4ab8c592-31bb-491b-9ece-a66bc0885574\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"568ec8b7-fcd8-4e2d-845b-4340b3750d9d\",\"proxy_merchant_token\":\"778ffcf8-243d-44c0-ab7c-cf87109363f7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5000.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"5580.00\",\"retention_rate\":\"1.1160\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:28:17Z\"},{\"id\":\"885ebebc-3950-4a43-8833-1f1d539ada6d\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"568ec8b7-fcd8-4e2d-845b-4340b3750d9d\",\"proxy_merchant_token\":\"778ffcf8-243d-44c0-ab7c-cf87109363f7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7000.00\",\"interest\":\"700.00\",\"tax\":\"112.00\",\"payback\":\"7812.00\",\"retention_rate\":\"1.5624\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:28:17Z\"}]"}	1588794630086
EVENTS	1588794635865	{"@timestamp":"2020-05-06T19:50:30.971Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b3fcf7b9-b790-4a6d-bd9b-ff901b73b507 and profile ADMIN."}	1588794630973
EVENTS	1588794640869	{"@timestamp":"2020-05-06T19:50:36.659Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 96a0ca82-2cac-4410-8211-1fcd4e28527b and profile ADMIN."}	1588794636660
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.169Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 45955e35-72bf-4010-bd05-3b957deff543 and profile ADMIN."}	1588794654170
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.317Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 63cb94fb-6d9a-4ecc-a4e1-933dd05de32a "}	1588794654318
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.318Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 63cb94fb-6d9a-4ecc-a4e1-933dd05de32a"}	1588794654318
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.319Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 63cb94fb-6d9a-4ecc-a4e1-933dd05de32a"}	1588794654320
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.321Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '63cb94fb-6d9a-4ecc-a4e1-933dd05de32a' and pre-approval: '2814d2f7-5a8d-44a0-8e9b-f1ab8dc8145b'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794654321
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.367Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654368
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.368Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654368
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.369Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 63cb94fb-6d9a-4ecc-a4e1-933dd05de32a"}	1588794654369
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.370Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '63cb94fb-6d9a-4ecc-a4e1-933dd05de32a' and pre-approval: '3aedb517-7845-4b0a-aaa6-743e635473ef'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794654371
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.402Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654403
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.404Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654404
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.405Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 63cb94fb-6d9a-4ecc-a4e1-933dd05de32a"}	1588794654405
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.407Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '63cb94fb-6d9a-4ecc-a4e1-933dd05de32a' and pre-approval: '6f5d91ef-922a-4c19-aa8e-e9779ef47b6b'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794654407
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.440Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654441
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.441Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654442
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.442Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 63cb94fb-6d9a-4ecc-a4e1-933dd05de32a"}	1588794654443
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.444Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '63cb94fb-6d9a-4ecc-a4e1-933dd05de32a' and pre-approval: '655a13b7-d046-4314-9a8a-b40513cac8ae'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794654445
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.477Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654477
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.478Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654479
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.479Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 63cb94fb-6d9a-4ecc-a4e1-933dd05de32a"}	1588794654479
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.480Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '63cb94fb-6d9a-4ecc-a4e1-933dd05de32a' and pre-approval: '8b12b748-9b3e-45bb-8314-ce9483fc25af'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794654481
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.513Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654514
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.514Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654515
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.515Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 63cb94fb-6d9a-4ecc-a4e1-933dd05de32a"}	1588794654516
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.518Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '63cb94fb-6d9a-4ecc-a4e1-933dd05de32a' and pre-approval: 'c1f26f08-0e89-4046-af9a-70879c09d7ac'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794654519
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.552Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654552
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.553Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588794654553
EVENTS	1588794655878	{"@timestamp":"2020-05-06T19:50:54.554Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 63cb94fb-6d9a-4ecc-a4e1-933dd05de32a: [{\"id\":\"2814d2f7-5a8d-44a0-8e9b-f1ab8dc8145b\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"63cb94fb-6d9a-4ecc-a4e1-933dd05de32a\",\"proxy_merchant_token\":\"014b0279-19a9-4623-b2f7-c5fae4d1edde\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"3910.00\",\"interest\":\"391.00\",\"tax\":\"62.56\",\"payback\":\"4363.56\",\"retention_rate\":\"5.0662\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:02:18Z\"},{\"id\":\"3aedb517-7845-4b0a-aaa6-743e635473ef\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"63cb94fb-6d9a-4ecc-a4e1-933dd05de32a\",\"proxy_merchant_token\":\"014b0279-19a9-4623-b2f7-c5fae4d1edde\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"5480.00\",\"interest\":\"548.00\",\"tax\":\"87.68\",\"payback\":\"6115.68\",\"retention_rate\":\"7.1005\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:02:18Z\"},{\"id\":\"6f5d91ef-922a-4c19-aa8e-e9779ef47b6b\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"63cb94fb-6d9a-4ecc-a4e1-933dd05de32a\",\"proxy_merchant_token\":\"014b0279-19a9-4623-b2f7-c5fae4d1edde\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"7830.00\",\"interest\":\"783.00\",\"tax\":\"125.28\",\"payback\":\"8738.28\",\"retention_rate\":\"10.1455\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:02:18Z\"},{\"id\":\"655a13b7-d046-4314-9a8a-b40513cac8ae\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"63cb94fb-6d9a-4ecc-a4e1-933dd05de32a\",\"proxy_merchant_token\":\"014b0279-19a9-4623-b2f7-c5fae4d1edde\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7830.00\",\"interest\":\"783.00\",\"tax\":\"125.28\",\"payback\":\"8738.28\",\"retention_rate\":\"10.1455\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:02:22Z\"},{\"id\":\"8b12b748-9b3e-45bb-8314-ce9483fc25af\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"63cb94fb-6d9a-4ecc-a4e1-933dd05de32a\",\"proxy_merchant_token\":\"014b0279-19a9-4623-b2f7-c5fae4d1edde\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3910.00\",\"interest\":\"391.00\",\"tax\":\"62.56\",\"payback\":\"4363.56\",\"retention_rate\":\"5.0662\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:02:22Z\"},{\"id\":\"c1f26f08-0e89-4046-af9a-70879c09d7ac\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"63cb94fb-6d9a-4ecc-a4e1-933dd05de32a\",\"proxy_merchant_token\":\"014b0279-19a9-4623-b2f7-c5fae4d1edde\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5480.00\",\"interest\":\"548.00\",\"tax\":\"87.68\",\"payback\":\"6115.68\",\"retention_rate\":\"7.1005\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:02:22Z\"}]"}	1588794654559
EVENTS	1588794665866	{"@timestamp":"2020-05-06T19:51:04.580Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 5ecb05d2-53dd-4e4c-adde-09430eb14557 and profile ADMIN."}	1588794664581
EVENTS	1588794670868	{"@timestamp":"2020-05-06T19:51:10.854Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b6779aa3-42b1-4d49-8813-cca601e04ded and profile ADMIN."}	1588794670854
EVENTS	1588794695868	{"@timestamp":"2020-05-06T19:51:32.604Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c343d01a-c9a2-4829-9318-dd900125f17e and profile ADMIN."}	1588794692605
EVENTS	1588794710877	{"@timestamp":"2020-05-06T19:51:50.414Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken fc2f06fc-0ec7-43f9-8406-9444c31c1731 and profile ADMIN."}	1588794710414
EVENTS	1588794735869	{"@timestamp":"2020-05-06T19:52:12.344Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 5b9e8576-5dd9-403a-8769-a5a044ee2d09 and profile ADMIN."}	1588794732345
EVENTS	1588794765869	{"@timestamp":"2020-05-06T19:52:42.033Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 7efd60ef-9e0d-4b39-9c33-f961d6a4f067 and profile FINANCE."}	1588794762034
EVENTS	1588794765869	{"@timestamp":"2020-05-06T19:52:45.250Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken eaf45d5f-39bd-4f25-9a3c-3c4cecdc2cda and profile ADMIN."}	1588794765251
EVENTS	1588794780874	{"@timestamp":"2020-05-06T19:52:57.693Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 74ddd25a-9b08-4c0b-ac8c-d2ee84027db1 and profile ADMIN."}	1588794777710
EVENTS	1588794785866	{"@timestamp":"2020-05-06T19:53:01.046Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 23a384b7-d347-4246-af7c-ef21b0bf515d and profile ADMIN."}	1588794781046
EVENTS	1588794790871	{"@timestamp":"2020-05-06T19:53:07.868Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 82ed91e1-9843-4bff-8acb-ce1a0af8024c and profile ADMIN."}	1588794787869
EVENTS	1588794795866	{"@timestamp":"2020-05-06T19:53:11.009Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 68eee24e-6d59-4e23-8cde-8e69305b8783 and profile ADMIN."}	1588794791009
EVENTS	1588794810869	{"@timestamp":"2020-05-06T19:53:27.081Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 683521d2-88da-49a8-a40c-dcd1c709af31 and profile ADMIN."}	1588794807082
EVENTS	1588794820865	{"@timestamp":"2020-05-06T19:53:39.660Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 14c73229-e408-4ab7-ac2d-0becd0f4dc6f and profile ADMIN."}	1588794819661
EVENTS	1588794845875	{"@timestamp":"2020-05-06T19:54:04.931Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken eaf45d5f-39bd-4f25-9a3c-3c4cecdc2cda and profile ADMIN."}	1588794844931
EVENTS	1588794850865	{"@timestamp":"2020-05-06T19:54:10.244Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a08563ef-0cf6-46b6-8b28-b303051fa6b8 and profile ADMIN."}	1588794850244
EVENTS	1588794875868	{"@timestamp":"2020-05-06T19:54:30.876Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c453c6d9-b9e1-4097-a9b3-0a5fcc9833ff and profile ADMIN."}	1588794870876
EVENTS	1588794875868	{"@timestamp":"2020-05-06T19:54:34.164Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e3a1ab08-2610-42f3-ad81-6217f9e825d4 and profile ADMIN."}	1588794874165
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.733Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 852e7ac1-a715-45c5-8383-49b6e0f1831c "}	1588794882733
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.733Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 852e7ac1-a715-45c5-8383-49b6e0f1831c"}	1588794882734
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.734Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 852e7ac1-a715-45c5-8383-49b6e0f1831c"}	1588794882735
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.736Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '852e7ac1-a715-45c5-8383-49b6e0f1831c' and pre-approval: '3dc73f40-7408-41c9-a31a-0c128368bfb0'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794882737
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.873Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"not_approved\"}"}	1588794882875
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.874Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 852e7ac1-a715-45c5-8383-49b6e0f1831c"}	1588794882875
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.875Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '852e7ac1-a715-45c5-8383-49b6e0f1831c' and pre-approval: '3f51ba18-2200-49ae-8ec5-60bb279b841d'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794882876
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.959Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"not_approved\"}"}	1588794882959
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.959Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 852e7ac1-a715-45c5-8383-49b6e0f1831c"}	1588794882959
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:42.961Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '852e7ac1-a715-45c5-8383-49b6e0f1831c' and pre-approval: 'a69da9be-14f0-413e-8d7c-aa8d3b8d006f'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588794882961
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:43.029Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"not_approved\"}"}	1588794883029
EVENTS	1588794885871	{"@timestamp":"2020-05-06T19:54:43.029Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 852e7ac1-a715-45c5-8383-49b6e0f1831c: [{\"id\":\"3dc73f40-7408-41c9-a31a-0c128368bfb0\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"852e7ac1-a715-45c5-8383-49b6e0f1831c\",\"proxy_merchant_token\":\"3b4250d6-9901-444d-b201-ab8e2fa1bb42\",\"status\":\"DECLINED\",\"sub_status\":\"not_approved\",\"amount\":\"9400.00\",\"interest\":\"1440.00\",\"tax\":\"230.40\",\"payback\":\"11070.40\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T03:36:51Z\"},{\"id\":\"3f51ba18-2200-49ae-8ec5-60bb279b841d\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"852e7ac1-a715-45c5-8383-49b6e0f1831c\",\"proxy_merchant_token\":\"3b4250d6-9901-444d-b201-ab8e2fa1bb42\",\"status\":\"DECLINED\",\"sub_status\":\"not_approved\",\"amount\":\"6700.00\",\"interest\":\"1040.00\",\"tax\":\"166.40\",\"payback\":\"7906.40\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T03:36:51Z\"},{\"id\":\"a69da9be-14f0-413e-8d7c-aa8d3b8d006f\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"852e7ac1-a715-45c5-8383-49b6e0f1831c\",\"proxy_merchant_token\":\"3b4250d6-9901-444d-b201-ab8e2fa1bb42\",\"status\":\"REJECTED\",\"sub_status\":\"not_approved\",\"amount\":\"12100.00\",\"interest\":\"1840.00\",\"tax\":\"294.40\",\"payback\":\"14234.40\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T03:36:51Z\"}]"}	1588794883031
EVENTS	1588794890866	{"@timestamp":"2020-05-06T19:54:47.270Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 494beae2-d841-44ba-bf53-203585440a6f and profile ADMIN."}	1588794887271
EVENTS	1588794900870	{"@timestamp":"2020-05-06T19:54:59.630Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 67879d61-ff55-4581-acc3-32fe7253a616 and profile ADMIN."}	1588794899631
EVENTS	1588794925869	{"@timestamp":"2020-05-06T19:55:22.747Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f42b31c8-1679-48dd-88a8-e547bd1398f0 "}	1588794922748
EVENTS	1588794925869	{"@timestamp":"2020-05-06T19:55:22.748Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f42b31c8-1679-48dd-88a8-e547bd1398f0"}	1588794922748
EVENTS	1588794925869	{"@timestamp":"2020-05-06T19:55:22.760Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f42b31c8-1679-48dd-88a8-e547bd1398f0: []"}	1588794922761
EVENTS	1588794960869	{"@timestamp":"2020-05-06T19:55:57.910Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3c8074d6-34e0-4817-a23b-d115470fc646 and profile ADMIN."}	1588794957911
EVENTS	1588794975872	{"@timestamp":"2020-05-06T19:56:11.381Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 387414d5-5e91-475e-9014-2be6c0f3dadb and profile ADMIN."}	1588794971382
EVENTS	1588794985868	{"@timestamp":"2020-05-06T19:56:22.015Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token a4829718-5fc2-4dd0-8886-af725a5b78fb "}	1588794982015
EVENTS	1588794985868	{"@timestamp":"2020-05-06T19:56:22.015Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token a4829718-5fc2-4dd0-8886-af725a5b78fb"}	1588794982016
EVENTS	1588794985868	{"@timestamp":"2020-05-06T19:56:22.022Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token a4829718-5fc2-4dd0-8886-af725a5b78fb: []"}	1588794982022
EVENTS	1588794995867	{"@timestamp":"2020-05-06T19:56:35.136Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken fc3eccff-336c-4e27-8313-1d17ab9a676b and profile ADMIN."}	1588794995137
EVENTS	1588795015869	{"@timestamp":"2020-05-06T19:56:55.737Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken fb09a17e-ad08-43b2-ad4a-ea70adcf8f23 and profile ADMIN."}	1588795015737
EVENTS	1588795030868	{"@timestamp":"2020-05-06T19:57:09.314Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken fb09a17e-ad08-43b2-ad4a-ea70adcf8f23 and profile ADMIN."}	1588795029315
EVENTS	1588795035865	{"@timestamp":"2020-05-06T19:57:15.009Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c7300a50-18cf-44e1-8f61-e1a59fcfa099 and profile ADMIN."}	1588795035010
EVENTS	1588795040865	{"@timestamp":"2020-05-06T19:57:16.196Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token a4829718-5fc2-4dd0-8886-af725a5b78fb "}	1588795036196
EVENTS	1588795040865	{"@timestamp":"2020-05-06T19:57:16.197Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token a4829718-5fc2-4dd0-8886-af725a5b78fb"}	1588795036197
EVENTS	1588795040865	{"@timestamp":"2020-05-06T19:57:16.198Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token a4829718-5fc2-4dd0-8886-af725a5b78fb: []"}	1588795036199
EVENTS	1588795045868	{"@timestamp":"2020-05-06T19:57:24.447Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 0dfa140b-4ffd-4157-b808-2448cf9fad84 and profile ADMIN."}	1588795044447
EVENTS	1588795050865	{"@timestamp":"2020-05-06T19:57:27.668Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 69f19ef2-7719-4446-a01c-09af28315990 and profile ADMIN."}	1588795047669
EVENTS	1588795090873	{"@timestamp":"2020-05-06T19:58:08.531Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 6b239d19-1c3b-48e2-b5c8-0bbaea92d551 and profile ADMIN."}	1588795088531
EVENTS	1588795120864	{"@timestamp":"2020-05-06T19:58:37.225Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken cbdba262-52b9-48b7-bafd-da2962f16e76 and profile ADMIN."}	1588795117226
EVENTS	1588795130867	{"@timestamp":"2020-05-06T19:58:46.691Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3045a8cd-ff2a-4cd3-a3ff-42d4b56fa90d and profile ADMIN."}	1588795126692
EVENTS	1588795170868	{"@timestamp":"2020-05-06T19:59:27.058Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 46c9e43a-3e6c-4e1f-9c88-facf9a166e3a and profile ADMIN."}	1588795167059
EVENTS	1588795180866	{"@timestamp":"2020-05-06T19:59:37.342Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d49dfa26-9e5e-4d50-93fb-33c5230ffa30 and profile CASHIER."}	1588795177342
EVENTS	1588795180866	{"@timestamp":"2020-05-06T19:59:38.182Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken af6d6103-05e0-4cd1-a8ff-9e106c3556bb and profile ADMIN."}	1588795178183
EVENTS	1588795195878	{"@timestamp":"2020-05-06T19:59:54.075Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 7edcd04e-56c5-43af-a497-d08455b236b8 and profile ADMIN."}	1588795194075
EVENTS	1588795195878	{"@timestamp":"2020-05-06T19:59:55.507Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken dbdbbff0-3f07-49f9-9d56-4f1cc8d346a8 and profile ADMIN."}	1588795195508
EVENTS	1588795210868	{"@timestamp":"2020-05-06T20:00:08.080Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken dcc74b7d-89ae-4dea-97b9-bc832ac67186 and profile ADMIN."}	1588795208081
EVENTS	1588795230866	{"@timestamp":"2020-05-06T20:00:30.577Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 5c80f678-b8c0-47b3-9894-f183a4eecde5 and profile ADMIN."}	1588795230578
EVENTS	1588795250866	{"@timestamp":"2020-05-06T20:00:49.477Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken fc41e221-48b8-4a77-a9a4-907f79745fd6 and profile ADMIN."}	1588795249477
EVENTS	1588795265869	{"@timestamp":"2020-05-06T20:01:02.571Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken b24446e4-7f78-4b07-b9b2-5aa392cceb6f and profile ADMIN."}	1588795262572
EVENTS	1588795280868	{"@timestamp":"2020-05-06T20:01:17.176Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 8db436c6-24bf-47df-818a-cb1ea1636fa6 and profile ADMIN."}	1588795277176
EVENTS	1588795285866	{"@timestamp":"2020-05-06T20:01:24.470Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d7eec471-d493-4308-99fd-f7b0ecee4027 and profile ADMIN."}	1588795284473
EVENTS	1588795295868	{"@timestamp":"2020-05-06T20:01:33.742Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 09067cb1-d838-4d6b-8cfd-6700df05471f and profile ADMIN."}	1588795293743
EVENTS	1588795305866	{"@timestamp":"2020-05-06T20:01:42.256Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 135fd18c-db44-4f74-8f37-3c8f68a2f4de and profile ADMIN."}	1588795302256
EVENTS	1588795320871	{"@timestamp":"2020-05-06T20:01:57.353Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 135fd18c-db44-4f74-8f37-3c8f68a2f4de and profile ADMIN."}	1588795317353
EVENTS	1588795340878	{"@timestamp":"2020-05-06T20:02:20.125Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 5e2e8726-cd7a-47df-acdc-54689843f33f and profile ADMIN."}	1588795340125
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.461Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8740b157-b792-4763-a30e-69c31f96bd4d "}	1588795346462
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.462Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8740b157-b792-4763-a30e-69c31f96bd4d"}	1588795346462
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.470Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 8740b157-b792-4763-a30e-69c31f96bd4d"}	1588795346471
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.472Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '8740b157-b792-4763-a30e-69c31f96bd4d' and pre-approval: '109033c6-ba3e-4e92-816f-9ac1a65e7b28'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795346473
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.697Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346698
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.698Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346699
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.699Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 8740b157-b792-4763-a30e-69c31f96bd4d"}	1588795346700
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.702Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '8740b157-b792-4763-a30e-69c31f96bd4d' and pre-approval: 'ca85f2b0-7314-44f6-8848-050cae663ba4'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795346703
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.814Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346815
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.815Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346816
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.816Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 8740b157-b792-4763-a30e-69c31f96bd4d"}	1588795346817
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.818Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '8740b157-b792-4763-a30e-69c31f96bd4d' and pre-approval: 'cfd496f6-d92b-41c6-8ae3-721b3fadad61'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795346819
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.858Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346859
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.859Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346860
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.860Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 8740b157-b792-4763-a30e-69c31f96bd4d"}	1588795346860
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.862Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '8740b157-b792-4763-a30e-69c31f96bd4d' and pre-approval: '240af762-8e07-4eae-adf9-56376a6db245'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795346862
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.901Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346901
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.902Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346902
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.902Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 8740b157-b792-4763-a30e-69c31f96bd4d"}	1588795346903
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.904Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '8740b157-b792-4763-a30e-69c31f96bd4d' and pre-approval: '7bb94a20-2f80-41b0-b5b5-5e414e94e589'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795346906
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.941Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346942
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.942Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346943
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.944Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 8740b157-b792-4763-a30e-69c31f96bd4d"}	1588795346944
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.951Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '8740b157-b792-4763-a30e-69c31f96bd4d' and pre-approval: 'cdb4da38-9728-4edd-88f2-15accc3c90c8'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795346952
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.989Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346990
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.990Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795346991
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:26.991Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8740b157-b792-4763-a30e-69c31f96bd4d: [{\"id\":\"109033c6-ba3e-4e92-816f-9ac1a65e7b28\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"8740b157-b792-4763-a30e-69c31f96bd4d\",\"proxy_merchant_token\":\"07f7104c-2ba3-4d14-9501-72b4dc2d6ef5\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"4470.00\",\"interest\":\"447.00\",\"tax\":\"71.52\",\"payback\":\"4988.52\",\"retention_rate\":\"6.2899\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:06:36Z\"},{\"id\":\"ca85f2b0-7314-44f6-8848-050cae663ba4\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"8740b157-b792-4763-a30e-69c31f96bd4d\",\"proxy_merchant_token\":\"07f7104c-2ba3-4d14-9501-72b4dc2d6ef5\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"2230.00\",\"interest\":\"223.00\",\"tax\":\"35.68\",\"payback\":\"2488.68\",\"retention_rate\":\"3.1379\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:06:36Z\"},{\"id\":\"cfd496f6-d92b-41c6-8ae3-721b3fadad61\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"8740b157-b792-4763-a30e-69c31f96bd4d\",\"proxy_merchant_token\":\"07f7104c-2ba3-4d14-9501-72b4dc2d6ef5\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"3120.00\",\"interest\":\"312.00\",\"tax\":\"49.92\",\"payback\":\"3481.92\",\"retention_rate\":\"4.3903\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:06:36Z\"},{\"id\":\"240af762-8e07-4eae-adf9-56376a6db245\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"8740b157-b792-4763-a30e-69c31f96bd4d\",\"proxy_merchant_token\":\"07f7104c-2ba3-4d14-9501-72b4dc2d6ef5\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"4470.00\",\"interest\":\"447.00\",\"tax\":\"71.52\",\"payback\":\"4988.52\",\"retention_rate\":\"6.2899\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:06:44Z\"},{\"id\":\"7bb94a20-2f80-41b0-b5b5-5e414e94e589\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"8740b157-b792-4763-a30e-69c31f96bd4d\",\"proxy_merchant_token\":\"07f7104c-2ba3-4d14-9501-72b4dc2d6ef5\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3120.00\",\"interest\":\"312.00\",\"tax\":\"49.92\",\"payback\":\"3481.92\",\"retention_rate\":\"4.3903\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:06:44Z\"},{\"id\":\"cdb4da38-9728-4edd-88f2-15accc3c90c8\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"8740b157-b792-4763-a30e-69c31f96bd4d\",\"proxy_merchant_token\":\"07f7104c-2ba3-4d14-9501-72b4dc2d6ef5\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"2230.00\",\"interest\":\"223.00\",\"tax\":\"35.68\",\"payback\":\"2488.68\",\"retention_rate\":\"3.1379\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:06:44Z\"}]"}	1588795346996
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.763Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f "}	1588795347764
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.764Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795347764
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.766Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795347766
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.767Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: '533f5020-696a-475b-a8e7-8377e4ba0c01'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795347768
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.820Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588795347820
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.820Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795347820
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.822Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: 'eacdf3c6-b431-43e4-b968-31ee9febb417'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795347822
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.871Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588795347871
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.871Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795347872
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.873Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: 'f341e518-400c-44ee-aa99-3efac86d82ed'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795347873
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.917Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588795347918
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.918Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795347918
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.920Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: 'd2e60392-5095-4bce-addc-1e01464ef728'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795347921
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.968Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795347969
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.969Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795347970
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.970Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795347971
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:27.972Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: 'de34abc8-1618-446a-8f6e-3252f83c9e9f'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795347972
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.022Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348023
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.023Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348024
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.024Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795348024
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.026Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: 'f2fb9479-b07c-4a6f-8643-e245a0084491'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795348027
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.075Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348075
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.075Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348076
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.076Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795348077
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.084Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: 'ce50e235-c318-4f43-918e-e9cbaa563ce3'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795348085
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.138Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348139
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.139Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348140
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.140Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795348140
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.144Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: 'd3ba6307-fde4-4f70-8783-46e1439d2499'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795348144
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.207Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348207
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.208Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348208
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.208Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795348209
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.211Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: 'ef602b65-4ecf-42bb-83f6-40a5306b3f01'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795348211
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.266Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348267
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.267Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348268
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.268Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795348268
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.269Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: '3d9c220e-6210-47c4-a4d4-68e30d346dc6'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795348270
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.335Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348336
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.336Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348337
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.338Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795348338
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.339Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: '3ed62315-e2d1-4516-9512-3942b9124211'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795348340
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.396Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348396
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.397Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348397
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.397Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f"}	1588795348398
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.399Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd650af8b-874c-4fb9-8b0a-6af5beee1a1f' and pre-approval: '9221b969-5ad5-44c0-ab07-406ee36fc7b6'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795348400
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.458Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348459
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.459Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795348459
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:28.460Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d650af8b-874c-4fb9-8b0a-6af5beee1a1f: [{\"id\":\"533f5020-696a-475b-a8e7-8377e4ba0c01\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"65000.00\",\"interest\":\"12386.52\",\"tax\":\"1981.84\",\"payback\":\"79368.36\",\"retention_rate\":\"1.5000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":5,\"created_at\":\"2020-02-27T11:23:47Z\"},{\"id\":\"eacdf3c6-b431-43e4-b968-31ee9febb417\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"45000.00\",\"interest\":\"8571.61\",\"tax\":\"1371.46\",\"payback\":\"54943.07\",\"retention_rate\":\"1.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":5,\"created_at\":\"2020-02-27T11:23:47Z\"},{\"id\":\"f341e518-400c-44ee-aa99-3efac86d82ed\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"55000.00\",\"interest\":\"10483.83\",\"tax\":\"1677.41\",\"payback\":\"67161.24\",\"retention_rate\":\"1.2500\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":5,\"created_at\":\"2020-02-27T11:23:47Z\"},{\"id\":\"d2e60392-5095-4bce-addc-1e01464ef728\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"45000.00\",\"interest\":\"6139.45\",\"tax\":\"982.31\",\"payback\":\"52121.76\",\"retention_rate\":\"1.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T06:57:01Z\"},{\"id\":\"de34abc8-1618-446a-8f6e-3252f83c9e9f\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"55000.00\",\"interest\":\"7503.16\",\"tax\":\"1200.51\",\"payback\":\"63703.67\",\"retention_rate\":\"1.5000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T06:57:01Z\"},{\"id\":\"f2fb9479-b07c-4a6f-8643-e245a0084491\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"64900.00\",\"interest\":\"8967.91\",\"tax\":\"1434.87\",\"payback\":\"75302.78\",\"retention_rate\":\"2.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T06:57:01Z\"},{\"id\":\"ce50e235-c318-4f43-918e-e9cbaa563ce3\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"55000.00\",\"interest\":\"5445.88\",\"tax\":\"871.34\",\"payback\":\"61317.22\",\"retention_rate\":\"2.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":4,\"created_at\":\"2019-12-13T21:50:47Z\"},{\"id\":\"d3ba6307-fde4-4f70-8783-46e1439d2499\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"65000.00\",\"interest\":\"6431.87\",\"tax\":\"1029.10\",\"payback\":\"72460.97\",\"retention_rate\":\"2.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":4,\"created_at\":\"2019-12-13T21:50:47Z\"},{\"id\":\"ef602b65-4ecf-42bb-83f6-40a5306b3f01\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"44900.00\",\"interest\":\"5113.78\",\"tax\":\"818.20\",\"payback\":\"50831.98\",\"retention_rate\":\"1.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":4,\"created_at\":\"2019-12-13T21:50:47Z\"},{\"id\":\"3d9c220e-6210-47c4-a4d4-68e30d346dc6\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"55000.00\",\"interest\":\"7505.03\",\"tax\":\"1200.80\",\"payback\":\"63705.84\",\"retention_rate\":\"1.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":4,\"created_at\":\"2019-11-29T00:09:31Z\"},{\"id\":\"3ed62315-e2d1-4516-9512-3942b9124211\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"45000.00\",\"interest\":\"6147.11\",\"tax\":\"983.54\",\"payback\":\"52130.65\",\"retention_rate\":\"1.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":4,\"created_at\":\"2019-11-29T00:09:31Z\"},{\"id\":\"9221b969-5ad5-44c0-ab07-406ee36fc7b6\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d650af8b-874c-4fb9-8b0a-6af5beee1a1f\",\"proxy_merchant_token\":\"6a5db152-2b06-47f4-8800-736c5da3297d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"65000.00\",\"interest\":\"8040.85\",\"tax\":\"1286.54\",\"payback\":\"74327.38\",\"retention_rate\":\"2.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":4,\"created_at\":\"2019-11-29T00:09:31Z\"}]"}	1588795348468
EVENTS	1588795351132	{"@timestamp":"2020-05-06T20:02:30.064Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 95095abb-0031-41b3-b2d0-6f4be9d95dca and profile ADMIN."}	1588795350065
EVENTS	1588795355876	{"@timestamp":"2020-05-06T20:02:34.416Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 87ee4b3e-a533-4fc3-b7c9-ead433ee1d95 and profile ADMIN."}	1588795354417
EVENTS	1588795360873	{"@timestamp":"2020-05-06T20:02:38.262Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken eb65b939-b6a9-49a4-84d0-82023fe6a8f4 and profile ADMIN."}	1588795358263
EVENTS	1588795360873	{"@timestamp":"2020-05-06T20:02:39.291Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 09067cb1-d838-4d6b-8cfd-6700df05471f and profile ADMIN."}	1588795359292
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.746Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981 "}	1588795365746
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.746Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981"}	1588795365747
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.750Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981"}	1588795365750
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.752Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981' and pre-approval: '14bc17cb-5881-4645-b3cf-8e37a37bb25a'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795365752
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.805Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795365805
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.806Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795365806
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.807Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981"}	1588795365807
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.810Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981' and pre-approval: '59804643-b12c-459a-89b8-003c80883589'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795365810
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.843Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795365844
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.844Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795365846
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.846Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981"}	1588795365847
EVENTS	1588795365889	{"@timestamp":"2020-05-06T20:02:45.848Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981' and pre-approval: 'b75ac0a5-3498-47a5-857d-b9514f33290e'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795365853
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:45.889Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795365890
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:45.903Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795365904
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:45.905Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981"}	1588795365905
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:45.925Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981' and pre-approval: '0280c193-e900-4702-af33-e1f0823127de'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795365929
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:45.982Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795365982
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:45.984Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795365984
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:45.985Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981"}	1588795365985
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:45.988Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981' and pre-approval: 'd9d3f25e-f10c-4dc0-adf8-329e496b6795'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795365988
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:46.056Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795366058
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:46.058Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795366058
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:46.059Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981"}	1588795366061
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:46.063Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981' and pre-approval: 'fbae45e0-8145-4754-9925-7df103168707'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795366063
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:46.118Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795366118
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:46.119Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795366119
EVENTS	1588795370961	{"@timestamp":"2020-05-06T20:02:46.120Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981: [{\"id\":\"14bc17cb-5881-4645-b3cf-8e37a37bb25a\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981\",\"proxy_merchant_token\":\"ef76c565-c111-45e4-8cba-1ec76f40399c\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"7000.00\",\"interest\":\"700.00\",\"tax\":\"112.00\",\"payback\":\"7812.00\",\"retention_rate\":\"1.4204\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:01:52Z\"},{\"id\":\"59804643-b12c-459a-89b8-003c80883589\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981\",\"proxy_merchant_token\":\"ef76c565-c111-45e4-8cba-1ec76f40399c\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"5000.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"5580.00\",\"retention_rate\":\"1.0145\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:01:52Z\"},{\"id\":\"b75ac0a5-3498-47a5-857d-b9514f33290e\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981\",\"proxy_merchant_token\":\"ef76c565-c111-45e4-8cba-1ec76f40399c\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1000.00\",\"tax\":\"160.00\",\"payback\":\"11160.00\",\"retention_rate\":\"2.0291\",\"expiration_date\":\"2020-05-16\",\"term_maximum\":1,\"created_at\":\"2020-05-01T15:01:52Z\"},{\"id\":\"0280c193-e900-4702-af33-e1f0823127de\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981\",\"proxy_merchant_token\":\"ef76c565-c111-45e4-8cba-1ec76f40399c\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7000.00\",\"interest\":\"700.00\",\"tax\":\"112.00\",\"payback\":\"7812.00\",\"retention_rate\":\"1.4204\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:01:52Z\"},{\"id\":\"d9d3f25e-f10c-4dc0-adf8-329e496b6795\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981\",\"proxy_merchant_token\":\"ef76c565-c111-45e4-8cba-1ec76f40399c\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1000.00\",\"tax\":\"160.00\",\"payback\":\"11160.00\",\"retention_rate\":\"2.0291\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:01:52Z\"},{\"id\":\"fbae45e0-8145-4754-9925-7df103168707\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"56f13dbc-a8b8-4be2-ab7d-c60bb1e7f981\",\"proxy_merchant_token\":\"ef76c565-c111-45e4-8cba-1ec76f40399c\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5000.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"5580.00\",\"retention_rate\":\"1.0145\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T15:01:52Z\"}]"}	1588795366123
EVENTS	1588795385874	{"@timestamp":"2020-05-06T20:03:04.776Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 868b0cf9-119a-42da-b374-91213d91178b and profile ADMIN."}	1588795384776
EVENTS	1588795410872	{"@timestamp":"2020-05-06T20:03:27.598Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d85810cf-85eb-46f9-8793-ab6e3ecc832d and profile ADMIN."}	1588795407599
EVENTS	1588795410872	{"@timestamp":"2020-05-06T20:03:28.102Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token ff35f6f2-cd09-4428-9896-d76da43be098 "}	1588795408103
EVENTS	1588795410872	{"@timestamp":"2020-05-06T20:03:28.103Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token ff35f6f2-cd09-4428-9896-d76da43be098"}	1588795408103
EVENTS	1588795410872	{"@timestamp":"2020-05-06T20:03:28.105Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token ff35f6f2-cd09-4428-9896-d76da43be098: []"}	1588795408105
EVENTS	1588795425874	{"@timestamp":"2020-05-06T20:03:41.419Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken afdde23e-7690-4ca8-87ea-bc3f758e8603 and profile ADMIN."}	1588795421420
EVENTS	1588795440873	{"@timestamp":"2020-05-06T20:03:59.388Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken dd3a0755-bc79-42c4-8b1a-4ee370875a78 and profile ADMIN."}	1588795439388
EVENTS	1588795450870	{"@timestamp":"2020-05-06T20:04:06.285Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 96ade187-fda4-4d51-a19e-caacbd10789f and profile ADMIN."}	1588795446286
EVENTS	1588795480873	{"@timestamp":"2020-05-06T20:04:37.939Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken be4c734d-3f62-4043-a09f-df62a672e500 and profile ADMIN."}	1588795477939
EVENTS	1588795490873	{"@timestamp":"2020-05-06T20:04:49.059Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e24e7080-5ce3-42a8-b9f1-332f550bec9e and profile ADMIN."}	1588795489059
EVENTS	1588795495872	{"@timestamp":"2020-05-06T20:04:52.486Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3fbe0bf7-2a66-47e4-ba8a-7fdfa864a0cd and profile ADMIN."}	1588795492487
EVENTS	1588795500871	{"@timestamp":"2020-05-06T20:04:56.109Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 33335f3e-f9b0-4350-8bcb-b0142d9b81b2 and profile ADMIN."}	1588795496109
EVENTS	1588795500871	{"@timestamp":"2020-05-06T20:04:58.261Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a91f5d27-7026-4e67-84c4-80d58a3c6ea6 and profile ADMIN."}	1588795498262
EVENTS	1588795515876	{"@timestamp":"2020-05-06T20:05:13.004Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c2ff2bce-30af-4eb5-88de-130f0e58c079 and profile ADMIN."}	1588795513004
EVENTS	1588795530881	{"@timestamp":"2020-05-06T20:05:26.062Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken aee9a85d-8885-4350-8184-d1df373c27cb and profile ADMIN."}	1588795526063
EVENTS	1588795550873	{"@timestamp":"2020-05-06T20:05:46.163Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 83df7c68-ba4f-4a98-a667-2c28dd257bbc and profile ADMIN."}	1588795546163
EVENTS	1588795550873	{"@timestamp":"2020-05-06T20:05:50.528Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 80ca3070-180d-4534-895e-bdec098151da and profile MANAGER."}	1588795550529
EVENTS	1588795565869	{"@timestamp":"2020-05-06T20:06:04.963Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 0df116a1-e806-4b6b-b7fd-f12128acb88d and profile ADMIN."}	1588795564964
EVENTS	1588795575875	{"@timestamp":"2020-05-06T20:06:12.017Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 2e2f98b3-6afe-4d6e-9f1d-127915c2e534 and profile CASHIER."}	1588795572018
EVENTS	1588795580870	{"@timestamp":"2020-05-06T20:06:17.837Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1775c75c-ec2a-421b-940b-7f0b28df9fb9 and profile ADMIN."}	1588795577838
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.354Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 1f307951-d96f-4534-a289-015417b33e0f "}	1588795587354
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.354Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587355
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.356Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587357
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.429Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"active\"}"}	1588795587430
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.430Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587430
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.432Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '1f307951-d96f-4534-a289-015417b33e0f' and pre-approval: '57e00142-2201-4f0e-8283-8bb3be616999'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795587435
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.481Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"active\"}"}	1588795587482
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.482Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587482
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.483Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '1f307951-d96f-4534-a289-015417b33e0f' and pre-approval: 'e210ffc0-54f4-4a86-87a8-35ec14237c6a'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795587483
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.552Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"active\"}"}	1588795587553
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.552Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587553
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.554Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '1f307951-d96f-4534-a289-015417b33e0f' and pre-approval: '23921718-160b-4fef-8917-975997449884'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795587555
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.598Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587599
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.599Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587600
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.601Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587601
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.602Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '1f307951-d96f-4534-a289-015417b33e0f' and pre-approval: 'a7a2f108-2c03-4679-a806-d0b1214e500a'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795587603
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.690Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587691
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.691Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587692
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.692Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587693
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.694Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '1f307951-d96f-4534-a289-015417b33e0f' and pre-approval: 'b26be295-ff7b-464b-8c98-d0798a9a3738'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795587694
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.741Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587741
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.741Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587742
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.742Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587743
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.744Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '1f307951-d96f-4534-a289-015417b33e0f' and pre-approval: '3e307936-dc5d-4e57-97fe-330579fdb618'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795587745
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.821Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587824
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.824Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587826
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.826Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587829
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.834Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '1f307951-d96f-4534-a289-015417b33e0f' and pre-approval: '50e3abf1-59b0-4f35-9346-dd0a432a278e'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795587835
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.900Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587901
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.901Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587902
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.906Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 1f307951-d96f-4534-a289-015417b33e0f"}	1588795587906
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.908Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '1f307951-d96f-4534-a289-015417b33e0f' and pre-approval: 'ca9e015b-4edb-46b8-87d3-8c7639df4a86'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795587908
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.955Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587955
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.956Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795587956
EVENTS	1588795590878	{"@timestamp":"2020-05-06T20:06:27.957Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 1f307951-d96f-4534-a289-015417b33e0f: [{\"id\":\"24be8830-ef90-4719-99ac-38bb67d096c8\",\"loan\":{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"provider_code\":null,\"provider_loan_id\":\"8721-1-1\",\"merchant_token\":null,\"proxy_merchant_token\":null,\"status\":\"ACTIVE\",\"merchant_id\":\"d766628c-db46-4a98-adcd-4d77ab32e5ad\",\"sales_retention_percentage\":null,\"loan_amount\":\"44200.00\",\"total_payback\":\"49149.99\",\"total_pending\":\"11372.91\",\"total_paid\":\"38470.45\",\"overdue_interest\":\"693.37\",\"rate_interest_regular\":null,\"interest\":\"4949.99\",\"tax\":\"0.00\",\"interest_and_tax\":\"4949.99\",\"current_balance\":\"11372.91\",\"start_date_local\":\"2019-11-19\",\"end_date_local\":\"2020-04-19\",\"balance\":{\"total\":\"11372.91\",\"capital\":\"10227.54\",\"interest\":\"1145.37\",\"tax\":\"0.00\",\"overdue_interest\":\"0.00\"}},\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"status\":\"ACTIVE\",\"sub_status\":\"active\",\"amount\":\"44200.00\",\"interest\":\"4950.00\",\"tax\":\"792.00\",\"payback\":\"49942.00\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2019-11-13\",\"term_maximum\":5,\"created_at\":\"2019-10-30T00:02:40Z\"},{\"id\":\"57e00142-2201-4f0e-8283-8bb3be616999\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"status\":\"DECLINED\",\"sub_status\":\"active\",\"amount\":\"31600.00\",\"interest\":\"3500.00\",\"tax\":\"560.00\",\"payback\":\"35660.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2019-11-13\",\"term_maximum\":5,\"created_at\":\"2019-10-30T00:02:40Z\"},{\"id\":\"e210ffc0-54f4-4a86-87a8-35ec14237c6a\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"status\":\"DECLINED\",\"sub_status\":\"active\",\"amount\":\"56900.00\",\"interest\":\"6290.00\",\"tax\":\"1006.40\",\"payback\":\"64196.40\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2019-11-13\",\"term_maximum\":5,\"created_at\":\"2019-10-30T00:02:40Z\"},{\"id\":\"23921718-160b-4fef-8917-975997449884\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"19400.00\",\"interest\":\"2010.00\",\"tax\":\"321.60\",\"payback\":\"21731.60\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2019-10-03\",\"term_maximum\":5,\"created_at\":\"2019-09-18T17:41:32Z\"},{\"id\":\"a7a2f108-2c03-4679-a806-d0b1214e500a\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"15100.00\",\"interest\":\"1550.00\",\"tax\":\"248.00\",\"payback\":\"16898.00\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2019-10-03\",\"term_maximum\":5,\"created_at\":\"2019-09-18T17:41:32Z\"},{\"id\":\"b26be295-ff7b-464b-8c98-d0798a9a3738\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10800.00\",\"interest\":\"1100.00\",\"tax\":\"176.00\",\"payback\":\"12076.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2019-10-03\",\"term_maximum\":5,\"created_at\":\"2019-09-18T17:41:32Z\"},{\"id\":\"3e307936-dc5d-4e57-97fe-330579fdb618\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"19400.00\",\"interest\":\"2010.00\",\"tax\":\"321.60\",\"payback\":\"21731.60\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2019-09-13\",\"term_maximum\":5,\"created_at\":\"2019-08-29T22:07:56Z\"},{\"id\":\"50e3abf1-59b0-4f35-9346-dd0a432a278e\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10800.00\",\"interest\":\"1100.00\",\"tax\":\"176.00\",\"payback\":\"12076.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2019-09-13\",\"term_maximum\":5,\"created_at\":\"2019-08-29T22:07:56Z\"},{\"id\":\"ca9e015b-4edb-46b8-87d3-8c7639df4a86\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"15100.00\",\"interest\":\"1550.00\",\"tax\":\"248.00\",\"payback\":\"16898.00\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2019-09-13\",\"term_maximum\":5,\"created_at\":\"2019-08-29T22:07:56Z\"}]"}	1588795587963
EVENTS	1588795595871	{"@timestamp":"2020-05-06T20:06:35.421Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken d1f61e2e-cf39-41e0-8864-7834f7fd8162 and profile MANAGER."}	1588795595427
EVENTS	1588795615873	{"@timestamp":"2020-05-06T20:06:50.878Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken c9a02ab7-f628-4618-8728-dc443b69d2e6 and profile ADMIN."}	1588795610879
EVENTS	1588795620869	{"@timestamp":"2020-05-06T20:06:56.385Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ecbe86e8-40f1-406e-b2a7-cf3508931c32 and profile ADMIN."}	1588795616387
EVENTS	1588795640871	{"@timestamp":"2020-05-06T20:07:19.213Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a57e1317-61a8-4e51-8bae-1c458f81892f and profile ADMIN."}	1588795639214
EVENTS	1588795655872	{"@timestamp":"2020-05-06T20:07:31.966Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 6a587dc6-6a74-4100-8f5a-12c8f309054a and profile ADMIN."}	1588795651967
EVENTS	1588795660870	{"@timestamp":"2020-05-06T20:07:38.532Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 0068e6fc-7244-4484-a7af-4ef3511b45b8 "}	1588795658532
EVENTS	1588795660870	{"@timestamp":"2020-05-06T20:07:38.532Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 0068e6fc-7244-4484-a7af-4ef3511b45b8"}	1588795658533
EVENTS	1588795660870	{"@timestamp":"2020-05-06T20:07:38.534Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 0068e6fc-7244-4484-a7af-4ef3511b45b8: []"}	1588795658535
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.220Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 2f0ff802-9c50-48e2-895f-205f0cc40f83 "}	1588795667221
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.221Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 2f0ff802-9c50-48e2-895f-205f0cc40f83"}	1588795667221
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.223Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2f0ff802-9c50-48e2-895f-205f0cc40f83"}	1588795667223
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.224Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2f0ff802-9c50-48e2-895f-205f0cc40f83' and pre-approval: '0aa04221-e2fb-42a1-a130-8a9ef6947e14'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795667225
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.321Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588795667321
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.321Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2f0ff802-9c50-48e2-895f-205f0cc40f83"}	1588795667322
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.323Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2f0ff802-9c50-48e2-895f-205f0cc40f83' and pre-approval: '11b40a18-00f6-4d3d-a740-3be58fa99afa'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795667323
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.371Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588795667372
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.372Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2f0ff802-9c50-48e2-895f-205f0cc40f83"}	1588795667372
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.374Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2f0ff802-9c50-48e2-895f-205f0cc40f83' and pre-approval: '5f41437c-c9fc-4e6c-ac1f-731e0d816366'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795667374
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.419Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588795667420
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.420Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2f0ff802-9c50-48e2-895f-205f0cc40f83"}	1588795667420
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.421Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2f0ff802-9c50-48e2-895f-205f0cc40f83' and pre-approval: '63276936-d2a4-4e91-af55-8fa787ed6be4'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795667422
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.491Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795667492
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.492Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795667493
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.494Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2f0ff802-9c50-48e2-895f-205f0cc40f83"}	1588795667494
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.495Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2f0ff802-9c50-48e2-895f-205f0cc40f83' and pre-approval: '70b1de05-8601-4005-93a8-4a5d130870d5'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795667496
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.539Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795667540
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.541Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795667541
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.541Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 2f0ff802-9c50-48e2-895f-205f0cc40f83"}	1588795667542
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.544Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '2f0ff802-9c50-48e2-895f-205f0cc40f83' and pre-approval: '9c1aa6da-d584-4ec4-bfe8-36e375b6f1bf'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$1f4c8e1e.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$f9481a1d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588795667544
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.585Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795667586
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.586Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588795667587
EVENTS	1588795670879	{"@timestamp":"2020-05-06T20:07:47.587Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 2f0ff802-9c50-48e2-895f-205f0cc40f83: [{\"id\":\"0aa04221-e2fb-42a1-a130-8a9ef6947e14\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"2f0ff802-9c50-48e2-895f-205f0cc40f83\",\"proxy_merchant_token\":\"6b5a7ba0-b4c3-43e6-b613-43cd46992bd4\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"2500.00\",\"interest\":\"580.00\",\"tax\":\"92.80\",\"payback\":\"3172.80\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T03:05:05Z\"},{\"id\":\"11b40a18-00f6-4d3d-a740-3be58fa99afa\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"2f0ff802-9c50-48e2-895f-205f0cc40f83\",\"proxy_merchant_token\":\"6b5a7ba0-b4c3-43e6-b613-43cd46992bd4\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"5600.00\",\"interest\":\"1180.00\",\"tax\":\"188.80\",\"payback\":\"6968.80\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T03:05:05Z\"},{\"id\":\"5f41437c-c9fc-4e6c-ac1f-731e0d816366\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"2f0ff802-9c50-48e2-895f-205f0cc40f83\",\"proxy_merchant_token\":\"6b5a7ba0-b4c3-43e6-b613-43cd46992bd4\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"4100.00\",\"interest\":\"830.00\",\"tax\":\"132.80\",\"payback\":\"5062.80\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T03:05:05Z\"},{\"id\":\"63276936-d2a4-4e91-af55-8fa787ed6be4\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"2f0ff802-9c50-48e2-895f-205f0cc40f83\",\"proxy_merchant_token\":\"6b5a7ba0-b4c3-43e6-b613-43cd46992bd4\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"4900.00\",\"interest\":\"900.00\",\"tax\":\"144.00\",\"payback\":\"5944.00\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-06T23:55:52Z\"},{\"id\":\"70b1de05-8601-4005-93a8-4a5d130870d5\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"2f0ff802-9c50-48e2-895f-205f0cc40f83\",\"proxy_merchant_token\":\"6b5a7ba0-b4c3-43e6-b613-43cd46992bd4\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3800.00\",\"interest\":\"710.00\",\"tax\":\"113.60\",\"payback\":\"4623.60\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-06T23:55:52Z\"},{\"id\":\"9c1aa6da-d584-4ec4-bfe8-36e375b6f1bf\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"2f0ff802-9c50-48e2-895f-205f0cc40f83\",\"proxy_merchant_token\":\"6b5a7ba0-b4c3-43e6-b613-43cd46992bd4\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"2700.00\",\"interest\":\"520.00\",\"tax\":\"83.20\",\"payback\":\"3303.20\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-06T23:55:52Z\"}]"}	1588795667591
EVENTS	1588795675872	{"@timestamp":"2020-05-06T20:07:50.995Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken e0ec8d6d-5a2e-41e6-9a90-65f02c9aa767 and profile ADMIN."}	1588795670996
EVENTS	1588795690871	{"@timestamp":"2020-05-06T20:08:08.622Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 1eb1ae27-5e74-4485-aff3-4ba123b55851 and profile ADMIN."}	1588795688623
EVENTS	1588795700872	{"@timestamp":"2020-05-06T20:08:15.951Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 4330184b-f118-4e7f-8961-df8d4739fc75 and profile ADMIN."}	1588795695952
EVENTS	1588795700872	{"@timestamp":"2020-05-06T20:08:18.857Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 0b10300c-c33f-4f92-b467-952e4e75fa68 "}	1588795698857
EVENTS	1588795700872	{"@timestamp":"2020-05-06T20:08:18.857Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 0b10300c-c33f-4f92-b467-952e4e75fa68"}	1588795698857
EVENTS	1588795700872	{"@timestamp":"2020-05-06T20:08:18.866Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 0b10300c-c33f-4f92-b467-952e4e75fa68: []"}	1588795698866
EVENTS	1588795710870	{"@timestamp":"2020-05-06T20:08:27.968Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 683521d2-88da-49a8-a40c-dcd1c709af31 and profile ADMIN."}	1588795707969
EVENTS	1588795720868	{"@timestamp":"2020-05-06T20:08:37.384Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllLoansByMerchantToken","file":"LoansController.java","line":156,"message":"getAllLoansByMerchantToken for merchantToken 1eb1ae27-5e74-4485-aff3-4ba123b55851."}	1588795717387
EVENTS	1588795720868	{"@timestamp":"2020-05-06T20:08:37.386Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoansByMerchantToken","file":"LoansDaoImpl.java","line":190,"message":"invoking sql query to find loans by merchant token 1eb1ae27-5e74-4485-aff3-4ba123b55851"}	1588795717387
EVENTS	1588795720868	{"@timestamp":"2020-05-06T20:08:37.547Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-32","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3ff778ce-641b-4794-bd80-8641a6cc20c1 and profile ADMIN."}	1588795717548
EVENTS	1588795730871	{"@timestamp":"2020-05-06T20:08:46.946Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken ff623adf-6786-4002-8dd4-36eda749210d and profile ADMIN."}	1588795726946
EVENTS	1588795765879	{"@timestamp":"2020-05-06T20:09:24.014Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 09067cb1-d838-4d6b-8cfd-6700df05471f and profile ADMIN."}	1588795764027
EVENTS	1588795780871	{"@timestamp":"2020-05-06T20:09:40.551Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.CollectionsHandler","method":"onCollectionsMessage","file":"CollectionsHandler.java","line":36,"message":"Request for merchant token 1f307951-d96f-4534-a289-015417b33e0f: {\"merchant_token\": \"1f307951-d96f-4534-a289-015417b33e0f\", \"loan_id\": \"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\", limit: 7}"}	1588795780551
EVENTS	1588795780871	{"@timestamp":"2020-05-06T20:09:40.553Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.CollectionsDaoImpl","method":"findCollectionsByMerchantToken","file":"CollectionsDaoImpl.java","line":98,"message":"loanId: aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b, merchantToken: 1f307951-d96f-4534-a289-015417b33e0f, numberRows: 7"}	1588795780554
EVENTS	1588795780871	{"@timestamp":"2020-05-06T20:09:40.570Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.CollectionsHandler","method":"onCollectionsMessage","file":"CollectionsHandler.java","line":44,"message":"Response for merchant token 1f307951-d96f-4534-a289-015417b33e0f: [{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-05-06\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"217.14\",\"capital\":\"167.84\",\"interest\":\"18.80\",\"tax\":\"0.00\",\"overdue_interest\":\"30.50\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-05-06T11:45:39Z\",\"updated_at\":\"2020-05-06T17:01:10Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-05-05\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"123.70\",\"capital\":\"1.49\",\"interest\":\"0.17\",\"tax\":\"0.00\",\"overdue_interest\":\"122.04\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-05-05T11:45:35Z\",\"updated_at\":\"2020-05-05T17:01:33Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-05-01\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"138.95\",\"capital\":\"92.31\",\"interest\":\"10.34\",\"tax\":\"0.00\",\"overdue_interest\":\"36.30\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-05-01T11:45:45Z\",\"updated_at\":\"2020-05-01T17:03:35Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-04-30\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"25.26\",\"capital\":\"0.00\",\"interest\":\"0.00\",\"tax\":\"0.00\",\"overdue_interest\":\"25.26\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-04-30T11:45:41Z\",\"updated_at\":\"2020-04-30T17:03:37Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-04-29\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"153.35\",\"capital\":\"109.94\",\"interest\":\"12.31\",\"tax\":\"0.00\",\"overdue_interest\":\"31.10\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-04-29T11:45:41Z\",\"updated_at\":\"2020-04-29T17:03:37Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-04-28\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"312.49\",\"capital\":\"220.17\",\"interest\":\"24.66\",\"tax\":\"0.00\",\"overdue_interest\":\"67.66\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-04-28T11:45:40Z\",\"updated_at\":\"2020-04-28T17:03:50Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-04-27\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"152.58\",\"capital\":\"0.00\",\"interest\":\"0.00\",\"tax\":\"0.00\",\"overdue_interest\":\"152.58\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-04-27T13:46:12Z\",\"updated_at\":\"2020-04-27T17:03:41Z\"}]"}	1588795780573
EVENTS	1588795795871	{"@timestamp":"2020-05-06T20:09:51.582Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-25","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 0b14f9f3-e472-4d70-8c8b-38c455e03cdc and profile CASHIER."}	1588795791583
EVENTS	1588795810874	{"@timestamp":"2020-05-06T20:10:06.488Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 95f581b0-3965-43eb-88fa-2554e1014a1b and profile ADMIN."}	1588795806488
EVENTS	1588795810874	{"@timestamp":"2020-05-06T20:10:10.132Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken affca44c-7b0d-4c23-9f5f-905660073905 and profile ADMIN."}	1588795810132
EVENTS	1588795835873	{"@timestamp":"2020-05-06T20:10:32.605Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 65d916bf-7a7d-4d41-8c34-fcf08a3c3179 and profile ADMIN."}	1588795832606
EVENTS	1588795845869	{"@timestamp":"2020-05-06T20:10:44.580Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 83296589-5e80-4bc7-8ca3-4d8f3f01be35 and profile ADMIN."}	1588795844581
EVENTS	1588795850872	{"@timestamp":"2020-05-06T20:10:48.033Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 3ff778ce-641b-4794-bd80-8641a6cc20c1 and profile ADMIN."}	1588795848034
EVENTS	1588795860873	{"@timestamp":"2020-05-06T20:10:57.327Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 1d2d5df4-0cdb-497a-9ce1-eb4e45819bd3 "}	1588795857327
EVENTS	1588795860873	{"@timestamp":"2020-05-06T20:10:57.327Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 1d2d5df4-0cdb-497a-9ce1-eb4e45819bd3"}	1588795857332
EVENTS	1588795860873	{"@timestamp":"2020-05-06T20:10:57.340Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 1d2d5df4-0cdb-497a-9ce1-eb4e45819bd3: []"}	1588795857341
EVENTS	1588795860873	{"@timestamp":"2020-05-06T20:11:00.586Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 0960f3bb-65e9-49da-8cc9-22ca6fc908b0 and profile MANAGER."}	1588795860587
EVENTS	1588795870871	{"@timestamp":"2020-05-06T20:11:08.813Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 8b9259a7-e060-4a0f-876a-a1a20ec66f0d and profile ADMIN."}	1588795868814
EVENTS	1588795880869	{"@timestamp":"2020-05-06T20:11:15.865Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 0960f3bb-65e9-49da-8cc9-22ca6fc908b0 and profile MANAGER."}	1588795875865
EVENTS	1588795885871	{"@timestamp":"2020-05-06T20:11:25.181Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.CollectionsHandler","method":"onCollectionsMessage","file":"CollectionsHandler.java","line":36,"message":"Request for merchant token 1f307951-d96f-4534-a289-015417b33e0f: {\"merchant_token\": \"1f307951-d96f-4534-a289-015417b33e0f\", \"loan_id\": \"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\", limit: 7}"}	1588795885181
EVENTS	1588795885871	{"@timestamp":"2020-05-06T20:11:25.182Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.CollectionsDaoImpl","method":"findCollectionsByMerchantToken","file":"CollectionsDaoImpl.java","line":98,"message":"loanId: aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b, merchantToken: 1f307951-d96f-4534-a289-015417b33e0f, numberRows: 7"}	1588795885182
EVENTS	1588795885871	{"@timestamp":"2020-05-06T20:11:25.185Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.CollectionsHandler","method":"onCollectionsMessage","file":"CollectionsHandler.java","line":44,"message":"Response for merchant token 1f307951-d96f-4534-a289-015417b33e0f: [{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-05-06\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"217.14\",\"capital\":\"167.84\",\"interest\":\"18.80\",\"tax\":\"0.00\",\"overdue_interest\":\"30.50\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-05-06T11:45:39Z\",\"updated_at\":\"2020-05-06T17:01:10Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-05-05\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"123.70\",\"capital\":\"1.49\",\"interest\":\"0.17\",\"tax\":\"0.00\",\"overdue_interest\":\"122.04\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-05-05T11:45:35Z\",\"updated_at\":\"2020-05-05T17:01:33Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-05-01\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"138.95\",\"capital\":\"92.31\",\"interest\":\"10.34\",\"tax\":\"0.00\",\"overdue_interest\":\"36.30\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-05-01T11:45:45Z\",\"updated_at\":\"2020-05-01T17:03:35Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-04-30\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"25.26\",\"capital\":\"0.00\",\"interest\":\"0.00\",\"tax\":\"0.00\",\"overdue_interest\":\"25.26\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-04-30T11:45:41Z\",\"updated_at\":\"2020-04-30T17:03:37Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-04-29\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"153.35\",\"capital\":\"109.94\",\"interest\":\"12.31\",\"tax\":\"0.00\",\"overdue_interest\":\"31.10\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-04-29T11:45:41Z\",\"updated_at\":\"2020-04-29T17:03:37Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-04-28\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"312.49\",\"capital\":\"220.17\",\"interest\":\"24.66\",\"tax\":\"0.00\",\"overdue_interest\":\"67.66\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-04-28T11:45:40Z\",\"updated_at\":\"2020-04-28T17:03:50Z\"},{\"loan_id\":\"aa3f9e73-eada-4a1a-89a2-77bf0f6ee01b\",\"collection_date_local\":\"2020-04-27\",\"provider_code\":\"MRP\",\"merchant_token\":\"1f307951-d96f-4534-a289-015417b33e0f\",\"proxy_merchant_token\":\"5de69528-fdd5-464f-8845-64a549457057\",\"amount\":\"152.58\",\"capital\":\"0.00\",\"interest\":\"0.00\",\"tax\":\"0.00\",\"overdue_interest\":\"152.58\",\"submited_date_local\":null,\"notes\":null,\"created_at\":\"2020-04-27T13:46:12Z\",\"updated_at\":\"2020-04-27T17:03:41Z\"}]"}	1588795885189
EVENTS	1588795890870	{"@timestamp":"2020-05-06T20:11:30.381Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 0960f3bb-65e9-49da-8cc9-22ca6fc908b0 and profile MANAGER."}	1588795890382
EVENTS	1588795915872	{"@timestamp":"2020-05-06T20:11:53.564Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 9dd919a1-e637-4d42-b1ea-ae8feda115e0 "}	1588795913564
EVENTS	1588795915872	{"@timestamp":"2020-05-06T20:11:53.564Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 9dd919a1-e637-4d42-b1ea-ae8feda115e0"}	1588795913565
EVENTS	1588795915872	{"@timestamp":"2020-05-06T20:11:53.565Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 9dd919a1-e637-4d42-b1ea-ae8feda115e0: []"}	1588795913565
EVENTS	1588795925874	{"@timestamp":"2020-05-06T20:12:01.439Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-30","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 6e2fe925-edf2-4eab-80d4-5f137bc58ba4 and profile ADMIN."}	1588795921440
EVENTS	1588795955874	{"@timestamp":"2020-05-06T20:12:35.160Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-31","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 67cf786f-e967-4709-952e-4ad3807c82c8 and profile ADMIN."}	1588795955161
EVENTS	1588795965872	{"@timestamp":"2020-05-06T20:12:41.132Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-29","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 595179bd-0044-4726-b0ed-210a737536a0 and profile ADMIN."}	1588795961133
EVENTS	1588795965872	{"@timestamp":"2020-05-06T20:12:43.309Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 074e035f-937e-4a2b-8a04-d04c9d72c6a3 "}	1588795963310
EVENTS	1588795965872	{"@timestamp":"2020-05-06T20:12:43.309Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 074e035f-937e-4a2b-8a04-d04c9d72c6a3"}	1588795963310
EVENTS	1588795965872	{"@timestamp":"2020-05-06T20:12:43.311Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 074e035f-937e-4a2b-8a04-d04c9d72c6a3: []"}	1588795963311
EVENTS	1588795965872	{"@timestamp":"2020-05-06T20:12:44.431Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-27","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 53c8c2a3-d73c-46ec-9e42-2e86edc29a56 and profile ADMIN."}	1588795964431
EVENTS	1588795975869	{"@timestamp":"2020-05-06T20:12:52.360Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken 428cb7f1-1228-4baf-ad6d-858c0ef5ff06 and profile ADMIN."}	1588795972360
EVENTS	1588795980874	{"@timestamp":"2020-05-06T20:12:59.606Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token d045612c-d0a3-4a91-a255-24ef70886860 "}	1588795979606
EVENTS	1588795980874	{"@timestamp":"2020-05-06T20:12:59.606Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token d045612c-d0a3-4a91-a255-24ef70886860"}	1588795979607
EVENTS	1588795980874	{"@timestamp":"2020-05-06T20:12:59.608Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d045612c-d0a3-4a91-a255-24ef70886860: []"}	1588795979608
EVENTS	1588795990874	{"@timestamp":"2020-05-06T20:13:10.488Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-1-72.prodpayclip.com","ip":"10.0.1.72","az":"us-west-2a","instanceId":"i-090c3811b924d387d","thread":"qtp762722278-28","class":"com.payclip.loans.controller.v2.LoansController","method":"getAllPreapprovalsByMerchant","file":"LoansController.java","line":129,"message":"getAllPreapprovalsByMerchant for merchantToken a3fb190d-b8ca-4a93-ac90-c9255d1f28c8 and profile ADMIN."}	1588795990489
