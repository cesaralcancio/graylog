b/35413613623484499698049521305270462972448186223861235722	f/35414048988979811184992723107500830064910138801280516098
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.377Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588001356377
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.377Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d318fa76-2f72-40ed-83c4-330d8b8397f9"}	1588001356378
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.380Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd318fa76-2f72-40ed-83c4-330d8b8397f9' and pre-approval: '200c11a0-45fb-4055-a04a-0511a1564c32'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588001356380
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.421Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588001356421
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.421Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588001356422
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.423Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d318fa76-2f72-40ed-83c4-330d8b8397f9"}	1588001356423
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.425Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd318fa76-2f72-40ed-83c4-330d8b8397f9' and pre-approval: '7c72c193-8da4-448f-a69b-b64f9ecf07a0'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588001356425
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.467Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588001356468
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.468Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588001356468
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.468Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token d318fa76-2f72-40ed-83c4-330d8b8397f9"}	1588001356469
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.470Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'd318fa76-2f72-40ed-83c4-330d8b8397f9' and pre-approval: 'cca0d380-ab70-4bdb-a4c9-80d03e3f6767'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588001356471
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.515Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588001356515
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.515Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588001356516
EVENTS	1588001356546	{"@timestamp":"2020-04-27T15:29:16.516Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d318fa76-2f72-40ed-83c4-330d8b8397f9: [{\"id\":\"2c1b852a-7921-4838-b270-46c9a2f5bea1\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d318fa76-2f72-40ed-83c4-330d8b8397f9\",\"proxy_merchant_token\":\"7bd7223f-4065-473e-a08f-3d7f745524c8\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"12000.00\",\"interest\":\"2330.00\",\"tax\":\"372.80\",\"payback\":\"14702.80\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":5,\"created_at\":\"2020-02-27T11:15:54Z\"},{\"id\":\"c1d8cf78-570a-49ea-91e1-ce9725aa554c\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d318fa76-2f72-40ed-83c4-330d8b8397f9\",\"proxy_merchant_token\":\"7bd7223f-4065-473e-a08f-3d7f745524c8\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"16800.00\",\"interest\":\"3270.00\",\"tax\":\"523.20\",\"payback\":\"20593.20\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":5,\"created_at\":\"2020-02-27T11:15:54Z\"},{\"id\":\"edaaf3bc-2684-44a7-86f7-644383a9b065\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d318fa76-2f72-40ed-83c4-330d8b8397f9\",\"proxy_merchant_token\":\"7bd7223f-4065-473e-a08f-3d7f745524c8\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"21600.00\",\"interest\":\"4200.00\",\"tax\":\"672.00\",\"payback\":\"26472.00\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":5,\"created_at\":\"2020-02-27T11:15:54Z\"},{\"id\":\"200c11a0-45fb-4055-a04a-0511a1564c32\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d318fa76-2f72-40ed-83c4-330d8b8397f9\",\"proxy_merchant_token\":\"7bd7223f-4065-473e-a08f-3d7f745524c8\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"17300.00\",\"interest\":\"2460.00\",\"tax\":\"393.60\",\"payback\":\"20153.60\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T06:50:40Z\"},{\"id\":\"7c72c193-8da4-448f-a69b-b64f9ecf07a0\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d318fa76-2f72-40ed-83c4-330d8b8397f9\",\"proxy_merchant_token\":\"7bd7223f-4065-473e-a08f-3d7f745524c8\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"9600.00\",\"interest\":\"1380.00\",\"tax\":\"220.80\",\"payback\":\"11200.80\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T06:50:40Z\"},{\"id\":\"cca0d380-ab70-4bdb-a4c9-80d03e3f6767\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"d318fa76-2f72-40ed-83c4-330d8b8397f9\",\"proxy_merchant_token\":\"7bd7223f-4065-473e-a08f-3d7f745524c8\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"13500.00\",\"interest\":\"1870.00\",\"tax\":\"299.20\",\"payback\":\"15669.20\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T06:50:40Z\"}]"}	1588001356518
EVENTS	1588001481539	{"@timestamp":"2020-04-27T15:31:21.176Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token e6173353-81b0-4bf0-850f-0d134d862d70 "}	1588001481176
EVENTS	1588001481539	{"@timestamp":"2020-04-27T15:31:21.176Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token e6173353-81b0-4bf0-850f-0d134d862d70"}	1588001481177
EVENTS	1588001481539	{"@timestamp":"2020-04-27T15:31:21.199Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token e6173353-81b0-4bf0-850f-0d134d862d70: []"}	1588001481200
EVENTS	1588001496538	{"@timestamp":"2020-04-27T15:31:35.409Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 745f1a45-20c8-4584-b379-68d51e87aeb4 "}	1588001495409
EVENTS	1588001496538	{"@timestamp":"2020-04-27T15:31:35.409Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 745f1a45-20c8-4584-b379-68d51e87aeb4"}	1588001495409
EVENTS	1588001496538	{"@timestamp":"2020-04-27T15:31:35.412Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 745f1a45-20c8-4584-b379-68d51e87aeb4: []"}	1588001495412
EVENTS	1588001601539	{"@timestamp":"2020-04-27T15:33:21.320Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f005c5fe-2056-41a5-ad36-8dbf7ca5121e "}	1588001601321
EVENTS	1588001601539	{"@timestamp":"2020-04-27T15:33:21.321Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f005c5fe-2056-41a5-ad36-8dbf7ca5121e"}	1588001601321
EVENTS	1588001601539	{"@timestamp":"2020-04-27T15:33:21.323Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f005c5fe-2056-41a5-ad36-8dbf7ca5121e: []"}	1588001601324
EVENTS	1588001941546	{"@timestamp":"2020-04-27T15:38:58.362Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 18afdee7-f5c1-4176-b840-456fdbeb68a3 "}	1588001938362
EVENTS	1588001941546	{"@timestamp":"2020-04-27T15:38:58.362Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 18afdee7-f5c1-4176-b840-456fdbeb68a3"}	1588001938363
EVENTS	1588001941546	{"@timestamp":"2020-04-27T15:38:58.366Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 18afdee7-f5c1-4176-b840-456fdbeb68a3: []"}	1588001938366
EVENTS	1588002066540	{"@timestamp":"2020-04-27T15:41:04.529Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token a7c3b708-2baf-454e-acbc-fed238a71239 "}	1588002064529
EVENTS	1588002066540	{"@timestamp":"2020-04-27T15:41:04.535Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token a7c3b708-2baf-454e-acbc-fed238a71239"}	1588002064536
EVENTS	1588002066540	{"@timestamp":"2020-04-27T15:41:04.542Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token a7c3b708-2baf-454e-acbc-fed238a71239: []"}	1588002064543
EVENTS	1588002106541	{"@timestamp":"2020-04-27T15:41:44.888Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d "}	1588002104889
EVENTS	1588002106541	{"@timestamp":"2020-04-27T15:41:44.888Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d"}	1588002104889
EVENTS	1588002106541	{"@timestamp":"2020-04-27T15:41:44.891Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d: []"}	1588002104891
EVENTS	1588002146540	{"@timestamp":"2020-04-27T15:42:21.758Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d "}	1588002141758
EVENTS	1588002146540	{"@timestamp":"2020-04-27T15:42:21.758Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d"}	1588002141758
EVENTS	1588002146540	{"@timestamp":"2020-04-27T15:42:21.761Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d: []"}	1588002141761
EVENTS	1588002251543	{"@timestamp":"2020-04-27T15:44:11.008Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d "}	1588002251008
EVENTS	1588002251543	{"@timestamp":"2020-04-27T15:44:11.008Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d"}	1588002251008
EVENTS	1588002251543	{"@timestamp":"2020-04-27T15:44:11.010Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d: []"}	1588002251011
EVENTS	1588002256534	{"@timestamp":"2020-04-27T15:44:15.361Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d "}	1588002255361
EVENTS	1588002256534	{"@timestamp":"2020-04-27T15:44:15.362Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d"}	1588002255362
EVENTS	1588002256534	{"@timestamp":"2020-04-27T15:44:15.364Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token c1eceadc-bf53-4449-ab4a-8415f8edbe5d: []"}	1588002255364
EVENTS	1588002286542	{"@timestamp":"2020-04-27T15:44:43.288Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 27783c5e-f055-4956-9b39-42e1e334b3f9 "}	1588002283288
EVENTS	1588002286542	{"@timestamp":"2020-04-27T15:44:43.288Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 27783c5e-f055-4956-9b39-42e1e334b3f9"}	1588002283289
EVENTS	1588002286542	{"@timestamp":"2020-04-27T15:44:43.296Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 27783c5e-f055-4956-9b39-42e1e334b3f9: []"}	1588002283296
EVENTS	1588002336538	{"@timestamp":"2020-04-27T15:45:32.116Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 9794c242-1803-4dce-acda-522f815ba682 "}	1588002332117
EVENTS	1588002336538	{"@timestamp":"2020-04-27T15:45:32.117Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 9794c242-1803-4dce-acda-522f815ba682"}	1588002332117
EVENTS	1588002336538	{"@timestamp":"2020-04-27T15:45:32.120Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 9794c242-1803-4dce-acda-522f815ba682: []"}	1588002332120
EVENTS	1588002601545	{"@timestamp":"2020-04-27T15:50:00.183Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 82a8618e-b9f8-47ed-80d7-18b96e162b9f "}	1588002600183
EVENTS	1588002601545	{"@timestamp":"2020-04-27T15:50:00.183Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 82a8618e-b9f8-47ed-80d7-18b96e162b9f"}	1588002600184
EVENTS	1588002601545	{"@timestamp":"2020-04-27T15:50:00.187Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 82a8618e-b9f8-47ed-80d7-18b96e162b9f: []"}	1588002600187
EVENTS	1588002646541	{"@timestamp":"2020-04-27T15:50:43.874Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 7814ad7e-ca0e-4d6c-9283-91877807f61d "}	1588002643874
EVENTS	1588002646541	{"@timestamp":"2020-04-27T15:50:43.874Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 7814ad7e-ca0e-4d6c-9283-91877807f61d"}	1588002643875
EVENTS	1588002646541	{"@timestamp":"2020-04-27T15:50:43.886Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 7814ad7e-ca0e-4d6c-9283-91877807f61d: []"}	1588002643886
EVENTS	1588002731541	{"@timestamp":"2020-04-27T15:52:06.572Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 46fab30d-19c1-4a5f-ba54-9fe17c3518e5 "}	1588002726572
EVENTS	1588002731541	{"@timestamp":"2020-04-27T15:52:06.572Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 46fab30d-19c1-4a5f-ba54-9fe17c3518e5"}	1588002726573
EVENTS	1588002731541	{"@timestamp":"2020-04-27T15:52:06.576Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 46fab30d-19c1-4a5f-ba54-9fe17c3518e5: []"}	1588002726576
EVENTS	1588002821550	{"@timestamp":"2020-04-27T15:53:37.914Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 1e8847fc-4c36-4658-9fad-1ef32cc76310 "}	1588002817915
EVENTS	1588002821550	{"@timestamp":"2020-04-27T15:53:37.915Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 1e8847fc-4c36-4658-9fad-1ef32cc76310"}	1588002817915
EVENTS	1588002821550	{"@timestamp":"2020-04-27T15:53:37.917Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 1e8847fc-4c36-4658-9fad-1ef32cc76310: []"}	1588002817918
EVENTS	1588003161543	{"@timestamp":"2020-04-27T15:59:19.119Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 7d8f8699-fc3d-4c14-a86a-dce3cd0e2e57 "}	1588003159119
EVENTS	1588003161543	{"@timestamp":"2020-04-27T15:59:19.119Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 7d8f8699-fc3d-4c14-a86a-dce3cd0e2e57"}	1588003159120
EVENTS	1588003161543	{"@timestamp":"2020-04-27T15:59:19.121Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 7d8f8699-fc3d-4c14-a86a-dce3cd0e2e57: []"}	1588003159121
EVENTS	1588003216541	{"@timestamp":"2020-04-27T16:00:15.369Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 2d6d8976-3129-462c-9781-06266230995e "}	1588003215370
EVENTS	1588003216541	{"@timestamp":"2020-04-27T16:00:15.370Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 2d6d8976-3129-462c-9781-06266230995e"}	1588003215370
EVENTS	1588003216541	{"@timestamp":"2020-04-27T16:00:15.373Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 2d6d8976-3129-462c-9781-06266230995e: []"}	1588003215373
EVENTS	1588003301541	{"@timestamp":"2020-04-27T16:01:41.472Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 50447d85-e21b-467d-8161-470470015516 "}	1588003301472
EVENTS	1588003301541	{"@timestamp":"2020-04-27T16:01:41.472Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 50447d85-e21b-467d-8161-470470015516"}	1588003301473
EVENTS	1588003301541	{"@timestamp":"2020-04-27T16:01:41.476Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 50447d85-e21b-467d-8161-470470015516"}	1588003301476
EVENTS	1588003301541	{"@timestamp":"2020-04-27T16:01:41.478Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '50447d85-e21b-467d-8161-470470015516' and pre-approval: 'b699cd89-de58-40b6-a621-395d5b511675'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588003301478
EVENTS	1588003301541	{"@timestamp":"2020-04-27T16:01:41.478Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 50447d85-e21b-467d-8161-470470015516: [{\"id\":\"b699cd89-de58-40b6-a621-395d5b511675\",\"loan\":null,\"provider_code\":\"CLIP\",\"provider_id\":null,\"merchant_token\":\"50447d85-e21b-467d-8161-470470015516\",\"proxy_merchant_token\":\"dac05a09-e588-48cb-8d92-0ed2929c0636\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1500.00\",\"tax\":\"240.00\",\"payback\":\"11740.00\",\"retention_rate\":\"15.0000\",\"expiration_date\":\"2019-06-28\",\"term_maximum\":6,\"created_at\":\"2019-06-06T16:13:12Z\"}]"}	1588003301479
EVENTS	1588003436541	{"@timestamp":"2020-04-27T16:03:55.676Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 403faec7-5229-4610-a137-41631e9189a2 "}	1588003435677
EVENTS	1588003436541	{"@timestamp":"2020-04-27T16:03:55.677Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 403faec7-5229-4610-a137-41631e9189a2"}	1588003435677
EVENTS	1588003436541	{"@timestamp":"2020-04-27T16:03:55.679Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 403faec7-5229-4610-a137-41631e9189a2: []"}	1588003435680
EVENTS	1588003741539	{"@timestamp":"2020-04-27T16:08:57.409Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 018e6884-319d-4892-8f86-01b63b0a531e "}	1588003737410
EVENTS	1588003741539	{"@timestamp":"2020-04-27T16:08:57.410Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 018e6884-319d-4892-8f86-01b63b0a531e"}	1588003737410
EVENTS	1588003741539	{"@timestamp":"2020-04-27T16:08:57.413Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 018e6884-319d-4892-8f86-01b63b0a531e: []"}	1588003737414
EVENTS	1588003836539	{"@timestamp":"2020-04-27T16:10:31.681Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 97665f4d-26fd-425f-82af-f894cfdc8f3e "}	1588003831681
EVENTS	1588003836539	{"@timestamp":"2020-04-27T16:10:31.681Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 97665f4d-26fd-425f-82af-f894cfdc8f3e"}	1588003831681
EVENTS	1588003836539	{"@timestamp":"2020-04-27T16:10:31.685Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 97665f4d-26fd-425f-82af-f894cfdc8f3e: []"}	1588003831686
EVENTS	1588003976539	{"@timestamp":"2020-04-27T16:12:52.502Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 2d6d8976-3129-462c-9781-06266230995e "}	1588003972502
EVENTS	1588003976539	{"@timestamp":"2020-04-27T16:12:52.502Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 2d6d8976-3129-462c-9781-06266230995e"}	1588003972503
EVENTS	1588003976539	{"@timestamp":"2020-04-27T16:12:52.508Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 2d6d8976-3129-462c-9781-06266230995e: []"}	1588003972508
EVENTS	1588004111539	{"@timestamp":"2020-04-27T16:15:09.396Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 83f9e66f-8f1a-4bba-b46c-3c55392fb360 "}	1588004109397
EVENTS	1588004111539	{"@timestamp":"2020-04-27T16:15:09.397Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 83f9e66f-8f1a-4bba-b46c-3c55392fb360"}	1588004109397
EVENTS	1588004111539	{"@timestamp":"2020-04-27T16:15:09.400Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 83f9e66f-8f1a-4bba-b46c-3c55392fb360: []"}	1588004109400
EVENTS	1588004681538	{"@timestamp":"2020-04-27T16:24:37.733Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token b169940d-ba0d-4fc3-9aa6-5fc108964a26 "}	1588004677733
EVENTS	1588004681538	{"@timestamp":"2020-04-27T16:24:37.733Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token b169940d-ba0d-4fc3-9aa6-5fc108964a26"}	1588004677734
EVENTS	1588004681538	{"@timestamp":"2020-04-27T16:24:37.736Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token b169940d-ba0d-4fc3-9aa6-5fc108964a26: []"}	1588004677737
EVENTS	1588004696537	{"@timestamp":"2020-04-27T16:24:52.301Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token b169940d-ba0d-4fc3-9aa6-5fc108964a26 "}	1588004692302
EVENTS	1588004696537	{"@timestamp":"2020-04-27T16:24:52.302Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token b169940d-ba0d-4fc3-9aa6-5fc108964a26"}	1588004692303
EVENTS	1588004696537	{"@timestamp":"2020-04-27T16:24:52.307Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token b169940d-ba0d-4fc3-9aa6-5fc108964a26: []"}	1588004692307
EVENTS	1588005121539	{"@timestamp":"2020-04-27T16:31:59.457Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6f019d50-c116-4400-8047-6710cb9f85f0 "}	1588005119457
EVENTS	1588005121539	{"@timestamp":"2020-04-27T16:31:59.457Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6f019d50-c116-4400-8047-6710cb9f85f0"}	1588005119457
EVENTS	1588005121539	{"@timestamp":"2020-04-27T16:31:59.460Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6f019d50-c116-4400-8047-6710cb9f85f0: []"}	1588005119460
EVENTS	1588005191540	{"@timestamp":"2020-04-27T16:33:06.911Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 67ea9078-943d-4059-968d-ab4469076eb1 "}	1588005186919
EVENTS	1588005191540	{"@timestamp":"2020-04-27T16:33:06.919Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 67ea9078-943d-4059-968d-ab4469076eb1"}	1588005186919
EVENTS	1588005191540	{"@timestamp":"2020-04-27T16:33:06.927Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 67ea9078-943d-4059-968d-ab4469076eb1: []"}	1588005186931
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.077Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3a8e15a1-24a4-4142-8238-1333f6851065 "}	1588005670078
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.078Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3a8e15a1-24a4-4142-8238-1333f6851065"}	1588005670078
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.081Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 3a8e15a1-24a4-4142-8238-1333f6851065"}	1588005670082
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.084Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '3a8e15a1-24a4-4142-8238-1333f6851065' and pre-approval: '34332445-80cd-4c1f-8b92-5d4f71930a76'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005670084
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.182Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588005670183
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.183Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 3a8e15a1-24a4-4142-8238-1333f6851065"}	1588005670184
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.185Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '3a8e15a1-24a4-4142-8238-1333f6851065' and pre-approval: '831430f6-c416-4dec-9965-d6cdbb842caa'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005670186
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.255Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588005670255
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.255Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 3a8e15a1-24a4-4142-8238-1333f6851065"}	1588005670255
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.257Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '3a8e15a1-24a4-4142-8238-1333f6851065' and pre-approval: 'a74c7010-26fa-4e28-bbfb-5312dba98c16'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005670258
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.319Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588005670320
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.320Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 3a8e15a1-24a4-4142-8238-1333f6851065"}	1588005670320
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.322Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '3a8e15a1-24a4-4142-8238-1333f6851065' and pre-approval: '8d9e2b92-7495-4f69-a5da-8b3c5d1b1729'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005670323
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.410Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005670411
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.411Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005670411
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.412Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 3a8e15a1-24a4-4142-8238-1333f6851065"}	1588005670412
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.414Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '3a8e15a1-24a4-4142-8238-1333f6851065' and pre-approval: '915812bb-b888-4037-85a1-55d12f50608f'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005670414
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.457Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005670458
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.459Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005670459
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.459Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 3a8e15a1-24a4-4142-8238-1333f6851065"}	1588005670459
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.461Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '3a8e15a1-24a4-4142-8238-1333f6851065' and pre-approval: 'e01c9f21-e887-4b46-92a9-8921ed00ac37'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005670462
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.507Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005670507
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.508Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005670508
EVENTS	1588005671546	{"@timestamp":"2020-04-27T16:41:10.509Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3a8e15a1-24a4-4142-8238-1333f6851065: [{\"id\":\"34332445-80cd-4c1f-8b92-5d4f71930a76\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"3a8e15a1-24a4-4142-8238-1333f6851065\",\"proxy_merchant_token\":\"b9f83180-8526-4e2a-8a90-e26b954fdf54\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"10600.00\",\"interest\":\"1900.00\",\"tax\":\"304.00\",\"payback\":\"12804.00\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T03:37:14Z\"},{\"id\":\"831430f6-c416-4dec-9965-d6cdbb842caa\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"3a8e15a1-24a4-4142-8238-1333f6851065\",\"proxy_merchant_token\":\"b9f83180-8526-4e2a-8a90-e26b954fdf54\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"14600.00\",\"interest\":\"2590.00\",\"tax\":\"414.40\",\"payback\":\"17604.40\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T03:37:14Z\"},{\"id\":\"a74c7010-26fa-4e28-bbfb-5312dba98c16\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"3a8e15a1-24a4-4142-8238-1333f6851065\",\"proxy_merchant_token\":\"b9f83180-8526-4e2a-8a90-e26b954fdf54\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"6600.00\",\"interest\":\"1220.00\",\"tax\":\"195.20\",\"payback\":\"8015.20\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T03:37:14Z\"},{\"id\":\"8d9e2b92-7495-4f69-a5da-8b3c5d1b1729\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"3a8e15a1-24a4-4142-8238-1333f6851065\",\"proxy_merchant_token\":\"b9f83180-8526-4e2a-8a90-e26b954fdf54\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10400.00\",\"interest\":\"1560.00\",\"tax\":\"249.60\",\"payback\":\"12209.60\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T00:23:55Z\"},{\"id\":\"915812bb-b888-4037-85a1-55d12f50608f\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"3a8e15a1-24a4-4142-8238-1333f6851065\",\"proxy_merchant_token\":\"b9f83180-8526-4e2a-8a90-e26b954fdf54\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"13300.00\",\"interest\":\"2080.00\",\"tax\":\"332.80\",\"payback\":\"15712.80\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T00:23:55Z\"},{\"id\":\"e01c9f21-e887-4b46-92a9-8921ed00ac37\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"3a8e15a1-24a4-4142-8238-1333f6851065\",\"proxy_merchant_token\":\"b9f83180-8526-4e2a-8a90-e26b954fdf54\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7400.00\",\"interest\":\"1140.00\",\"tax\":\"182.40\",\"payback\":\"8722.40\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T00:23:55Z\"}]"}	1588005670512
EVENTS	1588005676536	{"@timestamp":"2020-04-27T16:41:12.853Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319 "}	1588005672853
EVENTS	1588005676536	{"@timestamp":"2020-04-27T16:41:12.853Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319"}	1588005672854
EVENTS	1588005676536	{"@timestamp":"2020-04-27T16:41:12.861Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319: []"}	1588005672861
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.601Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1 "}	1588005715601
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.601Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005715601
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.604Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005715605
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.606Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0542186f-1480-40d4-abb3-06528dbf7bf1' and pre-approval: '608ef076-a03b-4f3c-93c7-d228f21a37a8'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005715607
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.760Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588005715761
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.761Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005715761
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.763Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0542186f-1480-40d4-abb3-06528dbf7bf1' and pre-approval: 'b4f9380a-07c8-4221-9708-3856fc69b06b'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005715763
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.819Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588005715819
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.819Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005715820
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.821Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0542186f-1480-40d4-abb3-06528dbf7bf1' and pre-approval: 'd7f2e793-54cb-4a1c-8767-fbb4d4ba6e17'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005715822
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.889Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588005715889
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.890Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005715890
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.892Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0542186f-1480-40d4-abb3-06528dbf7bf1' and pre-approval: '1d5f876c-5d23-4296-85d6-cb18eb0e4f42'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005715892
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.942Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005715943
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.943Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005715943
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.943Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005715943
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.945Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0542186f-1480-40d4-abb3-06528dbf7bf1' and pre-approval: '1faf10ba-49ae-46d6-aea3-882ab8851147'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005715946
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.992Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005715993
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.993Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005715993
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.993Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005715993
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:55.995Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0542186f-1480-40d4-abb3-06528dbf7bf1' and pre-approval: '70d72ecc-f849-435f-9a83-9d3c8b139c21'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005715996
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.049Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005716049
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.049Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005716050
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.050Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005716050
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.052Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0542186f-1480-40d4-abb3-06528dbf7bf1' and pre-approval: '30179ce2-d704-4504-851e-5d3730a34d82'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005716052
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.095Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005716095
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.096Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005716096
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.096Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005716097
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.098Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0542186f-1480-40d4-abb3-06528dbf7bf1' and pre-approval: '6b2c9751-4897-4368-a4f3-7bde7df7884f'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005716099
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.139Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005716139
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.139Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005716140
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.140Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1"}	1588005716140
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.145Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0542186f-1480-40d4-abb3-06528dbf7bf1' and pre-approval: 'f19a825f-7966-44f3-a54b-2d096f617876'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588005716145
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.187Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005716187
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.188Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588005716188
EVENTS	1588005716546	{"@timestamp":"2020-04-27T16:41:56.188Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 0542186f-1480-40d4-abb3-06528dbf7bf1: [{\"id\":\"608ef076-a03b-4f3c-93c7-d228f21a37a8\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0542186f-1480-40d4-abb3-06528dbf7bf1\",\"proxy_merchant_token\":\"4fbc9fca-dc68-439a-b946-6bcace8afd6a\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"6400.00\",\"interest\":\"1190.00\",\"tax\":\"190.40\",\"payback\":\"7780.40\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T00:59:26Z\"},{\"id\":\"b4f9380a-07c8-4221-9708-3856fc69b06b\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0542186f-1480-40d4-abb3-06528dbf7bf1\",\"proxy_merchant_token\":\"4fbc9fca-dc68-439a-b946-6bcace8afd6a\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"4600.00\",\"interest\":\"920.00\",\"tax\":\"147.20\",\"payback\":\"5667.20\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T00:59:26Z\"},{\"id\":\"d7f2e793-54cb-4a1c-8767-fbb4d4ba6e17\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0542186f-1480-40d4-abb3-06528dbf7bf1\",\"proxy_merchant_token\":\"4fbc9fca-dc68-439a-b946-6bcace8afd6a\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"2900.00\",\"interest\":\"550.00\",\"tax\":\"88.00\",\"payback\":\"3538.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T00:59:26Z\"},{\"id\":\"1d5f876c-5d23-4296-85d6-cb18eb0e4f42\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0542186f-1480-40d4-abb3-06528dbf7bf1\",\"proxy_merchant_token\":\"4fbc9fca-dc68-439a-b946-6bcace8afd6a\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"4900.00\",\"interest\":\"830.00\",\"tax\":\"132.80\",\"payback\":\"5862.80\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-06T22:09:19Z\"},{\"id\":\"1faf10ba-49ae-46d6-aea3-882ab8851147\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0542186f-1480-40d4-abb3-06528dbf7bf1\",\"proxy_merchant_token\":\"4fbc9fca-dc68-439a-b946-6bcace8afd6a\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"6300.00\",\"interest\":\"1070.00\",\"tax\":\"171.20\",\"payback\":\"7541.20\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-06T22:09:19Z\"},{\"id\":\"70d72ecc-f849-435f-9a83-9d3c8b139c21\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0542186f-1480-40d4-abb3-06528dbf7bf1\",\"proxy_merchant_token\":\"4fbc9fca-dc68-439a-b946-6bcace8afd6a\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3500.00\",\"interest\":\"600.00\",\"tax\":\"96.00\",\"payback\":\"4196.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-06T22:09:19Z\"},{\"id\":\"30179ce2-d704-4504-851e-5d3730a34d82\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0542186f-1480-40d4-abb3-06528dbf7bf1\",\"proxy_merchant_token\":\"4fbc9fca-dc68-439a-b946-6bcace8afd6a\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7400.00\",\"interest\":\"930.00\",\"tax\":\"148.80\",\"payback\":\"8478.80\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":7,\"created_at\":\"2019-12-13T19:23:00Z\"},{\"id\":\"6b2c9751-4897-4368-a4f3-7bde7df7884f\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0542186f-1480-40d4-abb3-06528dbf7bf1\",\"proxy_merchant_token\":\"4fbc9fca-dc68-439a-b946-6bcace8afd6a\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3600.00\",\"interest\":\"370.00\",\"tax\":\"59.20\",\"payback\":\"4029.20\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":5,\"created_at\":\"2019-12-13T19:23:00Z\"},{\"id\":\"f19a825f-7966-44f3-a54b-2d096f617876\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0542186f-1480-40d4-abb3-06528dbf7bf1\",\"proxy_merchant_token\":\"4fbc9fca-dc68-439a-b946-6bcace8afd6a\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5400.00\",\"interest\":\"620.00\",\"tax\":\"99.20\",\"payback\":\"6119.20\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":6,\"created_at\":\"2019-12-13T19:23:00Z\"}]"}	1588005716190
EVENTS	1588005746540	{"@timestamp":"2020-04-27T16:42:25.580Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 03404d82-63bd-4be4-9bc1-b7455649ee2e "}	1588005745580
EVENTS	1588005746540	{"@timestamp":"2020-04-27T16:42:25.580Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 03404d82-63bd-4be4-9bc1-b7455649ee2e"}	1588005745581
EVENTS	1588005746540	{"@timestamp":"2020-04-27T16:42:25.583Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 03404d82-63bd-4be4-9bc1-b7455649ee2e: []"}	1588005745584
EVENTS	1588005941540	{"@timestamp":"2020-04-27T16:45:38.146Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 7710c654-7904-4bd0-853a-503933009be0 "}	1588005938146
EVENTS	1588005941540	{"@timestamp":"2020-04-27T16:45:38.147Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 7710c654-7904-4bd0-853a-503933009be0"}	1588005938147
EVENTS	1588005941540	{"@timestamp":"2020-04-27T16:45:38.150Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 7710c654-7904-4bd0-853a-503933009be0: []"}	1588005938150
EVENTS	1588006041539	{"@timestamp":"2020-04-27T16:47:20.576Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token bb230e0d-cd0a-445c-b340-36113ba6c4e8 "}	1588006040576
EVENTS	1588006041539	{"@timestamp":"2020-04-27T16:47:20.576Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token bb230e0d-cd0a-445c-b340-36113ba6c4e8"}	1588006040577
EVENTS	1588006041539	{"@timestamp":"2020-04-27T16:47:20.580Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token bb230e0d-cd0a-445c-b340-36113ba6c4e8: []"}	1588006040580
EVENTS	1588006041539	{"@timestamp":"2020-04-27T16:47:20.811Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6e1a510f-67eb-43eb-8a38-ee4f572b47c7 "}	1588006040812
EVENTS	1588006041539	{"@timestamp":"2020-04-27T16:47:20.812Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6e1a510f-67eb-43eb-8a38-ee4f572b47c7"}	1588006040812
EVENTS	1588006041539	{"@timestamp":"2020-04-27T16:47:20.813Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6e1a510f-67eb-43eb-8a38-ee4f572b47c7: []"}	1588006040813
EVENTS	1588006146540	{"@timestamp":"2020-04-27T16:49:04.160Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6e1a510f-67eb-43eb-8a38-ee4f572b47c7 "}	1588006144160
EVENTS	1588006146540	{"@timestamp":"2020-04-27T16:49:04.160Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6e1a510f-67eb-43eb-8a38-ee4f572b47c7"}	1588006144161
EVENTS	1588006146540	{"@timestamp":"2020-04-27T16:49:04.163Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6e1a510f-67eb-43eb-8a38-ee4f572b47c7: []"}	1588006144163
EVENTS	1588006436540	{"@timestamp":"2020-04-27T16:53:51.886Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 92594ade-9e59-4142-bc4f-aad1c2c909d1 "}	1588006431886
EVENTS	1588006436540	{"@timestamp":"2020-04-27T16:53:51.887Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 92594ade-9e59-4142-bc4f-aad1c2c909d1"}	1588006431887
EVENTS	1588006436540	{"@timestamp":"2020-04-27T16:53:51.888Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 92594ade-9e59-4142-bc4f-aad1c2c909d1: []"}	1588006431888
EVENTS	1588006536541	{"@timestamp":"2020-04-27T16:55:33.041Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 55923bc1-a4dd-407d-a4bf-dda0b73610cd "}	1588006533042
EVENTS	1588006536541	{"@timestamp":"2020-04-27T16:55:33.042Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 55923bc1-a4dd-407d-a4bf-dda0b73610cd"}	1588006533042
EVENTS	1588006536541	{"@timestamp":"2020-04-27T16:55:33.043Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 55923bc1-a4dd-407d-a4bf-dda0b73610cd: []"}	1588006533043
EVENTS	1588006536541	{"@timestamp":"2020-04-27T16:55:35.642Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 15b0ca9c-d4ed-45cc-a096-72eb9fe718ca "}	1588006535643
EVENTS	1588006536541	{"@timestamp":"2020-04-27T16:55:35.643Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 15b0ca9c-d4ed-45cc-a096-72eb9fe718ca"}	1588006535643
EVENTS	1588006536541	{"@timestamp":"2020-04-27T16:55:35.646Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 15b0ca9c-d4ed-45cc-a096-72eb9fe718ca: []"}	1588006535647
EVENTS	1588006636540	{"@timestamp":"2020-04-27T16:57:13.120Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 943db13c-f47b-4eb1-bbde-12c67ed6aa24 "}	1588006633120
EVENTS	1588006636540	{"@timestamp":"2020-04-27T16:57:13.120Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 943db13c-f47b-4eb1-bbde-12c67ed6aa24"}	1588006633121
EVENTS	1588006636540	{"@timestamp":"2020-04-27T16:57:13.123Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 943db13c-f47b-4eb1-bbde-12c67ed6aa24: []"}	1588006633123
EVENTS	1588006781537	{"@timestamp":"2020-04-27T16:59:40.297Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 5994e5de-8ccc-425b-b8ed-0cf07b3abeb1 "}	1588006780298
EVENTS	1588006781537	{"@timestamp":"2020-04-27T16:59:40.298Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 5994e5de-8ccc-425b-b8ed-0cf07b3abeb1"}	1588006780298
EVENTS	1588006781537	{"@timestamp":"2020-04-27T16:59:40.300Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 5994e5de-8ccc-425b-b8ed-0cf07b3abeb1: []"}	1588006780300
EVENTS	1588006791541	{"@timestamp":"2020-04-27T16:59:50.745Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6e1a510f-67eb-43eb-8a38-ee4f572b47c7 "}	1588006790745
EVENTS	1588006791541	{"@timestamp":"2020-04-27T16:59:50.746Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6e1a510f-67eb-43eb-8a38-ee4f572b47c7"}	1588006790747
EVENTS	1588006791541	{"@timestamp":"2020-04-27T16:59:50.749Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6e1a510f-67eb-43eb-8a38-ee4f572b47c7: []"}	1588006790749
EVENTS	1588006801542	{"@timestamp":"2020-04-27T16:59:57.687Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 324a8a85-f3c4-4257-a63f-49a35c20c8e2 "}	1588006797687
EVENTS	1588006801542	{"@timestamp":"2020-04-27T16:59:57.687Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 324a8a85-f3c4-4257-a63f-49a35c20c8e2"}	1588006797688
EVENTS	1588006801542	{"@timestamp":"2020-04-27T16:59:57.690Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 324a8a85-f3c4-4257-a63f-49a35c20c8e2: []"}	1588006797690
EVENTS	1588006816540	{"@timestamp":"2020-04-27T17:00:14.901Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 7474b91e-10b1-4cb1-a464-287283d4ee40 "}	1588006814901
EVENTS	1588006816540	{"@timestamp":"2020-04-27T17:00:14.901Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 7474b91e-10b1-4cb1-a464-287283d4ee40"}	1588006814902
EVENTS	1588006816540	{"@timestamp":"2020-04-27T17:00:14.904Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 7474b91e-10b1-4cb1-a464-287283d4ee40: []"}	1588006814904
EVENTS	1588007236540	{"@timestamp":"2020-04-27T17:07:11.895Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token aa9cda88-3b58-43a1-b1b3-92c2b227e93b "}	1588007231896
EVENTS	1588007236540	{"@timestamp":"2020-04-27T17:07:11.896Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token aa9cda88-3b58-43a1-b1b3-92c2b227e93b"}	1588007231896
EVENTS	1588007236540	{"@timestamp":"2020-04-27T17:07:11.901Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token aa9cda88-3b58-43a1-b1b3-92c2b227e93b: []"}	1588007231911
EVENTS	1588007406539	{"@timestamp":"2020-04-27T17:10:02.405Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 675c0bf1-e293-4061-af32-c84ffaced2a4 "}	1588007402406
EVENTS	1588007406539	{"@timestamp":"2020-04-27T17:10:02.406Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 675c0bf1-e293-4061-af32-c84ffaced2a4"}	1588007402406
EVENTS	1588007406539	{"@timestamp":"2020-04-27T17:10:02.409Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 675c0bf1-e293-4061-af32-c84ffaced2a4: []"}	1588007402409
EVENTS	1588007426539	{"@timestamp":"2020-04-27T17:10:24.261Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 390f3f7b-8265-4b56-acf5-2cf37ccc060a "}	1588007424261
EVENTS	1588007426539	{"@timestamp":"2020-04-27T17:10:24.261Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 390f3f7b-8265-4b56-acf5-2cf37ccc060a"}	1588007424262
EVENTS	1588007426539	{"@timestamp":"2020-04-27T17:10:24.264Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 390f3f7b-8265-4b56-acf5-2cf37ccc060a: []"}	1588007424264
EVENTS	1588007446548	{"@timestamp":"2020-04-27T17:10:44.449Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 9cf822d3-bd51-4c82-8b61-c2faa67929e0 "}	1588007444449
EVENTS	1588007446548	{"@timestamp":"2020-04-27T17:10:44.449Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 9cf822d3-bd51-4c82-8b61-c2faa67929e0"}	1588007444450
EVENTS	1588007446548	{"@timestamp":"2020-04-27T17:10:44.466Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 9cf822d3-bd51-4c82-8b61-c2faa67929e0: []"}	1588007444466
EVENTS	1588007746542	{"@timestamp":"2020-04-27T17:15:45.454Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f1ab776a-c9a1-450c-899c-2438d79e8c32 "}	1588007745454
EVENTS	1588007746542	{"@timestamp":"2020-04-27T17:15:45.454Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f1ab776a-c9a1-450c-899c-2438d79e8c32"}	1588007745455
EVENTS	1588007746542	{"@timestamp":"2020-04-27T17:15:45.457Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f1ab776a-c9a1-450c-899c-2438d79e8c32: []"}	1588007745457
EVENTS	1588007756537	{"@timestamp":"2020-04-27T17:15:52.197Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token ceecfdf4-b6e2-44c1-80a2-3cd8ef2d0224 "}	1588007752198
EVENTS	1588007756537	{"@timestamp":"2020-04-27T17:15:52.198Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token ceecfdf4-b6e2-44c1-80a2-3cd8ef2d0224"}	1588007752198
EVENTS	1588007756537	{"@timestamp":"2020-04-27T17:15:52.201Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token ceecfdf4-b6e2-44c1-80a2-3cd8ef2d0224: []"}	1588007752201
EVENTS	1588007756537	{"@timestamp":"2020-04-27T17:15:56.248Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 98517097-f60b-4ad4-a72a-94f480a75a63 "}	1588007756249
EVENTS	1588007756537	{"@timestamp":"2020-04-27T17:15:56.249Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 98517097-f60b-4ad4-a72a-94f480a75a63"}	1588007756249
EVENTS	1588007756537	{"@timestamp":"2020-04-27T17:15:56.252Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 98517097-f60b-4ad4-a72a-94f480a75a63: []"}	1588007756252
EVENTS	1588007796541	{"@timestamp":"2020-04-27T17:16:36.129Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token e08a4caa-2d7f-4431-a862-3a651d4a148b "}	1588007796129
EVENTS	1588007796541	{"@timestamp":"2020-04-27T17:16:36.129Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token e08a4caa-2d7f-4431-a862-3a651d4a148b"}	1588007796129
EVENTS	1588007796541	{"@timestamp":"2020-04-27T17:16:36.131Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token e08a4caa-2d7f-4431-a862-3a651d4a148b: []"}	1588007796131
EVENTS	1588008076539	{"@timestamp":"2020-04-27T17:21:14.204Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token bc32f11b-c03c-40a1-bf49-fc0bafa198f5 "}	1588008074204
EVENTS	1588008076539	{"@timestamp":"2020-04-27T17:21:14.204Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token bc32f11b-c03c-40a1-bf49-fc0bafa198f5"}	1588008074205
EVENTS	1588008076539	{"@timestamp":"2020-04-27T17:21:14.208Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token bc32f11b-c03c-40a1-bf49-fc0bafa198f5: []"}	1588008074208
EVENTS	1588008086538	{"@timestamp":"2020-04-27T17:21:23.133Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6440f515-3dde-4137-8a7c-6f760b2640f6 "}	1588008083134
EVENTS	1588008086538	{"@timestamp":"2020-04-27T17:21:23.134Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6440f515-3dde-4137-8a7c-6f760b2640f6"}	1588008083135
EVENTS	1588008086538	{"@timestamp":"2020-04-27T17:21:23.138Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6440f515-3dde-4137-8a7c-6f760b2640f6: []"}	1588008083138
EVENTS	1588008121539	{"@timestamp":"2020-04-27T17:22:01.210Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token e08a4caa-2d7f-4431-a862-3a651d4a148b "}	1588008121210
EVENTS	1588008121539	{"@timestamp":"2020-04-27T17:22:01.210Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token e08a4caa-2d7f-4431-a862-3a651d4a148b"}	1588008121210
EVENTS	1588008121539	{"@timestamp":"2020-04-27T17:22:01.213Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token e08a4caa-2d7f-4431-a862-3a651d4a148b: []"}	1588008121213
EVENTS	1588008136538	{"@timestamp":"2020-04-27T17:22:14.107Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f1ab776a-c9a1-450c-899c-2438d79e8c32 "}	1588008134107
EVENTS	1588008136538	{"@timestamp":"2020-04-27T17:22:14.107Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f1ab776a-c9a1-450c-899c-2438d79e8c32"}	1588008134107
EVENTS	1588008136538	{"@timestamp":"2020-04-27T17:22:14.109Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f1ab776a-c9a1-450c-899c-2438d79e8c32: []"}	1588008134110
EVENTS	1588008431541	{"@timestamp":"2020-04-27T17:27:09.020Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ca8b5d6-4739-4c26-911c-fabf860532b5 "}	1588008429020
EVENTS	1588008431541	{"@timestamp":"2020-04-27T17:27:09.020Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ca8b5d6-4739-4c26-911c-fabf860532b5"}	1588008429020
EVENTS	1588008431541	{"@timestamp":"2020-04-27T17:27:09.029Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ca8b5d6-4739-4c26-911c-fabf860532b5: []"}	1588008429030
EVENTS	1588008446540	{"@timestamp":"2020-04-27T17:27:25.927Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token a0f4bce4-4654-4342-ad2a-cf9ff376a771 "}	1588008445928
EVENTS	1588008446540	{"@timestamp":"2020-04-27T17:27:25.928Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token a0f4bce4-4654-4342-ad2a-cf9ff376a771"}	1588008445928
EVENTS	1588008446540	{"@timestamp":"2020-04-27T17:27:25.931Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token a0f4bce4-4654-4342-ad2a-cf9ff376a771: []"}	1588008445931
EVENTS	1588008461540	{"@timestamp":"2020-04-27T17:27:41.350Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 97f483ed-be57-47e5-a1f7-cee902e02095 "}	1588008461350
EVENTS	1588008461540	{"@timestamp":"2020-04-27T17:27:41.351Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 97f483ed-be57-47e5-a1f7-cee902e02095"}	1588008461351
EVENTS	1588008461540	{"@timestamp":"2020-04-27T17:27:41.360Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 97f483ed-be57-47e5-a1f7-cee902e02095: []"}	1588008461360
EVENTS	1588008476540	{"@timestamp":"2020-04-27T17:27:53.184Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token b0bd0600-45fd-4613-ac60-b311ccc720aa "}	1588008473184
EVENTS	1588008476540	{"@timestamp":"2020-04-27T17:27:53.184Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token b0bd0600-45fd-4613-ac60-b311ccc720aa"}	1588008473185
EVENTS	1588008476540	{"@timestamp":"2020-04-27T17:27:53.187Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token b0bd0600-45fd-4613-ac60-b311ccc720aa: []"}	1588008473187
EVENTS	1588008771539	{"@timestamp":"2020-04-27T17:32:50.874Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token d6873f2a-580d-4883-8b98-14cde44db8cd "}	1588008770874
EVENTS	1588008771539	{"@timestamp":"2020-04-27T17:32:50.874Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token d6873f2a-580d-4883-8b98-14cde44db8cd"}	1588008770875
EVENTS	1588008771539	{"@timestamp":"2020-04-27T17:32:50.877Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d6873f2a-580d-4883-8b98-14cde44db8cd: []"}	1588008770877
EVENTS	1588008776536	{"@timestamp":"2020-04-27T17:32:53.092Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token bf5a5960-5f7a-4d07-a8a8-8f57bd3df538 "}	1588008773092
EVENTS	1588008776536	{"@timestamp":"2020-04-27T17:32:53.092Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token bf5a5960-5f7a-4d07-a8a8-8f57bd3df538"}	1588008773093
EVENTS	1588008776536	{"@timestamp":"2020-04-27T17:32:53.095Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token bf5a5960-5f7a-4d07-a8a8-8f57bd3df538: []"}	1588008773096
EVENTS	1588008811542	{"@timestamp":"2020-04-27T17:33:29.081Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token ebd23e34-1d20-4592-afa8-cb0e2e14ef94 "}	1588008809081
EVENTS	1588008811542	{"@timestamp":"2020-04-27T17:33:29.082Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token ebd23e34-1d20-4592-afa8-cb0e2e14ef94"}	1588008809082
EVENTS	1588008811542	{"@timestamp":"2020-04-27T17:33:29.094Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token ebd23e34-1d20-4592-afa8-cb0e2e14ef94: []"}	1588008809094
EVENTS	1588008871540	{"@timestamp":"2020-04-27T17:34:30.563Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 92abaabd-a85a-4817-977f-84a7f8b11da1 "}	1588008870563
EVENTS	1588008871540	{"@timestamp":"2020-04-27T17:34:30.563Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 92abaabd-a85a-4817-977f-84a7f8b11da1"}	1588008870564
EVENTS	1588008871540	{"@timestamp":"2020-04-27T17:34:30.567Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 92abaabd-a85a-4817-977f-84a7f8b11da1: []"}	1588008870567
EVENTS	1588009581540	{"@timestamp":"2020-04-27T17:46:18.139Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token d27324f7-8430-489b-8c22-722c5b8ae38f "}	1588009578140
EVENTS	1588009581540	{"@timestamp":"2020-04-27T17:46:18.140Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token d27324f7-8430-489b-8c22-722c5b8ae38f"}	1588009578140
EVENTS	1588009581540	{"@timestamp":"2020-04-27T17:46:18.143Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d27324f7-8430-489b-8c22-722c5b8ae38f: []"}	1588009578143
EVENTS	1588009716535	{"@timestamp":"2020-04-27T17:48:35.606Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f803eb7d-d358-4648-b727-445af67444e5 "}	1588009715607
EVENTS	1588009716535	{"@timestamp":"2020-04-27T17:48:35.607Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f803eb7d-d358-4648-b727-445af67444e5"}	1588009715607
EVENTS	1588009716535	{"@timestamp":"2020-04-27T17:48:35.610Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f803eb7d-d358-4648-b727-445af67444e5: []"}	1588009715610
EVENTS	1588009996541	{"@timestamp":"2020-04-27T17:53:12.327Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 2c9caee9-e07c-436d-999f-047f6d73e9a0 "}	1588009992328
EVENTS	1588009996541	{"@timestamp":"2020-04-27T17:53:12.328Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 2c9caee9-e07c-436d-999f-047f6d73e9a0"}	1588009992328
EVENTS	1588009996541	{"@timestamp":"2020-04-27T17:53:12.337Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 2c9caee9-e07c-436d-999f-047f6d73e9a0: []"}	1588009992337
EVENTS	1588010081540	{"@timestamp":"2020-04-27T17:54:38.368Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3a59b15d-b6b0-46fe-8185-b39e1365ec00 "}	1588010078368
EVENTS	1588010081540	{"@timestamp":"2020-04-27T17:54:38.368Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3a59b15d-b6b0-46fe-8185-b39e1365ec00"}	1588010078368
EVENTS	1588010081540	{"@timestamp":"2020-04-27T17:54:38.371Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3a59b15d-b6b0-46fe-8185-b39e1365ec00: []"}	1588010078371
EVENTS	1588010691540	{"@timestamp":"2020-04-27T18:04:48.883Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f410a048-61f1-44a0-85eb-3d0c5bea885d "}	1588010688883
EVENTS	1588010691540	{"@timestamp":"2020-04-27T18:04:48.884Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f410a048-61f1-44a0-85eb-3d0c5bea885d"}	1588010688884
EVENTS	1588010691540	{"@timestamp":"2020-04-27T18:04:48.886Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f410a048-61f1-44a0-85eb-3d0c5bea885d: []"}	1588010688886
EVENTS	1588010736539	{"@timestamp":"2020-04-27T18:05:33.007Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token b65ac733-eaef-48d7-808c-2b5987ecf193 "}	1588010733007
EVENTS	1588010736539	{"@timestamp":"2020-04-27T18:05:33.008Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token b65ac733-eaef-48d7-808c-2b5987ecf193"}	1588010733008
EVENTS	1588010736539	{"@timestamp":"2020-04-27T18:05:33.010Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token b65ac733-eaef-48d7-808c-2b5987ecf193: []"}	1588010733011
EVENTS	1588010741537	{"@timestamp":"2020-04-27T18:05:40.637Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token e007a72f-9c84-4270-9264-4a5c7843d232 "}	1588010740637
EVENTS	1588010741537	{"@timestamp":"2020-04-27T18:05:40.637Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token e007a72f-9c84-4270-9264-4a5c7843d232"}	1588010740638
EVENTS	1588010741537	{"@timestamp":"2020-04-27T18:05:40.640Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token e007a72f-9c84-4270-9264-4a5c7843d232: []"}	1588010740640
EVENTS	1588010766540	{"@timestamp":"2020-04-27T18:06:02.581Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token ae3123fc-770d-4969-9ebc-cf8b493f9d30 "}	1588010762581
EVENTS	1588010766540	{"@timestamp":"2020-04-27T18:06:02.582Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token ae3123fc-770d-4969-9ebc-cf8b493f9d30"}	1588010762582
EVENTS	1588010766540	{"@timestamp":"2020-04-27T18:06:02.584Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token ae3123fc-770d-4969-9ebc-cf8b493f9d30: []"}	1588010762584
EVENTS	1588010856545	{"@timestamp":"2020-04-27T18:07:33.725Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token a51b927c-6f90-4e0e-8869-9fe66c9a42f2 "}	1588010853726
EVENTS	1588010856545	{"@timestamp":"2020-04-27T18:07:33.726Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token a51b927c-6f90-4e0e-8869-9fe66c9a42f2"}	1588010853726
EVENTS	1588010856545	{"@timestamp":"2020-04-27T18:07:33.729Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token a51b927c-6f90-4e0e-8869-9fe66c9a42f2: []"}	1588010853729
EVENTS	1588010991541	{"@timestamp":"2020-04-27T18:09:47.109Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f803eb7d-d358-4648-b727-445af67444e5 "}	1588010987110
EVENTS	1588010991541	{"@timestamp":"2020-04-27T18:09:47.110Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f803eb7d-d358-4648-b727-445af67444e5"}	1588010987110
EVENTS	1588010991541	{"@timestamp":"2020-04-27T18:09:47.113Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f803eb7d-d358-4648-b727-445af67444e5: []"}	1588010987113
EVENTS	1588011001543	{"@timestamp":"2020-04-27T18:09:59.752Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 327569f6-27e5-4e38-b473-c4db4f9c40e7 "}	1588010999752
EVENTS	1588011001543	{"@timestamp":"2020-04-27T18:09:59.753Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 327569f6-27e5-4e38-b473-c4db4f9c40e7"}	1588010999754
EVENTS	1588011001543	{"@timestamp":"2020-04-27T18:09:59.759Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 327569f6-27e5-4e38-b473-c4db4f9c40e7: []"}	1588010999759
EVENTS	1588011006532	{"@timestamp":"2020-04-27T18:10:04.424Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token bcb0139b-0815-482f-bc52-3c0b45ceeda1 "}	1588011004424
EVENTS	1588011006532	{"@timestamp":"2020-04-27T18:10:04.424Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token bcb0139b-0815-482f-bc52-3c0b45ceeda1"}	1588011004424
EVENTS	1588011006532	{"@timestamp":"2020-04-27T18:10:04.427Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token bcb0139b-0815-482f-bc52-3c0b45ceeda1: []"}	1588011004427
EVENTS	1588011316537	{"@timestamp":"2020-04-27T18:15:11.648Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24 "}	1588011311649
EVENTS	1588011316537	{"@timestamp":"2020-04-27T18:15:11.649Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24"}	1588011311649
EVENTS	1588011316537	{"@timestamp":"2020-04-27T18:15:11.651Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24: []"}	1588011311651
EVENTS	1588011341537	{"@timestamp":"2020-04-27T18:15:39.469Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f803eb7d-d358-4648-b727-445af67444e5 "}	1588011339470
EVENTS	1588011341537	{"@timestamp":"2020-04-27T18:15:39.470Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f803eb7d-d358-4648-b727-445af67444e5"}	1588011339470
EVENTS	1588011341537	{"@timestamp":"2020-04-27T18:15:39.473Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f803eb7d-d358-4648-b727-445af67444e5: []"}	1588011339473
EVENTS	1588011371537	{"@timestamp":"2020-04-27T18:16:07.531Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24 "}	1588011367531
EVENTS	1588011371537	{"@timestamp":"2020-04-27T18:16:07.531Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24"}	1588011367531
EVENTS	1588011371537	{"@timestamp":"2020-04-27T18:16:07.534Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24: []"}	1588011367535
EVENTS	1588011661536	{"@timestamp":"2020-04-27T18:20:57.846Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6eaac34b-6227-4377-bc66-138aad6532b4 "}	1588011657846
EVENTS	1588011661536	{"@timestamp":"2020-04-27T18:20:57.846Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6eaac34b-6227-4377-bc66-138aad6532b4"}	1588011657847
EVENTS	1588011661536	{"@timestamp":"2020-04-27T18:20:57.849Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6eaac34b-6227-4377-bc66-138aad6532b4: []"}	1588011657849
EVENTS	1588011971540	{"@timestamp":"2020-04-27T18:26:08.333Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token dcb6596c-53d6-43b1-87e9-5a0c7493d7d9 "}	1588011968333
EVENTS	1588011971540	{"@timestamp":"2020-04-27T18:26:08.333Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token dcb6596c-53d6-43b1-87e9-5a0c7493d7d9"}	1588011968334
EVENTS	1588011971540	{"@timestamp":"2020-04-27T18:26:08.336Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token dcb6596c-53d6-43b1-87e9-5a0c7493d7d9: []"}	1588011968337
EVENTS	1588012036539	{"@timestamp":"2020-04-27T18:27:16.361Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8719e632-2e7a-40e5-bbf0-07a1ee768f59 "}	1588012036362
EVENTS	1588012036539	{"@timestamp":"2020-04-27T18:27:16.362Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8719e632-2e7a-40e5-bbf0-07a1ee768f59"}	1588012036362
EVENTS	1588012036539	{"@timestamp":"2020-04-27T18:27:16.364Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8719e632-2e7a-40e5-bbf0-07a1ee768f59: []"}	1588012036365
EVENTS	1588012041536	{"@timestamp":"2020-04-27T18:27:18.376Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24 "}	1588012038377
EVENTS	1588012041536	{"@timestamp":"2020-04-27T18:27:18.377Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24"}	1588012038377
EVENTS	1588012041536	{"@timestamp":"2020-04-27T18:27:18.385Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24: []"}	1588012038386
EVENTS	1588012061539	{"@timestamp":"2020-04-27T18:27:37.393Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token abbd3cfb-adf5-4662-b9a3-cb1277307aa9 "}	1588012057394
EVENTS	1588012061539	{"@timestamp":"2020-04-27T18:27:37.394Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token abbd3cfb-adf5-4662-b9a3-cb1277307aa9"}	1588012057394
EVENTS	1588012061539	{"@timestamp":"2020-04-27T18:27:37.396Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token abbd3cfb-adf5-4662-b9a3-cb1277307aa9: []"}	1588012057396
EVENTS	1588012346538	{"@timestamp":"2020-04-27T18:32:26.501Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token fae8ce11-3e54-430a-ab77-36a69833d2cb "}	1588012346501
EVENTS	1588012346538	{"@timestamp":"2020-04-27T18:32:26.501Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token fae8ce11-3e54-430a-ab77-36a69833d2cb"}	1588012346502
EVENTS	1588012346538	{"@timestamp":"2020-04-27T18:32:26.504Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token fae8ce11-3e54-430a-ab77-36a69833d2cb"}	1588012346505
EVENTS	1588012346538	{"@timestamp":"2020-04-27T18:32:26.507Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'fae8ce11-3e54-430a-ab77-36a69833d2cb' and pre-approval: '279849c8-54a6-4516-88fd-ab089227c08b'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012346507
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:26.815Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588012346817
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:26.816Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token fae8ce11-3e54-430a-ab77-36a69833d2cb"}	1588012346817
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:26.835Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'fae8ce11-3e54-430a-ab77-36a69833d2cb' and pre-approval: '317c4cfd-38af-48f8-997c-18dad9df08fe'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012346836
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:26.886Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588012346887
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:26.887Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token fae8ce11-3e54-430a-ab77-36a69833d2cb"}	1588012346887
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:26.893Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'fae8ce11-3e54-430a-ab77-36a69833d2cb' and pre-approval: 'fdaaabbc-241c-415a-8f21-b7681272fcc8'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012346896
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:26.962Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588012346963
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:26.963Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token fae8ce11-3e54-430a-ab77-36a69833d2cb"}	1588012346963
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:26.966Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'fae8ce11-3e54-430a-ab77-36a69833d2cb' and pre-approval: '1d3e3fcd-fcc7-46b3-b033-b1b91cf93526'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012346967
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.009Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012347009
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.009Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012347010
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.010Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token fae8ce11-3e54-430a-ab77-36a69833d2cb"}	1588012347010
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.012Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'fae8ce11-3e54-430a-ab77-36a69833d2cb' and pre-approval: '55fc8351-39fd-450d-a785-1d5ff86c88ad'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012347013
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.053Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012347053
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.054Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012347054
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.054Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token fae8ce11-3e54-430a-ab77-36a69833d2cb"}	1588012347055
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.056Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'fae8ce11-3e54-430a-ab77-36a69833d2cb' and pre-approval: '6e956ce1-b6ff-4352-9050-212b805db91b'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012347057
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.097Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012347098
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.098Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012347099
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:27.099Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token fae8ce11-3e54-430a-ab77-36a69833d2cb: [{\"id\":\"279849c8-54a6-4516-88fd-ab089227c08b\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"fae8ce11-3e54-430a-ab77-36a69833d2cb\",\"proxy_merchant_token\":\"3dbb569b-e3d5-44fd-a04f-50f5a8f3f1eb\",\"status\":\"EXPIRED\",\"sub_status\":\"available\",\"amount\":\"6400.00\",\"interest\":\"1110.00\",\"tax\":\"177.60\",\"payback\":\"7687.60\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":6,\"created_at\":\"2019-12-13T21:56:05Z\"},{\"id\":\"317c4cfd-38af-48f8-997c-18dad9df08fe\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"fae8ce11-3e54-430a-ab77-36a69833d2cb\",\"proxy_merchant_token\":\"3dbb569b-e3d5-44fd-a04f-50f5a8f3f1eb\",\"status\":\"EXPIRED\",\"sub_status\":\"available\",\"amount\":\"4300.00\",\"interest\":\"650.00\",\"tax\":\"104.00\",\"payback\":\"5054.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":5,\"created_at\":\"2019-12-13T21:56:05Z\"},{\"id\":\"fdaaabbc-241c-415a-8f21-b7681272fcc8\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"fae8ce11-3e54-430a-ab77-36a69833d2cb\",\"proxy_merchant_token\":\"3dbb569b-e3d5-44fd-a04f-50f5a8f3f1eb\",\"status\":\"EXPIRED\",\"sub_status\":\"available\",\"amount\":\"8800.00\",\"interest\":\"1600.00\",\"tax\":\"256.00\",\"payback\":\"10656.00\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":7,\"created_at\":\"2019-12-13T21:56:05Z\"},{\"id\":\"1d3e3fcd-fcc7-46b3-b033-b1b91cf93526\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"fae8ce11-3e54-430a-ab77-36a69833d2cb\",\"proxy_merchant_token\":\"3dbb569b-e3d5-44fd-a04f-50f5a8f3f1eb\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7000.00\",\"interest\":\"870.00\",\"tax\":\"139.20\",\"payback\":\"8009.20\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":5,\"created_at\":\"2019-11-29T00:11:22Z\"},{\"id\":\"55fc8351-39fd-450d-a785-1d5ff86c88ad\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"fae8ce11-3e54-430a-ab77-36a69833d2cb\",\"proxy_merchant_token\":\"3dbb569b-e3d5-44fd-a04f-50f5a8f3f1eb\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5000.00\",\"interest\":\"620.00\",\"tax\":\"99.20\",\"payback\":\"5719.20\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":5,\"created_at\":\"2019-11-29T00:11:22Z\"},{\"id\":\"6e956ce1-b6ff-4352-9050-212b805db91b\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"fae8ce11-3e54-430a-ab77-36a69833d2cb\",\"proxy_merchant_token\":\"3dbb569b-e3d5-44fd-a04f-50f5a8f3f1eb\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"9000.00\",\"interest\":\"1120.00\",\"tax\":\"179.20\",\"payback\":\"10299.20\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":5,\"created_at\":\"2019-11-29T00:11:22Z\"}]"}	1588012347100
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:29.440Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24 "}	1588012349441
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:29.441Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24"}	1588012349441
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:29.444Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24: []"}	1588012349444
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:31.498Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token e3f3dda2-2fbc-4fc6-ad72-f880213cfef0 "}	1588012351499
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:31.498Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token e3f3dda2-2fbc-4fc6-ad72-f880213cfef0"}	1588012351499
EVENTS	1588012351539	{"@timestamp":"2020-04-27T18:32:31.501Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token e3f3dda2-2fbc-4fc6-ad72-f880213cfef0: []"}	1588012351501
EVENTS	1588012356538	{"@timestamp":"2020-04-27T18:32:35.265Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24 "}	1588012355265
EVENTS	1588012356538	{"@timestamp":"2020-04-27T18:32:35.265Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24"}	1588012355266
EVENTS	1588012356538	{"@timestamp":"2020-04-27T18:32:35.268Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24: []"}	1588012355268
EVENTS	1588012381539	{"@timestamp":"2020-04-27T18:32:58.337Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24 "}	1588012378338
EVENTS	1588012381539	{"@timestamp":"2020-04-27T18:32:58.338Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24"}	1588012378338
EVENTS	1588012381539	{"@timestamp":"2020-04-27T18:32:58.340Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24: []"}	1588012378341
EVENTS	1588012431540	{"@timestamp":"2020-04-27T18:33:46.934Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token d000ba89-c1ee-49f1-a312-12763a37e76a "}	1588012426935
EVENTS	1588012431540	{"@timestamp":"2020-04-27T18:33:46.935Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token d000ba89-c1ee-49f1-a312-12763a37e76a"}	1588012426936
EVENTS	1588012431540	{"@timestamp":"2020-04-27T18:33:46.941Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d000ba89-c1ee-49f1-a312-12763a37e76a: []"}	1588012426942
EVENTS	1588012431540	{"@timestamp":"2020-04-27T18:33:51.326Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24 "}	1588012431326
EVENTS	1588012431540	{"@timestamp":"2020-04-27T18:33:51.326Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24"}	1588012431327
EVENTS	1588012431540	{"@timestamp":"2020-04-27T18:33:51.340Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24: []"}	1588012431341
EVENTS	1588012436538	{"@timestamp":"2020-04-27T18:33:53.957Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24 "}	1588012433957
EVENTS	1588012436538	{"@timestamp":"2020-04-27T18:33:53.958Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24"}	1588012433958
EVENTS	1588012436538	{"@timestamp":"2020-04-27T18:33:53.961Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ca7de6a-32c6-4d63-92b3-ea9182124e24: []"}	1588012433961
EVENTS	1588012591539	{"@timestamp":"2020-04-27T18:36:27.134Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 2a9b9332-bf44-478f-a784-7472fe05e8a4 "}	1588012587134
EVENTS	1588012591539	{"@timestamp":"2020-04-27T18:36:27.134Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 2a9b9332-bf44-478f-a784-7472fe05e8a4"}	1588012587137
EVENTS	1588012591539	{"@timestamp":"2020-04-27T18:36:27.137Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 2a9b9332-bf44-478f-a784-7472fe05e8a4: []"}	1588012587139
EVENTS	1588012611540	{"@timestamp":"2020-04-27T18:36:48.039Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token d6f4d5fb-6b33-4f2d-84a2-162bcfa5900f "}	1588012608039
EVENTS	1588012611540	{"@timestamp":"2020-04-27T18:36:48.039Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token d6f4d5fb-6b33-4f2d-84a2-162bcfa5900f"}	1588012608039
EVENTS	1588012611540	{"@timestamp":"2020-04-27T18:36:48.042Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d6f4d5fb-6b33-4f2d-84a2-162bcfa5900f: []"}	1588012608042
EVENTS	1588012646541	{"@timestamp":"2020-04-27T18:37:24.845Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token e36e4215-e6dc-4076-8c66-cd9e8b0a0384 "}	1588012644846
EVENTS	1588012646541	{"@timestamp":"2020-04-27T18:37:24.846Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token e36e4215-e6dc-4076-8c66-cd9e8b0a0384"}	1588012644846
EVENTS	1588012646541	{"@timestamp":"2020-04-27T18:37:24.849Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token e36e4215-e6dc-4076-8c66-cd9e8b0a0384: []"}	1588012644850
EVENTS	1588012701564	{"@timestamp":"2020-04-27T18:38:18.835Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 50b05d7b-0391-4997-a377-9ea01b9830db "}	1588012698835
EVENTS	1588012701564	{"@timestamp":"2020-04-27T18:38:18.836Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 50b05d7b-0391-4997-a377-9ea01b9830db"}	1588012698836
EVENTS	1588012701564	{"@timestamp":"2020-04-27T18:38:18.838Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 50b05d7b-0391-4997-a377-9ea01b9830db: []"}	1588012698839
EVENTS	1588012896538	{"@timestamp":"2020-04-27T18:41:31.989Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 17bef603-80cf-4e6d-954a-c86436b2f3d1 "}	1588012891989
EVENTS	1588012896538	{"@timestamp":"2020-04-27T18:41:31.990Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 17bef603-80cf-4e6d-954a-c86436b2f3d1"}	1588012891990
EVENTS	1588012896538	{"@timestamp":"2020-04-27T18:41:31.992Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 17bef603-80cf-4e6d-954a-c86436b2f3d1: []"}	1588012891993
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.341Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34 "}	1588012939341
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.341Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012939341
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.345Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012939346
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.348Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '0a164a39-4423-472a-82fc-b1e13a10cecf'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012939349
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.622Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588012939622
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.623Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012939623
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.625Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '6c8ff748-f8a6-4a46-b0c3-935f2fd542a2'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012939625
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.777Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588012939778
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.778Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012939778
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.780Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '7d22def1-5329-41bd-af35-dfb66a45006d'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012939781
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.829Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588012939830
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.830Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012939830
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.832Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '0aae87b1-b504-470f-99e7-06a378f17c10'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012939832
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.874Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012939875
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.875Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012939875
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.875Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012939876
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.877Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '9548252e-a654-4524-a156-1bf44fb48881'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012939879
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.917Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012939918
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.918Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012939918
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.918Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012939919
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.920Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: 'b8e3d842-7617-4f9d-a954-4337c01a3abc'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012939921
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.959Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012939959
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.959Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012939960
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.960Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012939960
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:19.962Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '6de0114d-df5f-4b51-aa66-914c40fe88f3'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012939962
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.003Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940004
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.004Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940004
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.004Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012940005
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.007Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '8ef18de9-adcc-4b12-a19c-b8883b86f9fe'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012940007
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.055Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940056
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.056Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940061
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.060Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012940061
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.063Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: 'ebcdba4f-d029-421a-910f-0c3116e0cd0d'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012940063
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.109Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940109
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.110Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940110
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.110Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012940110
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.112Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '096f948f-5955-402e-97c7-6df926dd6375'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012940113
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.155Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940155
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.156Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940157
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.157Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012940158
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.161Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '49f0c563-d3e4-4bb7-a53d-05a68fa4b396'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012940162
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.204Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940205
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.205Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940205
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.205Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34"}	1588012940206
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.209Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '0d4f2f64-8e0a-41ab-9b5d-d307cb304e34' and pre-approval: '6ebf8fc1-1bda-49d3-bdc0-0d0dd8ccf4e5'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588012940209
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.249Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 9e627d62-10bf-4d57-a2a5-ef803d37edcf "}	1588012940249
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.250Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 9e627d62-10bf-4d57-a2a5-ef803d37edcf"}	1588012940250
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.251Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 9e627d62-10bf-4d57-a2a5-ef803d37edcf: []"}	1588012940251
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.262Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940263
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.263Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588012940263
EVENTS	1588012941546	{"@timestamp":"2020-04-27T18:42:20.263Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 0d4f2f64-8e0a-41ab-9b5d-d307cb304e34: [{\"id\":\"0a164a39-4423-472a-82fc-b1e13a10cecf\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"8400.00\",\"interest\":\"1620.00\",\"tax\":\"259.20\",\"payback\":\"10279.20\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T01:22:10Z\"},{\"id\":\"6c8ff748-f8a6-4a46-b0c3-935f2fd542a2\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"6100.00\",\"interest\":\"1190.00\",\"tax\":\"190.40\",\"payback\":\"7480.40\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T01:22:10Z\"},{\"id\":\"7d22def1-5329-41bd-af35-dfb66a45006d\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"3800.00\",\"interest\":\"750.00\",\"tax\":\"120.00\",\"payback\":\"4670.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T01:22:10Z\"},{\"id\":\"0aae87b1-b504-470f-99e7-06a378f17c10\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5600.00\",\"interest\":\"970.00\",\"tax\":\"155.20\",\"payback\":\"6725.20\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-06T22:28:54Z\"},{\"id\":\"9548252e-a654-4524-a156-1bf44fb48881\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7200.00\",\"interest\":\"1250.00\",\"tax\":\"200.00\",\"payback\":\"8650.00\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-06T22:28:54Z\"},{\"id\":\"b8e3d842-7617-4f9d-a954-4337c01a3abc\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"4000.00\",\"interest\":\"690.00\",\"tax\":\"110.40\",\"payback\":\"4800.40\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-06T22:28:54Z\"},{\"id\":\"6de0114d-df5f-4b51-aa66-914c40fe88f3\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7500.00\",\"interest\":\"870.00\",\"tax\":\"139.20\",\"payback\":\"8509.20\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":7,\"created_at\":\"2019-12-13T19:24:10Z\"},{\"id\":\"8ef18de9-adcc-4b12-a19c-b8883b86f9fe\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5400.00\",\"interest\":\"640.00\",\"tax\":\"102.40\",\"payback\":\"6142.40\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":6,\"created_at\":\"2019-12-13T19:24:10Z\"},{\"id\":\"ebcdba4f-d029-421a-910f-0c3116e0cd0d\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3600.00\",\"interest\":\"380.00\",\"tax\":\"60.80\",\"payback\":\"4040.80\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":5,\"created_at\":\"2019-12-13T19:24:10Z\"},{\"id\":\"096f948f-5955-402e-97c7-6df926dd6375\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5300.00\",\"interest\":\"700.00\",\"tax\":\"112.00\",\"payback\":\"6112.00\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":5,\"created_at\":\"2019-11-28T23:59:22Z\"},{\"id\":\"49f0c563-d3e4-4bb7-a53d-05a68fa4b396\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3800.00\",\"interest\":\"490.00\",\"tax\":\"78.40\",\"payback\":\"4368.40\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":5,\"created_at\":\"2019-11-28T23:59:22Z\"},{\"id\":\"6ebf8fc1-1bda-49d3-bdc0-0d0dd8ccf4e5\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"0d4f2f64-8e0a-41ab-9b5d-d307cb304e34\",\"proxy_merchant_token\":\"0fc21052-5703-458d-9dd7-ad9346a422fe\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"6800.00\",\"interest\":\"910.00\",\"tax\":\"145.60\",\"payback\":\"7855.60\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2019-12-13\",\"term_maximum\":5,\"created_at\":\"2019-11-28T23:59:22Z\"}]"}	1588012940266
EVENTS	1588012996538	{"@timestamp":"2020-04-27T18:43:15.469Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token d6f4d5fb-6b33-4f2d-84a2-162bcfa5900f "}	1588012995469
EVENTS	1588012996538	{"@timestamp":"2020-04-27T18:43:15.469Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token d6f4d5fb-6b33-4f2d-84a2-162bcfa5900f"}	1588012995470
EVENTS	1588012996538	{"@timestamp":"2020-04-27T18:43:15.472Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d6f4d5fb-6b33-4f2d-84a2-162bcfa5900f: []"}	1588012995472
EVENTS	1588013196544	{"@timestamp":"2020-04-27T18:46:32.801Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 1658e437-4ac9-4f9f-a872-7a882ba77694 "}	1588013192801
EVENTS	1588013196544	{"@timestamp":"2020-04-27T18:46:32.801Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 1658e437-4ac9-4f9f-a872-7a882ba77694"}	1588013192801
EVENTS	1588013196544	{"@timestamp":"2020-04-27T18:46:32.804Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 1658e437-4ac9-4f9f-a872-7a882ba77694: []"}	1588013192804
EVENTS	1588013211540	{"@timestamp":"2020-04-27T18:46:48.209Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 0d7dbfbe-a37d-4d62-8ba1-db04044ebe00 "}	1588013208209
EVENTS	1588013211540	{"@timestamp":"2020-04-27T18:46:48.210Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 0d7dbfbe-a37d-4d62-8ba1-db04044ebe00"}	1588013208210
EVENTS	1588013211540	{"@timestamp":"2020-04-27T18:46:48.211Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 0d7dbfbe-a37d-4d62-8ba1-db04044ebe00: []"}	1588013208211
EVENTS	1588013216538	{"@timestamp":"2020-04-27T18:46:53.190Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 1b32ab88-6a7b-4690-9683-dbcfab835dd8 "}	1588013213191
EVENTS	1588013216538	{"@timestamp":"2020-04-27T18:46:53.191Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 1b32ab88-6a7b-4690-9683-dbcfab835dd8"}	1588013213191
EVENTS	1588013216538	{"@timestamp":"2020-04-27T18:46:53.192Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 1b32ab88-6a7b-4690-9683-dbcfab835dd8: []"}	1588013213193
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.589Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 68ab56ef-115c-4827-b7d4-7a7c9399ab63 "}	1588013228590
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.590Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 68ab56ef-115c-4827-b7d4-7a7c9399ab63"}	1588013228590
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.593Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 68ab56ef-115c-4827-b7d4-7a7c9399ab63"}	1588013228594
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.596Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '68ab56ef-115c-4827-b7d4-7a7c9399ab63' and pre-approval: '358a0425-72dd-4066-9f1e-c3989a26cb22'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588013228596
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.692Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588013228692
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.692Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 68ab56ef-115c-4827-b7d4-7a7c9399ab63"}	1588013228693
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.694Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '68ab56ef-115c-4827-b7d4-7a7c9399ab63' and pre-approval: 'b02e7c92-a78a-4759-afae-737b63207b51'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588013228695
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.745Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588013228745
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.746Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 68ab56ef-115c-4827-b7d4-7a7c9399ab63"}	1588013228746
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.748Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '68ab56ef-115c-4827-b7d4-7a7c9399ab63' and pre-approval: 'd2261df7-39e1-4378-8d18-6c0dc538af65'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588013228748
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.797Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588013228798
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.798Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 68ab56ef-115c-4827-b7d4-7a7c9399ab63"}	1588013228798
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.800Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '68ab56ef-115c-4827-b7d4-7a7c9399ab63' and pre-approval: '49d9a701-25e2-441a-83dd-06c16da20726'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588013228800
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.846Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588013228847
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.847Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588013228847
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.847Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 68ab56ef-115c-4827-b7d4-7a7c9399ab63"}	1588013228847
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.849Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '68ab56ef-115c-4827-b7d4-7a7c9399ab63' and pre-approval: 'c193cd65-18ac-42fc-8202-d46fc7574ac0'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588013228850
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.896Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588013228896
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.896Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588013228897
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.897Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 68ab56ef-115c-4827-b7d4-7a7c9399ab63"}	1588013228897
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.899Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '68ab56ef-115c-4827-b7d4-7a7c9399ab63' and pre-approval: 'de1e9011-75ed-4d6b-86f5-710fdc9751a8'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588013228899
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.942Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588013228943
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.943Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588013228943
EVENTS	1588013231544	{"@timestamp":"2020-04-27T18:47:08.943Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 68ab56ef-115c-4827-b7d4-7a7c9399ab63: [{\"id\":\"358a0425-72dd-4066-9f1e-c3989a26cb22\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"68ab56ef-115c-4827-b7d4-7a7c9399ab63\",\"proxy_merchant_token\":\"51d7089e-4eda-4622-a3f0-98e23857547d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"11900.00\",\"interest\":\"1670.00\",\"tax\":\"267.20\",\"payback\":\"13837.20\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T05:57:04Z\"},{\"id\":\"b02e7c92-a78a-4759-afae-737b63207b51\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"68ab56ef-115c-4827-b7d4-7a7c9399ab63\",\"proxy_merchant_token\":\"51d7089e-4eda-4622-a3f0-98e23857547d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"7400.00\",\"interest\":\"1080.00\",\"tax\":\"172.80\",\"payback\":\"8652.80\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T05:57:04Z\"},{\"id\":\"d2261df7-39e1-4378-8d18-6c0dc538af65\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"68ab56ef-115c-4827-b7d4-7a7c9399ab63\",\"proxy_merchant_token\":\"51d7089e-4eda-4622-a3f0-98e23857547d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"16400.00\",\"interest\":\"2260.00\",\"tax\":\"361.60\",\"payback\":\"19021.60\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T05:57:04Z\"},{\"id\":\"49d9a701-25e2-441a-83dd-06c16da20726\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"68ab56ef-115c-4827-b7d4-7a7c9399ab63\",\"proxy_merchant_token\":\"51d7089e-4eda-4622-a3f0-98e23857547d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"11000.00\",\"interest\":\"1500.00\",\"tax\":\"240.00\",\"payback\":\"12740.00\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T02:23:09Z\"},{\"id\":\"c193cd65-18ac-42fc-8202-d46fc7574ac0\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"68ab56ef-115c-4827-b7d4-7a7c9399ab63\",\"proxy_merchant_token\":\"51d7089e-4eda-4622-a3f0-98e23857547d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"14100.00\",\"interest\":\"1970.00\",\"tax\":\"315.20\",\"payback\":\"16385.20\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T02:23:09Z\"},{\"id\":\"de1e9011-75ed-4d6b-86f5-710fdc9751a8\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"68ab56ef-115c-4827-b7d4-7a7c9399ab63\",\"proxy_merchant_token\":\"51d7089e-4eda-4622-a3f0-98e23857547d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7800.00\",\"interest\":\"1130.00\",\"tax\":\"180.80\",\"payback\":\"9110.80\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T02:23:09Z\"}]"}	1588013228945
EVENTS	1588013606537	{"@timestamp":"2020-04-27T18:53:26.524Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8bbb7001-29d7-451e-9c56-63ead7e55787 "}	1588013606524
EVENTS	1588013606537	{"@timestamp":"2020-04-27T18:53:26.525Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8bbb7001-29d7-451e-9c56-63ead7e55787"}	1588013606525
EVENTS	1588013606537	{"@timestamp":"2020-04-27T18:53:26.528Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8bbb7001-29d7-451e-9c56-63ead7e55787: []"}	1588013606528
EVENTS	1588013731541	{"@timestamp":"2020-04-27T18:55:30.075Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 5738de76-1462-49e8-b721-0af7f8c9c327 "}	1588013730076
EVENTS	1588013731541	{"@timestamp":"2020-04-27T18:55:30.076Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 5738de76-1462-49e8-b721-0af7f8c9c327"}	1588013730076
EVENTS	1588013731541	{"@timestamp":"2020-04-27T18:55:30.080Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 5738de76-1462-49e8-b721-0af7f8c9c327: []"}	1588013730080
EVENTS	1588013756539	{"@timestamp":"2020-04-27T18:55:51.749Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token efc44766-05d6-4675-ac79-e7dcf57a9cc7 "}	1588013751750
EVENTS	1588013756539	{"@timestamp":"2020-04-27T18:55:51.751Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token efc44766-05d6-4675-ac79-e7dcf57a9cc7"}	1588013751751
EVENTS	1588013756539	{"@timestamp":"2020-04-27T18:55:51.754Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token efc44766-05d6-4675-ac79-e7dcf57a9cc7: []"}	1588013751754
EVENTS	1588013786536	{"@timestamp":"2020-04-27T18:56:21.903Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8372799b-574e-4b28-8405-4d5ac0c5316f "}	1588013781904
EVENTS	1588013786536	{"@timestamp":"2020-04-27T18:56:21.904Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8372799b-574e-4b28-8405-4d5ac0c5316f"}	1588013781904
EVENTS	1588013786536	{"@timestamp":"2020-04-27T18:56:21.906Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8372799b-574e-4b28-8405-4d5ac0c5316f: []"}	1588013781907
EVENTS	1588014026535	{"@timestamp":"2020-04-27T19:00:23.321Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 97abe900-f1fc-44da-b80e-26d6a4290355 "}	1588014023322
EVENTS	1588014026535	{"@timestamp":"2020-04-27T19:00:23.322Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 97abe900-f1fc-44da-b80e-26d6a4290355"}	1588014023322
EVENTS	1588014026535	{"@timestamp":"2020-04-27T19:00:23.324Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 97abe900-f1fc-44da-b80e-26d6a4290355: []"}	1588014023325
EVENTS	1588014031533	{"@timestamp":"2020-04-27T19:00:29.808Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319 "}	1588014029809
EVENTS	1588014031533	{"@timestamp":"2020-04-27T19:00:29.810Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319"}	1588014029811
EVENTS	1588014031533	{"@timestamp":"2020-04-27T19:00:29.813Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319: []"}	1588014029813
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.183Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 92850ae8-a1ac-428b-b006-8e41ad7064ba "}	1588014032183
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.183Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 92850ae8-a1ac-428b-b006-8e41ad7064ba"}	1588014032183
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.186Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 92850ae8-a1ac-428b-b006-8e41ad7064ba"}	1588014032186
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.189Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '92850ae8-a1ac-428b-b006-8e41ad7064ba' and pre-approval: '74035d04-7a41-4805-be42-559ae7fe6560'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588014032190
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.304Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588014032305
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.304Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 92850ae8-a1ac-428b-b006-8e41ad7064ba"}	1588014032306
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.306Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '92850ae8-a1ac-428b-b006-8e41ad7064ba' and pre-approval: 'b461f74a-86b1-48d8-9b76-bb2977ed9915'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588014032307
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.364Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588014032368
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.365Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 92850ae8-a1ac-428b-b006-8e41ad7064ba"}	1588014032368
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.370Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '92850ae8-a1ac-428b-b006-8e41ad7064ba' and pre-approval: 'bd143012-afca-4350-802e-72403230b6f4'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588014032371
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.444Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588014032445
EVENTS	1588014036539	{"@timestamp":"2020-04-27T19:00:32.446Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 92850ae8-a1ac-428b-b006-8e41ad7064ba: [{\"id\":\"74035d04-7a41-4805-be42-559ae7fe6560\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"92850ae8-a1ac-428b-b006-8e41ad7064ba\",\"proxy_merchant_token\":\"29737c3a-46ff-49a3-9f2f-7457b1018a56\",\"status\":\"EXPIRED\",\"sub_status\":\"available\",\"amount\":\"48500.00\",\"interest\":\"7360.00\",\"tax\":\"1177.60\",\"payback\":\"57037.60\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T04:08:58Z\"},{\"id\":\"b461f74a-86b1-48d8-9b76-bb2977ed9915\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"92850ae8-a1ac-428b-b006-8e41ad7064ba\",\"proxy_merchant_token\":\"29737c3a-46ff-49a3-9f2f-7457b1018a56\",\"status\":\"EXPIRED\",\"sub_status\":\"available\",\"amount\":\"62400.00\",\"interest\":\"9420.00\",\"tax\":\"1507.20\",\"payback\":\"73327.20\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T04:08:58Z\"},{\"id\":\"bd143012-afca-4350-802e-72403230b6f4\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"92850ae8-a1ac-428b-b006-8e41ad7064ba\",\"proxy_merchant_token\":\"29737c3a-46ff-49a3-9f2f-7457b1018a56\",\"status\":\"EXPIRED\",\"sub_status\":\"available\",\"amount\":\"34700.00\",\"interest\":\"5200.00\",\"tax\":\"832.00\",\"payback\":\"40732.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T04:08:58Z\"}]"}	1588014032449
EVENTS	1588014061537	{"@timestamp":"2020-04-27T19:01:00.424Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 63f60930-7579-4d3e-b85b-b2fec37f9447 "}	1588014060425
EVENTS	1588014061537	{"@timestamp":"2020-04-27T19:01:00.425Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 63f60930-7579-4d3e-b85b-b2fec37f9447"}	1588014060425
EVENTS	1588014061537	{"@timestamp":"2020-04-27T19:01:00.438Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 63f60930-7579-4d3e-b85b-b2fec37f9447: []"}	1588014060438
EVENTS	1588014246540	{"@timestamp":"2020-04-27T19:04:05.309Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319 "}	1588014245310
EVENTS	1588014246540	{"@timestamp":"2020-04-27T19:04:05.310Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319"}	1588014245310
EVENTS	1588014246540	{"@timestamp":"2020-04-27T19:04:05.312Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319: []"}	1588014245313
EVENTS	1588014276542	{"@timestamp":"2020-04-27T19:04:35.400Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 81252184-9be0-4566-ac4d-054230df303f "}	1588014275400
EVENTS	1588014276542	{"@timestamp":"2020-04-27T19:04:35.401Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 81252184-9be0-4566-ac4d-054230df303f"}	1588014275401
EVENTS	1588014276542	{"@timestamp":"2020-04-27T19:04:35.403Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 81252184-9be0-4566-ac4d-054230df303f: []"}	1588014275403
EVENTS	1588014291541	{"@timestamp":"2020-04-27T19:04:48.273Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319 "}	1588014288274
EVENTS	1588014291541	{"@timestamp":"2020-04-27T19:04:48.274Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319"}	1588014288274
EVENTS	1588014291541	{"@timestamp":"2020-04-27T19:04:48.281Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token fd7481c9-9bba-4da3-a91e-91ffb41e5319: []"}	1588014288281
EVENTS	1588014326542	{"@timestamp":"2020-04-27T19:05:22.836Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token d564af6f-ad93-4dbd-9f7a-812cf7ccc913 "}	1588014322837
EVENTS	1588014326542	{"@timestamp":"2020-04-27T19:05:22.837Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token d564af6f-ad93-4dbd-9f7a-812cf7ccc913"}	1588014322837
EVENTS	1588014326542	{"@timestamp":"2020-04-27T19:05:22.844Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token d564af6f-ad93-4dbd-9f7a-812cf7ccc913: []"}	1588014322844
EVENTS	1588014601539	{"@timestamp":"2020-04-27T19:09:58.382Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f22a473a-8919-4d78-9f00-6376b178aad1 "}	1588014598383
EVENTS	1588014601539	{"@timestamp":"2020-04-27T19:09:58.383Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f22a473a-8919-4d78-9f00-6376b178aad1"}	1588014598383
EVENTS	1588014601539	{"@timestamp":"2020-04-27T19:09:58.385Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f22a473a-8919-4d78-9f00-6376b178aad1: []"}	1588014598386
EVENTS	1588014641539	{"@timestamp":"2020-04-27T19:10:37.450Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 7699aeac-e352-484d-8d5b-6b38b9465fcf "}	1588014637450
EVENTS	1588014641539	{"@timestamp":"2020-04-27T19:10:37.450Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 7699aeac-e352-484d-8d5b-6b38b9465fcf"}	1588014637451
EVENTS	1588014641539	{"@timestamp":"2020-04-27T19:10:37.453Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 7699aeac-e352-484d-8d5b-6b38b9465fcf: []"}	1588014637454
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.122Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token cbe53812-07f5-46f8-8f03-09fb5c1e90ea "}	1588014744123
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.123Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token cbe53812-07f5-46f8-8f03-09fb5c1e90ea"}	1588014744123
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.128Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cbe53812-07f5-46f8-8f03-09fb5c1e90ea"}	1588014744129
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.131Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cbe53812-07f5-46f8-8f03-09fb5c1e90ea' and pre-approval: '66fb601a-d3cc-4409-a3c1-d56c75e4fb01'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588014744131
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.240Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588014744241
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.241Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cbe53812-07f5-46f8-8f03-09fb5c1e90ea"}	1588014744242
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.245Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cbe53812-07f5-46f8-8f03-09fb5c1e90ea' and pre-approval: '7d1e70d5-0932-40a0-847f-e6221893a08b'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588014744246
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.294Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588014744295
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.295Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cbe53812-07f5-46f8-8f03-09fb5c1e90ea"}	1588014744295
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.297Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cbe53812-07f5-46f8-8f03-09fb5c1e90ea' and pre-approval: '911b4c6c-12ef-47f8-9451-0706a29b3244'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588014744298
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.362Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588014744363
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.363Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cbe53812-07f5-46f8-8f03-09fb5c1e90ea"}	1588014744363
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.365Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cbe53812-07f5-46f8-8f03-09fb5c1e90ea' and pre-approval: '35807640-637e-4bc0-a2d9-3ee6d56560f4'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588014744366
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.408Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588014744408
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.408Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588014744409
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.409Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cbe53812-07f5-46f8-8f03-09fb5c1e90ea"}	1588014744409
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.411Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cbe53812-07f5-46f8-8f03-09fb5c1e90ea' and pre-approval: '42924e18-fdce-4b61-aced-5d4557a262e2'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588014744411
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.637Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588014744637
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.638Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588014744638
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.638Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token cbe53812-07f5-46f8-8f03-09fb5c1e90ea"}	1588014744638
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.646Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'cbe53812-07f5-46f8-8f03-09fb5c1e90ea' and pre-approval: 'd853af81-931c-47fc-ae86-e103d059fd2e'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588014744646
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.689Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588014744690
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.690Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588014744690
EVENTS	1588014746543	{"@timestamp":"2020-04-27T19:12:24.690Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token cbe53812-07f5-46f8-8f03-09fb5c1e90ea: [{\"id\":\"66fb601a-d3cc-4409-a3c1-d56c75e4fb01\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"cbe53812-07f5-46f8-8f03-09fb5c1e90ea\",\"proxy_merchant_token\":\"f7169e28-e4bf-49fd-bc4f-5cd7f4042b4d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"10600.00\",\"interest\":\"2940.00\",\"tax\":\"470.40\",\"payback\":\"14010.40\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":6,\"created_at\":\"2020-02-27T10:54:12Z\"},{\"id\":\"7d1e70d5-0932-40a0-847f-e6221893a08b\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"cbe53812-07f5-46f8-8f03-09fb5c1e90ea\",\"proxy_merchant_token\":\"f7169e28-e4bf-49fd-bc4f-5cd7f4042b4d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"7600.00\",\"interest\":\"2070.00\",\"tax\":\"331.20\",\"payback\":\"10001.20\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":6,\"created_at\":\"2020-02-27T10:54:12Z\"},{\"id\":\"911b4c6c-12ef-47f8-9451-0706a29b3244\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"cbe53812-07f5-46f8-8f03-09fb5c1e90ea\",\"proxy_merchant_token\":\"f7169e28-e4bf-49fd-bc4f-5cd7f4042b4d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"13700.00\",\"interest\":\"3710.00\",\"tax\":\"593.60\",\"payback\":\"18003.60\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":6,\"created_at\":\"2020-02-27T10:54:12Z\"},{\"id\":\"35807640-637e-4bc0-a2d9-3ee6d56560f4\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"cbe53812-07f5-46f8-8f03-09fb5c1e90ea\",\"proxy_merchant_token\":\"f7169e28-e4bf-49fd-bc4f-5cd7f4042b4d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"7900.00\",\"interest\":\"1270.00\",\"tax\":\"203.20\",\"payback\":\"9373.20\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T06:33:27Z\"},{\"id\":\"42924e18-fdce-4b61-aced-5d4557a262e2\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"cbe53812-07f5-46f8-8f03-09fb5c1e90ea\",\"proxy_merchant_token\":\"f7169e28-e4bf-49fd-bc4f-5cd7f4042b4d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10200.00\",\"interest\":\"1590.00\",\"tax\":\"254.40\",\"payback\":\"12044.40\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T06:33:27Z\"},{\"id\":\"d853af81-931c-47fc-ae86-e103d059fd2e\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"cbe53812-07f5-46f8-8f03-09fb5c1e90ea\",\"proxy_merchant_token\":\"f7169e28-e4bf-49fd-bc4f-5cd7f4042b4d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5600.00\",\"interest\":\"950.00\",\"tax\":\"152.00\",\"payback\":\"6702.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T06:33:27Z\"}]"}	1588014744693
EVENTS	1588014766539	{"@timestamp":"2020-04-27T19:12:46.378Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8bbb7001-29d7-451e-9c56-63ead7e55787 "}	1588014766379
EVENTS	1588014766539	{"@timestamp":"2020-04-27T19:12:46.379Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8bbb7001-29d7-451e-9c56-63ead7e55787"}	1588014766379
EVENTS	1588014766539	{"@timestamp":"2020-04-27T19:12:46.381Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8bbb7001-29d7-451e-9c56-63ead7e55787: []"}	1588014766382
EVENTS	1588014931734	{"@timestamp":"2020-04-27T19:15:30.820Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 99f3efd5-f3d3-4955-8d4c-8fa6a03f1ee4 "}	1588014930820
EVENTS	1588014931734	{"@timestamp":"2020-04-27T19:15:30.820Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 99f3efd5-f3d3-4955-8d4c-8fa6a03f1ee4"}	1588014930820
EVENTS	1588014931734	{"@timestamp":"2020-04-27T19:15:30.823Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 99f3efd5-f3d3-4955-8d4c-8fa6a03f1ee4: []"}	1588014930823
EVENTS	1588015051537	{"@timestamp":"2020-04-27T19:17:26.715Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 0d7dbfbe-a37d-4d62-8ba1-db04044ebe00 "}	1588015046719
EVENTS	1588015051537	{"@timestamp":"2020-04-27T19:17:26.715Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 0d7dbfbe-a37d-4d62-8ba1-db04044ebe00"}	1588015046719
EVENTS	1588015051537	{"@timestamp":"2020-04-27T19:17:26.718Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 0d7dbfbe-a37d-4d62-8ba1-db04044ebe00: []"}	1588015046719
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.712Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 5d422f37-f96f-41f8-8fad-f3a2b47b1dde "}	1588015103712
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.712Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 5d422f37-f96f-41f8-8fad-f3a2b47b1dde"}	1588015103712
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.715Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 5d422f37-f96f-41f8-8fad-f3a2b47b1dde"}	1588015103715
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.717Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '5d422f37-f96f-41f8-8fad-f3a2b47b1dde' and pre-approval: '4d9b63b7-e5aa-47c0-976e-00725673b167'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588015103717
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.823Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588015103824
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.824Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 5d422f37-f96f-41f8-8fad-f3a2b47b1dde"}	1588015103824
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.826Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '5d422f37-f96f-41f8-8fad-f3a2b47b1dde' and pre-approval: 'b67efaac-9be0-4b3d-a580-dc711ea1c49a'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588015103827
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.870Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588015103870
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.870Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 5d422f37-f96f-41f8-8fad-f3a2b47b1dde"}	1588015103870
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.872Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '5d422f37-f96f-41f8-8fad-f3a2b47b1dde' and pre-approval: 'fecaef94-e1f1-480a-b313-2a015f14d7cf'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588015103872
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.961Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588015103962
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.962Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 5d422f37-f96f-41f8-8fad-f3a2b47b1dde"}	1588015103962
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:23.964Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '5d422f37-f96f-41f8-8fad-f3a2b47b1dde' and pre-approval: '0c48f72d-4a05-4298-b005-de63fc70a012'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588015103964
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.006Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015104007
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.007Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015104007
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.007Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 5d422f37-f96f-41f8-8fad-f3a2b47b1dde"}	1588015104008
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.010Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '5d422f37-f96f-41f8-8fad-f3a2b47b1dde' and pre-approval: 'af195c96-876e-4d46-a727-1ae8472c60a2'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588015104010
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.052Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015104052
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.052Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015104053
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.053Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 5d422f37-f96f-41f8-8fad-f3a2b47b1dde"}	1588015104053
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.055Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '5d422f37-f96f-41f8-8fad-f3a2b47b1dde' and pre-approval: 'daa5c942-a2ca-4961-9882-cab457a0ca79'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588015104055
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.096Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015104096
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.097Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015104097
EVENTS	1588015106543	{"@timestamp":"2020-04-27T19:18:24.097Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 5d422f37-f96f-41f8-8fad-f3a2b47b1dde: [{\"id\":\"4d9b63b7-e5aa-47c0-976e-00725673b167\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"5d422f37-f96f-41f8-8fad-f3a2b47b1dde\",\"proxy_merchant_token\":\"4dfb6efe-8e10-49e0-a7d5-ef6492c8dfff\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"1800.00\",\"interest\":\"350.00\",\"tax\":\"56.00\",\"payback\":\"2206.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T05:23:54Z\"},{\"id\":\"b67efaac-9be0-4b3d-a580-dc711ea1c49a\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"5d422f37-f96f-41f8-8fad-f3a2b47b1dde\",\"proxy_merchant_token\":\"4dfb6efe-8e10-49e0-a7d5-ef6492c8dfff\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"2800.00\",\"interest\":\"630.00\",\"tax\":\"100.80\",\"payback\":\"3530.80\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T05:23:54Z\"},{\"id\":\"fecaef94-e1f1-480a-b313-2a015f14d7cf\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"5d422f37-f96f-41f8-8fad-f3a2b47b1dde\",\"proxy_merchant_token\":\"4dfb6efe-8e10-49e0-a7d5-ef6492c8dfff\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"3900.00\",\"interest\":\"820.00\",\"tax\":\"131.20\",\"payback\":\"4851.20\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T05:23:54Z\"},{\"id\":\"0c48f72d-4a05-4298-b005-de63fc70a012\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"5d422f37-f96f-41f8-8fad-f3a2b47b1dde\",\"proxy_merchant_token\":\"4dfb6efe-8e10-49e0-a7d5-ef6492c8dfff\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3600.00\",\"interest\":\"590.00\",\"tax\":\"94.40\",\"payback\":\"4284.40\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T01:55:03Z\"},{\"id\":\"af195c96-876e-4d46-a727-1ae8472c60a2\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"5d422f37-f96f-41f8-8fad-f3a2b47b1dde\",\"proxy_merchant_token\":\"4dfb6efe-8e10-49e0-a7d5-ef6492c8dfff\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"2000.00\",\"interest\":\"330.00\",\"tax\":\"52.80\",\"payback\":\"2382.80\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T01:55:03Z\"},{\"id\":\"daa5c942-a2ca-4961-9882-cab457a0ca79\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"5d422f37-f96f-41f8-8fad-f3a2b47b1dde\",\"proxy_merchant_token\":\"4dfb6efe-8e10-49e0-a7d5-ef6492c8dfff\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"2800.00\",\"interest\":\"460.00\",\"tax\":\"73.60\",\"payback\":\"3333.60\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T01:55:03Z\"}]"}	1588015104099
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.078Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 50bd94ac-8775-4666-9f8c-5ed7fe93b7bd "}	1588015166078
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.079Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 50bd94ac-8775-4666-9f8c-5ed7fe93b7bd"}	1588015166079
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.082Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 50bd94ac-8775-4666-9f8c-5ed7fe93b7bd"}	1588015166082
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.084Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '50bd94ac-8775-4666-9f8c-5ed7fe93b7bd' and pre-approval: 'be28d1aa-53a5-4ce8-9652-f14e9b2e55eb'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588015166084
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.180Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015166181
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.181Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015166181
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.182Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 50bd94ac-8775-4666-9f8c-5ed7fe93b7bd"}	1588015166182
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.184Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '50bd94ac-8775-4666-9f8c-5ed7fe93b7bd' and pre-approval: 'd73cef5a-49b7-42ad-9b8e-f513e365bdf1'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588015166184
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.217Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015166217
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.218Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015166218
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.218Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 50bd94ac-8775-4666-9f8c-5ed7fe93b7bd"}	1588015166218
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.220Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '50bd94ac-8775-4666-9f8c-5ed7fe93b7bd' and pre-approval: 'f09df38f-8882-4e77-abc5-499e3e8ab4d3'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588015166220
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.254Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015166255
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.255Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588015166255
EVENTS	1588015166542	{"@timestamp":"2020-04-27T19:19:26.256Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 50bd94ac-8775-4666-9f8c-5ed7fe93b7bd: [{\"id\":\"be28d1aa-53a5-4ce8-9652-f14e9b2e55eb\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"50bd94ac-8775-4666-9f8c-5ed7fe93b7bd\",\"proxy_merchant_token\":\"dff88927-b251-4355-8479-faf8fe5acd6e\",\"status\":\"ACCEPTED\",\"sub_status\":\"\",\"amount\":\"5000.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"5580.00\",\"retention_rate\":\"13.4896\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:16:54Z\"},{\"id\":\"d73cef5a-49b7-42ad-9b8e-f513e365bdf1\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"50bd94ac-8775-4666-9f8c-5ed7fe93b7bd\",\"proxy_merchant_token\":\"dff88927-b251-4355-8479-faf8fe5acd6e\",\"status\":\"DECLINED\",\"sub_status\":\"\",\"amount\":\"7000.00\",\"interest\":\"700.00\",\"tax\":\"112.00\",\"payback\":\"7812.00\",\"retention_rate\":\"18.8855\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:16:54Z\"},{\"id\":\"f09df38f-8882-4e77-abc5-499e3e8ab4d3\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"50bd94ac-8775-4666-9f8c-5ed7fe93b7bd\",\"proxy_merchant_token\":\"dff88927-b251-4355-8479-faf8fe5acd6e\",\"status\":\"DECLINED\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1000.00\",\"tax\":\"160.00\",\"payback\":\"11160.00\",\"retention_rate\":\"26.9793\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:16:54Z\"}]"}	1588015166257
EVENTS	1588015641538	{"@timestamp":"2020-04-27T19:27:20.381Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 200a4756-8817-41d9-978f-d44253767ca9 "}	1588015640382
EVENTS	1588015641538	{"@timestamp":"2020-04-27T19:27:20.382Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 200a4756-8817-41d9-978f-d44253767ca9"}	1588015640382
EVENTS	1588015641538	{"@timestamp":"2020-04-27T19:27:20.384Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 200a4756-8817-41d9-978f-d44253767ca9: []"}	1588015640384
EVENTS	1588015701542	{"@timestamp":"2020-04-27T19:28:19.161Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 200a4756-8817-41d9-978f-d44253767ca9 "}	1588015699162
EVENTS	1588015701542	{"@timestamp":"2020-04-27T19:28:19.162Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 200a4756-8817-41d9-978f-d44253767ca9"}	1588015699162
EVENTS	1588015701542	{"@timestamp":"2020-04-27T19:28:19.165Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 200a4756-8817-41d9-978f-d44253767ca9: []"}	1588015699165
EVENTS	1588015706531	{"@timestamp":"2020-04-27T19:28:26.523Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6acaf58c-031e-4e13-8d32-1e7299ac6799 "}	1588015706523
EVENTS	1588015706531	{"@timestamp":"2020-04-27T19:28:26.523Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6acaf58c-031e-4e13-8d32-1e7299ac6799"}	1588015706524
EVENTS	1588015711533	{"@timestamp":"2020-04-27T19:28:26.539Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6acaf58c-031e-4e13-8d32-1e7299ac6799: []"}	1588015706540
EVENTS	1588015711533	{"@timestamp":"2020-04-27T19:28:28.937Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 1410a7ed-f595-4236-942d-7ec7b2c63ce7 "}	1588015708938
EVENTS	1588015711533	{"@timestamp":"2020-04-27T19:28:28.938Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 1410a7ed-f595-4236-942d-7ec7b2c63ce7"}	1588015708938
EVENTS	1588015711533	{"@timestamp":"2020-04-27T19:28:28.941Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 1410a7ed-f595-4236-942d-7ec7b2c63ce7: []"}	1588015708941
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:32.420Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f "}	1588016012420
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:32.421Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f"}	1588016012421
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:32.423Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f: []"}	1588016012424
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.353Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token aac975f4-fbc7-4fcd-9406-7b890f228292 "}	1588016015354
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.354Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token aac975f4-fbc7-4fcd-9406-7b890f228292"}	1588016015354
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.357Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token aac975f4-fbc7-4fcd-9406-7b890f228292"}	1588016015357
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.359Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'aac975f4-fbc7-4fcd-9406-7b890f228292' and pre-approval: '06156f62-6322-4155-bc3f-31c4d73dd050'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588016015359
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.503Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588016015503
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.503Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token aac975f4-fbc7-4fcd-9406-7b890f228292"}	1588016015503
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.506Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'aac975f4-fbc7-4fcd-9406-7b890f228292' and pre-approval: '5716f5e3-1e8d-47e2-bb68-f0207e9475b5'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588016015506
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.552Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588016015552
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.552Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token aac975f4-fbc7-4fcd-9406-7b890f228292"}	1588016015552
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.554Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'aac975f4-fbc7-4fcd-9406-7b890f228292' and pre-approval: '6f594fb8-f3f2-42ff-bfe1-7df98c04efcb'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588016015555
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.599Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588016015600
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.600Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token aac975f4-fbc7-4fcd-9406-7b890f228292"}	1588016015600
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.602Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'aac975f4-fbc7-4fcd-9406-7b890f228292' and pre-approval: '4bdee8b2-37eb-4bf1-91a6-f060d6388fbf'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588016015602
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.641Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016015641
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.641Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016015642
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.642Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token aac975f4-fbc7-4fcd-9406-7b890f228292"}	1588016015642
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.644Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'aac975f4-fbc7-4fcd-9406-7b890f228292' and pre-approval: '8d5622df-5985-4de1-bd98-456a9250b903'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588016015644
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.740Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016015741
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.741Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016015741
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.741Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token aac975f4-fbc7-4fcd-9406-7b890f228292"}	1588016015741
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.743Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'aac975f4-fbc7-4fcd-9406-7b890f228292' and pre-approval: 'c1c79e37-db81-4b8b-9184-71d2e6cf894d'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588016015744
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.786Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016015787
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.787Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016015787
EVENTS	1588016016542	{"@timestamp":"2020-04-27T19:33:35.788Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token aac975f4-fbc7-4fcd-9406-7b890f228292: [{\"id\":\"06156f62-6322-4155-bc3f-31c4d73dd050\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"aac975f4-fbc7-4fcd-9406-7b890f228292\",\"proxy_merchant_token\":\"59bff494-1d1b-4e20-bce9-fcc0ee3d064d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"2600.00\",\"interest\":\"510.00\",\"tax\":\"81.60\",\"payback\":\"3191.60\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T09:13:32Z\"},{\"id\":\"5716f5e3-1e8d-47e2-bb68-f0207e9475b5\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"aac975f4-fbc7-4fcd-9406-7b890f228292\",\"proxy_merchant_token\":\"59bff494-1d1b-4e20-bce9-fcc0ee3d064d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"1600.00\",\"interest\":\"350.00\",\"tax\":\"56.00\",\"payback\":\"2006.00\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T09:13:32Z\"},{\"id\":\"6f594fb8-f3f2-42ff-bfe1-7df98c04efcb\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"aac975f4-fbc7-4fcd-9406-7b890f228292\",\"proxy_merchant_token\":\"59bff494-1d1b-4e20-bce9-fcc0ee3d064d\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"3500.00\",\"interest\":\"780.00\",\"tax\":\"124.80\",\"payback\":\"4404.80\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T09:13:32Z\"},{\"id\":\"4bdee8b2-37eb-4bf1-91a6-f060d6388fbf\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"aac975f4-fbc7-4fcd-9406-7b890f228292\",\"proxy_merchant_token\":\"59bff494-1d1b-4e20-bce9-fcc0ee3d064d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"1800.00\",\"interest\":\"390.00\",\"tax\":\"62.40\",\"payback\":\"2252.40\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T05:10:43Z\"},{\"id\":\"8d5622df-5985-4de1-bd98-456a9250b903\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"aac975f4-fbc7-4fcd-9406-7b890f228292\",\"proxy_merchant_token\":\"59bff494-1d1b-4e20-bce9-fcc0ee3d064d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"2600.00\",\"interest\":\"470.00\",\"tax\":\"75.20\",\"payback\":\"3145.20\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T05:10:43Z\"},{\"id\":\"c1c79e37-db81-4b8b-9184-71d2e6cf894d\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"aac975f4-fbc7-4fcd-9406-7b890f228292\",\"proxy_merchant_token\":\"59bff494-1d1b-4e20-bce9-fcc0ee3d064d\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3300.00\",\"interest\":\"650.00\",\"tax\":\"104.00\",\"payback\":\"4054.00\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T05:10:43Z\"}]"}	1588016015789
EVENTS	1588016296543	{"@timestamp":"2020-04-27T19:38:12.347Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 08b2572d-0a00-4860-af07-275619a874a6 "}	1588016292348
EVENTS	1588016296543	{"@timestamp":"2020-04-27T19:38:12.348Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 08b2572d-0a00-4860-af07-275619a874a6"}	1588016292348
EVENTS	1588016296543	{"@timestamp":"2020-04-27T19:38:12.351Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 08b2572d-0a00-4860-af07-275619a874a6: []"}	1588016292351
EVENTS	1588016316541	{"@timestamp":"2020-04-27T19:38:32.783Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 39855092-0785-46c1-b6ce-b787b825d981 "}	1588016312783
EVENTS	1588016316541	{"@timestamp":"2020-04-27T19:38:32.783Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 39855092-0785-46c1-b6ce-b787b825d981"}	1588016312784
EVENTS	1588016316541	{"@timestamp":"2020-04-27T19:38:32.799Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 39855092-0785-46c1-b6ce-b787b825d981: []"}	1588016312800
EVENTS	1588016531536	{"@timestamp":"2020-04-27T19:42:11.376Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 83979493-cef4-4df2-a869-636dcd509f42 "}	1588016531377
EVENTS	1588016531536	{"@timestamp":"2020-04-27T19:42:11.377Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 83979493-cef4-4df2-a869-636dcd509f42"}	1588016531377
EVENTS	1588016531536	{"@timestamp":"2020-04-27T19:42:11.379Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 83979493-cef4-4df2-a869-636dcd509f42: []"}	1588016531380
EVENTS	1588016541538	{"@timestamp":"2020-04-27T19:42:18.045Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f "}	1588016538046
EVENTS	1588016541538	{"@timestamp":"2020-04-27T19:42:18.046Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f"}	1588016538046
EVENTS	1588016541538	{"@timestamp":"2020-04-27T19:42:18.048Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f: []"}	1588016538049
EVENTS	1588016561554	{"@timestamp":"2020-04-27T19:42:38.255Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 394a9f3e-7346-4a0b-8f7a-bf40b690411d "}	1588016558256
EVENTS	1588016561554	{"@timestamp":"2020-04-27T19:42:38.256Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 394a9f3e-7346-4a0b-8f7a-bf40b690411d"}	1588016558256
EVENTS	1588016561554	{"@timestamp":"2020-04-27T19:42:38.259Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 394a9f3e-7346-4a0b-8f7a-bf40b690411d: []"}	1588016558259
EVENTS	1588016566536	{"@timestamp":"2020-04-27T19:42:42.948Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 598b1720-d126-460d-9641-e66d65970e10 "}	1588016562948
EVENTS	1588016566536	{"@timestamp":"2020-04-27T19:42:42.949Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 598b1720-d126-460d-9641-e66d65970e10"}	1588016562949
EVENTS	1588016566536	{"@timestamp":"2020-04-27T19:42:42.953Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 598b1720-d126-460d-9641-e66d65970e10: []"}	1588016562953
EVENTS	1588016626542	{"@timestamp":"2020-04-27T19:43:42.383Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 1edd3e0e-f739-4e01-bd14-86cf62733da8 "}	1588016622384
EVENTS	1588016626542	{"@timestamp":"2020-04-27T19:43:42.384Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 1edd3e0e-f739-4e01-bd14-86cf62733da8"}	1588016622384
EVENTS	1588016626542	{"@timestamp":"2020-04-27T19:43:42.386Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 1edd3e0e-f739-4e01-bd14-86cf62733da8: []"}	1588016622386
EVENTS	1588016676537	{"@timestamp":"2020-04-27T19:44:36.336Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.LoansByStatusHandler","method":"onMessage","file":"LoansByStatusHandler.java","line":37,"message":"Request: {\"page\":1,\"limit\":10,\"status\":\"AVAILABLE\"} "}	1588016676337
EVENTS	1588016676537	{"@timestamp":"2020-04-27T19:44:36.444Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.LoansByStatusHandler","method":"onMessage","file":"LoansByStatusHandler.java","line":42,"message":"Response: {\"loans\":[{\"pre_approval_id\":\"307c2c81-1cb7-4e5e-ad4a-f99a08cf6e23\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"3\",\"merchant_token\":\"85848dc9-ce9d-4434-bfb7-2b8283cbd6b4\",\"proxy_merchant_token\":\"b087d1a7-1f30-46e7-917d-9982dafa1ea5\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"3600.00\",\"interest\":\"360.00\",\"tax\":\"57.60\",\"payback\":\"4017.60\",\"retention_rate\":\"5.0727\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:10Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null},{\"pre_approval_id\":\"71e78372-3861-4a2d-9a94-0047d9348abd\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"1\",\"merchant_token\":\"85848dc9-ce9d-4434-bfb7-2b8283cbd6b4\",\"proxy_merchant_token\":\"b087d1a7-1f30-46e7-917d-9982dafa1ea5\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"7200.00\",\"interest\":\"720.00\",\"tax\":\"115.20\",\"payback\":\"8035.20\",\"retention_rate\":\"10.1455\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:10Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null},{\"pre_approval_id\":\"a4f98e73-d831-4336-96bd-05044d691b38\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"2\",\"merchant_token\":\"85848dc9-ce9d-4434-bfb7-2b8283cbd6b4\",\"proxy_merchant_token\":\"b087d1a7-1f30-46e7-917d-9982dafa1ea5\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"5040.00\",\"interest\":\"504.00\",\"tax\":\"80.64\",\"payback\":\"5624.64\",\"retention_rate\":\"7.1018\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:10Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null},{\"pre_approval_id\":\"9106293a-ce4e-484a-8ce7-f64a8e2f4ca5\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"2\",\"merchant_token\":\"edc352b1-b5c4-4dfe-a043-c57ef106720a\",\"proxy_merchant_token\":\"79cc23b2-0623-4fc2-9a4b-050a82d95a30\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"4830.00\",\"interest\":\"483.00\",\"tax\":\"77.28\",\"payback\":\"5390.28\",\"retention_rate\":\"2.8407\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:08Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null},{\"pre_approval_id\":\"a0102d8b-8ed9-40b8-9c88-2c22cf88082a\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"1\",\"merchant_token\":\"edc352b1-b5c4-4dfe-a043-c57ef106720a\",\"proxy_merchant_token\":\"79cc23b2-0623-4fc2-9a4b-050a82d95a30\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"6900.00\",\"interest\":\"690.00\",\"tax\":\"110.40\",\"payback\":\"7700.40\",\"retention_rate\":\"4.0582\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:08Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null},{\"pre_approval_id\":\"acea079c-b97e-4076-bc79-294e88a83026\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"3\",\"merchant_token\":\"edc352b1-b5c4-4dfe-a043-c57ef106720a\",\"proxy_merchant_token\":\"79cc23b2-0623-4fc2-9a4b-050a82d95a30\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"3450.00\",\"interest\":\"345.00\",\"tax\":\"55.20\",\"payback\":\"3850.20\",\"retention_rate\":\"2.0291\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:08Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null},{\"pre_approval_id\":\"0ada318e-754f-4af6-85dc-28627cbe8606\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"2\",\"merchant_token\":\"0fa550ce-8447-4b35-bb00-49318975133f\",\"proxy_merchant_token\":\"d946688d-1fbd-4c35-a82c-27475e15e833\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"4660.00\",\"interest\":\"466.00\",\"tax\":\"74.56\",\"payback\":\"5200.56\",\"retention_rate\":\"7.0988\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:07Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null},{\"pre_approval_id\":\"37d4ef16-7242-42bd-a3b3-4086a203ac7a\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"3\",\"merchant_token\":\"0fa550ce-8447-4b35-bb00-49318975133f\",\"proxy_merchant_token\":\"d946688d-1fbd-4c35-a82c-27475e15e833\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"3330.00\",\"interest\":\"333.00\",\"tax\":\"53.28\",\"payback\":\"3716.28\",\"retention_rate\":\"5.0727\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:07Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null},{\"pre_approval_id\":\"77146ed0-99d2-495f-a24b-8ec4545cfdbf\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"1\",\"merchant_token\":\"0fa550ce-8447-4b35-bb00-49318975133f\",\"proxy_merchant_token\":\"d946688d-1fbd-4c35-a82c-27475e15e833\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"6660.00\",\"interest\":\"666.00\",\"tax\":\"106.56\",\"payback\":\"7432.56\",\"retention_rate\":\"10.1455\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:07Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null},{\"pre_approval_id\":\"9828c857-455d-43b4-9868-dddfffddb87d\",\"provider_code\":\"MOT\",\"provider_pre_approval_id\":\"2\",\"merchant_token\":\"281c44b1-8d9a-49ac-96e5-bcddfee5d869\",\"proxy_merchant_token\":\"b91dbddf-aa23-4259-93c2-c9197b87af1e\",\"provider_data\":null,\"status\":\"AVAILABLE\",\"amount\":\"2310.00\",\"interest\":\"231.00\",\"tax\":\"36.96\",\"payback\":\"2577.96\",\"retention_rate\":\"7.1018\",\"expiration_date_local\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:04Z\",\"start_date_local\":null,\"paid_amount\":\"0\",\"loan\":null}],\"total\":42999} "}	1588016676448
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.464Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 85848dc9-ce9d-4434-bfb7-2b8283cbd6b4 "}	1588016687464
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.465Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 85848dc9-ce9d-4434-bfb7-2b8283cbd6b4"}	1588016687465
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.473Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 85848dc9-ce9d-4434-bfb7-2b8283cbd6b4"}	1588016687473
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.476Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '85848dc9-ce9d-4434-bfb7-2b8283cbd6b4' and pre-approval: '307c2c81-1cb7-4e5e-ad4a-f99a08cf6e23'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588016687477
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.554Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016687555
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.558Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016687559
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.559Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 85848dc9-ce9d-4434-bfb7-2b8283cbd6b4"}	1588016687559
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.563Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '85848dc9-ce9d-4434-bfb7-2b8283cbd6b4' and pre-approval: '71e78372-3861-4a2d-9a94-0047d9348abd'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588016687564
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.600Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016687600
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.603Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016687604
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.604Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 85848dc9-ce9d-4434-bfb7-2b8283cbd6b4"}	1588016687605
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.608Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '85848dc9-ce9d-4434-bfb7-2b8283cbd6b4' and pre-approval: 'a4f98e73-d831-4336-96bd-05044d691b38'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588016687609
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.669Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016687671
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.671Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588016687672
EVENTS	1588016691538	{"@timestamp":"2020-04-27T19:44:47.674Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 85848dc9-ce9d-4434-bfb7-2b8283cbd6b4: [{\"id\":\"307c2c81-1cb7-4e5e-ad4a-f99a08cf6e23\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"85848dc9-ce9d-4434-bfb7-2b8283cbd6b4\",\"proxy_merchant_token\":\"b087d1a7-1f30-46e7-917d-9982dafa1ea5\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"3600.00\",\"interest\":\"360.00\",\"tax\":\"57.60\",\"payback\":\"4017.60\",\"retention_rate\":\"5.0727\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:10Z\"},{\"id\":\"71e78372-3861-4a2d-9a94-0047d9348abd\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"85848dc9-ce9d-4434-bfb7-2b8283cbd6b4\",\"proxy_merchant_token\":\"b087d1a7-1f30-46e7-917d-9982dafa1ea5\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"7200.00\",\"interest\":\"720.00\",\"tax\":\"115.20\",\"payback\":\"8035.20\",\"retention_rate\":\"10.1455\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:10Z\"},{\"id\":\"a4f98e73-d831-4336-96bd-05044d691b38\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"85848dc9-ce9d-4434-bfb7-2b8283cbd6b4\",\"proxy_merchant_token\":\"b087d1a7-1f30-46e7-917d-9982dafa1ea5\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"5040.00\",\"interest\":\"504.00\",\"tax\":\"80.64\",\"payback\":\"5624.64\",\"retention_rate\":\"7.1018\",\"expiration_date\":\"2020-05-01\",\"term_maximum\":1,\"created_at\":\"2020-04-16T19:31:10Z\"}]"}	1588016687675
EVENTS	1588016736532	{"@timestamp":"2020-04-27T19:45:33.426Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f "}	1588016733427
EVENTS	1588016736532	{"@timestamp":"2020-04-27T19:45:33.427Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f"}	1588016733428
EVENTS	1588016736532	{"@timestamp":"2020-04-27T19:45:33.430Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f: []"}	1588016733430
EVENTS	1588016756538	{"@timestamp":"2020-04-27T19:45:55.627Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6c8f350d-203d-4dc6-ad2c-1f20ea363fb7 "}	1588016755628
EVENTS	1588016756538	{"@timestamp":"2020-04-27T19:45:55.628Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6c8f350d-203d-4dc6-ad2c-1f20ea363fb7"}	1588016755628
EVENTS	1588016756538	{"@timestamp":"2020-04-27T19:45:55.631Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6c8f350d-203d-4dc6-ad2c-1f20ea363fb7: []"}	1588016755631
EVENTS	1588016961540	{"@timestamp":"2020-04-27T19:49:19.351Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f63d91f1-4983-4c68-93b1-8728b3ba25b9 "}	1588016959352
EVENTS	1588016961540	{"@timestamp":"2020-04-27T19:49:19.352Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f63d91f1-4983-4c68-93b1-8728b3ba25b9"}	1588016959352
EVENTS	1588016961540	{"@timestamp":"2020-04-27T19:49:19.363Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f63d91f1-4983-4c68-93b1-8728b3ba25b9: []"}	1588016959364
EVENTS	1588016996543	{"@timestamp":"2020-04-27T19:49:53.250Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 4d52b670-8333-4003-b14a-3e7c2b9a45b1 "}	1588016993250
EVENTS	1588016996543	{"@timestamp":"2020-04-27T19:49:53.250Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 4d52b670-8333-4003-b14a-3e7c2b9a45b1"}	1588016993250
EVENTS	1588016996543	{"@timestamp":"2020-04-27T19:49:53.253Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 4d52b670-8333-4003-b14a-3e7c2b9a45b1: []"}	1588016993253
EVENTS	1588016996543	{"@timestamp":"2020-04-27T19:49:55.371Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token bfc903c5-b298-48c0-9727-0b28a3db9702 "}	1588016995372
EVENTS	1588016996543	{"@timestamp":"2020-04-27T19:49:55.371Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token bfc903c5-b298-48c0-9727-0b28a3db9702"}	1588016995372
EVENTS	1588016996543	{"@timestamp":"2020-04-27T19:49:55.374Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token bfc903c5-b298-48c0-9727-0b28a3db9702: []"}	1588016995374
EVENTS	1588017011540	{"@timestamp":"2020-04-27T19:50:11.091Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3dfb86f9-b516-4e72-b437-e85f946e1e72 "}	1588017011092
EVENTS	1588017011540	{"@timestamp":"2020-04-27T19:50:11.092Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3dfb86f9-b516-4e72-b437-e85f946e1e72"}	1588017011092
EVENTS	1588017011540	{"@timestamp":"2020-04-27T19:50:11.095Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3dfb86f9-b516-4e72-b437-e85f946e1e72: []"}	1588017011095
EVENTS	1588017306539	{"@timestamp":"2020-04-27T19:55:04.954Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3dfb86f9-b516-4e72-b437-e85f946e1e72 "}	1588017304954
EVENTS	1588017306539	{"@timestamp":"2020-04-27T19:55:04.955Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3dfb86f9-b516-4e72-b437-e85f946e1e72"}	1588017304955
EVENTS	1588017306539	{"@timestamp":"2020-04-27T19:55:04.956Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3dfb86f9-b516-4e72-b437-e85f946e1e72: []"}	1588017304956
EVENTS	1588017336539	{"@timestamp":"2020-04-27T19:55:34.690Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 1bafa88b-f386-4605-a9e8-86b68f622138 "}	1588017334691
EVENTS	1588017336539	{"@timestamp":"2020-04-27T19:55:34.691Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 1bafa88b-f386-4605-a9e8-86b68f622138"}	1588017334691
EVENTS	1588017336539	{"@timestamp":"2020-04-27T19:55:34.693Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 1bafa88b-f386-4605-a9e8-86b68f622138: []"}	1588017334694
EVENTS	1588017356540	{"@timestamp":"2020-04-27T19:55:55.943Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token aee777e3-d0d8-462b-9193-fa2e5cde4b61 "}	1588017355944
EVENTS	1588017356540	{"@timestamp":"2020-04-27T19:55:55.944Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token aee777e3-d0d8-462b-9193-fa2e5cde4b61"}	1588017355944
EVENTS	1588017356540	{"@timestamp":"2020-04-27T19:55:55.947Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token aee777e3-d0d8-462b-9193-fa2e5cde4b61: []"}	1588017355947
EVENTS	1588017501537	{"@timestamp":"2020-04-27T19:58:17.577Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token bea9a95d-5a96-4ddd-b63a-3c7ba16c1d56 "}	1588017497577
EVENTS	1588017501537	{"@timestamp":"2020-04-27T19:58:17.577Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token bea9a95d-5a96-4ddd-b63a-3c7ba16c1d56"}	1588017497578
EVENTS	1588017501537	{"@timestamp":"2020-04-27T19:58:17.579Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token bea9a95d-5a96-4ddd-b63a-3c7ba16c1d56: []"}	1588017497579
EVENTS	1588018041540	{"@timestamp":"2020-04-27T20:07:19.876Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6ca7fef6-0c25-4a88-8e7c-21cd8bb19636 "}	1588018039876
EVENTS	1588018041540	{"@timestamp":"2020-04-27T20:07:19.876Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6ca7fef6-0c25-4a88-8e7c-21cd8bb19636"}	1588018039876
EVENTS	1588018041540	{"@timestamp":"2020-04-27T20:07:19.879Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6ca7fef6-0c25-4a88-8e7c-21cd8bb19636: []"}	1588018039879
EVENTS	1588018051541	{"@timestamp":"2020-04-27T20:07:27.268Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6c8f350d-203d-4dc6-ad2c-1f20ea363fb7 "}	1588018047268
EVENTS	1588018051541	{"@timestamp":"2020-04-27T20:07:27.268Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6c8f350d-203d-4dc6-ad2c-1f20ea363fb7"}	1588018047269
EVENTS	1588018051541	{"@timestamp":"2020-04-27T20:07:27.288Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6c8f350d-203d-4dc6-ad2c-1f20ea363fb7: []"}	1588018047288
EVENTS	1588018086562	{"@timestamp":"2020-04-27T20:08:06.136Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6acaf58c-031e-4e13-8d32-1e7299ac6799 "}	1588018086138
EVENTS	1588018086562	{"@timestamp":"2020-04-27T20:08:06.136Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6acaf58c-031e-4e13-8d32-1e7299ac6799"}	1588018086138
EVENTS	1588018086562	{"@timestamp":"2020-04-27T20:08:06.139Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6acaf58c-031e-4e13-8d32-1e7299ac6799: []"}	1588018086140
EVENTS	1588018101540	{"@timestamp":"2020-04-27T20:08:17.336Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6c8f350d-203d-4dc6-ad2c-1f20ea363fb7 "}	1588018097336
EVENTS	1588018101540	{"@timestamp":"2020-04-27T20:08:17.336Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6c8f350d-203d-4dc6-ad2c-1f20ea363fb7"}	1588018097337
EVENTS	1588018101540	{"@timestamp":"2020-04-27T20:08:17.346Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6c8f350d-203d-4dc6-ad2c-1f20ea363fb7: []"}	1588018097346
EVENTS	1588018336539	{"@timestamp":"2020-04-27T20:12:14.364Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token ac8be971-7d35-458b-a884-7e261b69a5e4 "}	1588018334365
EVENTS	1588018336539	{"@timestamp":"2020-04-27T20:12:14.365Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token ac8be971-7d35-458b-a884-7e261b69a5e4"}	1588018334365
EVENTS	1588018336539	{"@timestamp":"2020-04-27T20:12:14.367Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token ac8be971-7d35-458b-a884-7e261b69a5e4: []"}	1588018334368
EVENTS	1588018381540	{"@timestamp":"2020-04-27T20:13:00.236Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 3ae0381b-da40-40e2-8c99-33dd2ac46dbe "}	1588018380237
EVENTS	1588018381540	{"@timestamp":"2020-04-27T20:13:00.237Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 3ae0381b-da40-40e2-8c99-33dd2ac46dbe"}	1588018380237
EVENTS	1588018381540	{"@timestamp":"2020-04-27T20:13:00.239Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 3ae0381b-da40-40e2-8c99-33dd2ac46dbe: []"}	1588018380240
EVENTS	1588018466538	{"@timestamp":"2020-04-27T20:14:22.298Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 069c67fb-486d-43cb-92e0-51fe5690b333 "}	1588018462299
EVENTS	1588018466538	{"@timestamp":"2020-04-27T20:14:22.299Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 069c67fb-486d-43cb-92e0-51fe5690b333"}	1588018462299
EVENTS	1588018466538	{"@timestamp":"2020-04-27T20:14:22.302Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 069c67fb-486d-43cb-92e0-51fe5690b333: []"}	1588018462302
EVENTS	1588018516539	{"@timestamp":"2020-04-27T20:15:15.462Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token e6fe9228-b7e9-4ffa-ab1c-d509819b5247 "}	1588018515463
EVENTS	1588018516539	{"@timestamp":"2020-04-27T20:15:15.463Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token e6fe9228-b7e9-4ffa-ab1c-d509819b5247"}	1588018515463
EVENTS	1588018516539	{"@timestamp":"2020-04-27T20:15:15.468Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token e6fe9228-b7e9-4ffa-ab1c-d509819b5247: []"}	1588018515468
EVENTS	1588018711535	{"@timestamp":"2020-04-27T20:18:29.804Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 99f3efd5-f3d3-4955-8d4c-8fa6a03f1ee4 "}	1588018709805
EVENTS	1588018711535	{"@timestamp":"2020-04-27T20:18:29.805Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 99f3efd5-f3d3-4955-8d4c-8fa6a03f1ee4"}	1588018709805
EVENTS	1588018711535	{"@timestamp":"2020-04-27T20:18:29.808Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 99f3efd5-f3d3-4955-8d4c-8fa6a03f1ee4: []"}	1588018709808
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.023Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token c520fdb4-9789-497f-a7dd-a4910682ce52 "}	1588018726023
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.024Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token c520fdb4-9789-497f-a7dd-a4910682ce52"}	1588018726024
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.027Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token c520fdb4-9789-497f-a7dd-a4910682ce52"}	1588018726027
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.029Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'c520fdb4-9789-497f-a7dd-a4910682ce52' and pre-approval: '2e4e08bb-bbb2-45e6-bc7d-ebc6e7de7a08'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588018726029
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.145Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588018726146
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.146Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588018726146
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.146Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token c520fdb4-9789-497f-a7dd-a4910682ce52"}	1588018726146
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.151Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'c520fdb4-9789-497f-a7dd-a4910682ce52' and pre-approval: '68eb8976-1c1f-4b6c-b482-9a35137e92c6'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588018726151
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.187Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588018726188
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.188Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588018726188
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.188Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token c520fdb4-9789-497f-a7dd-a4910682ce52"}	1588018726189
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.190Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'c520fdb4-9789-497f-a7dd-a4910682ce52' and pre-approval: 'd4f61d91-9045-4d20-9980-c8810aaadbba'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588018726191
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.233Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588018726234
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.234Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"invalid_user\",\"error_description\":\"404 Parameter Not Found: Merchant_ID\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588018726234
EVENTS	1588018726537	{"@timestamp":"2020-04-27T20:18:46.235Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token c520fdb4-9789-497f-a7dd-a4910682ce52: [{\"id\":\"2e4e08bb-bbb2-45e6-bc7d-ebc6e7de7a08\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"c520fdb4-9789-497f-a7dd-a4910682ce52\",\"proxy_merchant_token\":\"b447963c-a91d-49aa-853f-2a144febe09d\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"5000.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"5580.00\",\"retention_rate\":\"109.6237\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:11:46Z\"},{\"id\":\"68eb8976-1c1f-4b6c-b482-9a35137e92c6\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"c520fdb4-9789-497f-a7dd-a4910682ce52\",\"proxy_merchant_token\":\"b447963c-a91d-49aa-853f-2a144febe09d\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1000.00\",\"tax\":\"160.00\",\"payback\":\"11160.00\",\"retention_rate\":\"219.2474\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:11:46Z\"},{\"id\":\"d4f61d91-9045-4d20-9980-c8810aaadbba\",\"loan\":null,\"provider_code\":\"MOT\",\"provider_id\":null,\"merchant_token\":\"c520fdb4-9789-497f-a7dd-a4910682ce52\",\"proxy_merchant_token\":\"b447963c-a91d-49aa-853f-2a144febe09d\",\"status\":\"AVAILABLE\",\"sub_status\":\"\",\"amount\":\"7000.00\",\"interest\":\"700.00\",\"tax\":\"112.00\",\"payback\":\"7812.00\",\"retention_rate\":\"153.4732\",\"expiration_date\":\"2020-04-28\",\"term_maximum\":1,\"created_at\":\"2020-04-14T00:11:46Z\"}]"}	1588018726235
EVENTS	1588018856533	{"@timestamp":"2020-04-27T20:20:56.138Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 6ced2baf-3a87-4b43-8135-27d4743b395a "}	1588018856138
EVENTS	1588018856533	{"@timestamp":"2020-04-27T20:20:56.139Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 6ced2baf-3a87-4b43-8135-27d4743b395a"}	1588018856139
EVENTS	1588018856533	{"@timestamp":"2020-04-27T20:20:56.141Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 6ced2baf-3a87-4b43-8135-27d4743b395a: []"}	1588018856141
EVENTS	1588018946534	{"@timestamp":"2020-04-27T20:22:26.155Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 2ae03c5d-fa54-4883-83e8-c6b0bf8e106b "}	1588018946155
EVENTS	1588018946534	{"@timestamp":"2020-04-27T20:22:26.155Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 2ae03c5d-fa54-4883-83e8-c6b0bf8e106b"}	1588018946156
EVENTS	1588018946534	{"@timestamp":"2020-04-27T20:22:26.158Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 2ae03c5d-fa54-4883-83e8-c6b0bf8e106b: []"}	1588018946158
EVENTS	1588019411536	{"@timestamp":"2020-04-27T20:30:11.385Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 5c26bb6f-4057-4d05-97a2-88faa8919ac5 "}	1588019411386
EVENTS	1588019411536	{"@timestamp":"2020-04-27T20:30:11.386Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 5c26bb6f-4057-4d05-97a2-88faa8919ac5"}	1588019411386
EVENTS	1588019411536	{"@timestamp":"2020-04-27T20:30:11.389Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 5c26bb6f-4057-4d05-97a2-88faa8919ac5: []"}	1588019411389
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:52.913Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094 "}	1588019572913
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:52.913Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019572914
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:52.917Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019572917
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:52.919Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: '5ef810b9-85b6-4a4b-8e34-f5eaf3be27d4'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019572919
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:52.995Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588019572996
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:52.995Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019572996
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:52.998Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: '781bc69c-319d-41fc-9984-990a6b83d9a0'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019572998
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.047Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588019573048
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.048Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019573048
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.050Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: '78481193-e006-4df8-ac37-85c834cddb4e'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019573052
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.161Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588019573161
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.161Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019573162
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.164Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: '6de318ce-f686-4ae4-9ea4-656a8aeaa073'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019573164
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.226Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573228
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.226Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573228
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.227Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019573228
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.230Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: '790da04d-23f7-43e6-a12f-af0b1b92cf65'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019573231
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.277Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573279
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.278Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573279
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.278Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019573279
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.282Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: 'fc313860-b43e-4ee0-82a7-1485c6f2fc5c'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019573283
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.373Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573373
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.373Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573374
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.374Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019573375
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.376Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: '901f2574-0eb8-4807-a6c7-5a9a617dac83'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019573377
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.431Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573431
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.431Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573432
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.432Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019573432
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.434Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: 'cad92627-43c8-4bfc-a37b-83583e265a80'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019573434
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.480Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573480
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.481Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573481
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.481Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019573482
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.483Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: 'dfd4f102-c606-4e64-9cdf-f8af99ce89db'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019573484
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.525Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573526
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.526Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588019573529
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.529Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094"}	1588019573530
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.532Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token '9c288bb5-67f8-43b8-a9dd-84f7f55f8094' and pre-approval: '4fc63d2a-4a97-4d09-84d2-5fecd96f04f0'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588019573532
EVENTS	1588019576546	{"@timestamp":"2020-04-27T20:32:53.534Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 9c288bb5-67f8-43b8-a9dd-84f7f55f8094: [{\"id\":\"5ef810b9-85b6-4a4b-8e34-f5eaf3be27d4\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"e9ae2aef-2e79-4f89-becb-f9bbda73a1e7\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"2700.00\",\"interest\":\"560.00\",\"tax\":\"89.60\",\"payback\":\"3349.60\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T08:29:47Z\"},{\"id\":\"781bc69c-319d-41fc-9984-990a6b83d9a0\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"e9ae2aef-2e79-4f89-becb-f9bbda73a1e7\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"6000.00\",\"interest\":\"1160.00\",\"tax\":\"185.60\",\"payback\":\"7345.60\",\"retention_rate\":\"22.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T08:29:47Z\"},{\"id\":\"78481193-e006-4df8-ac37-85c834cddb4e\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"e9ae2aef-2e79-4f89-becb-f9bbda73a1e7\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"4400.00\",\"interest\":\"810.00\",\"tax\":\"129.60\",\"payback\":\"5339.60\",\"retention_rate\":\"16.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":4,\"created_at\":\"2020-02-27T08:29:47Z\"},{\"id\":\"6de318ce-f686-4ae4-9ea4-656a8aeaa073\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"e9ae2aef-2e79-4f89-becb-f9bbda73a1e7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"3200.00\",\"interest\":\"590.00\",\"tax\":\"94.40\",\"payback\":\"3884.40\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T04:33:35Z\"},{\"id\":\"790da04d-23f7-43e6-a12f-af0b1b92cf65\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"e9ae2aef-2e79-4f89-becb-f9bbda73a1e7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"4500.00\",\"interest\":\"810.00\",\"tax\":\"129.60\",\"payback\":\"5439.60\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T04:33:35Z\"},{\"id\":\"fc313860-b43e-4ee0-82a7-1485c6f2fc5c\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"e9ae2aef-2e79-4f89-becb-f9bbda73a1e7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"5800.00\",\"interest\":\"1030.00\",\"tax\":\"164.80\",\"payback\":\"6994.80\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T04:33:35Z\"},{\"id\":\"901f2574-0eb8-4807-a6c7-5a9a617dac83\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"e9ae2aef-2e79-4f89-becb-f9bbda73a1e7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"4100.00\",\"interest\":\"320.00\",\"tax\":\"51.20\",\"payback\":\"4471.20\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":5,\"created_at\":\"2019-12-13T19:45:14Z\"},{\"id\":\"cad92627-43c8-4bfc-a37b-83583e265a80\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"e9ae2aef-2e79-4f89-becb-f9bbda73a1e7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"6200.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"6780.00\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":6,\"created_at\":\"2019-12-13T19:45:14Z\"},{\"id\":\"dfd4f102-c606-4e64-9cdf-f8af99ce89db\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"e9ae2aef-2e79-4f89-becb-f9bbda73a1e7\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"8500.00\",\"interest\":\"780.00\",\"tax\":\"124.80\",\"payback\":\"9404.80\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":7,\"created_at\":\"2019-12-13T19:45:14Z\"},{\"id\":\"4fc63d2a-4a97-4d09-84d2-5fecd96f04f0\",\"loan\":null,\"provider_code\":\"CLIP\",\"provider_id\":null,\"merchant_token\":\"9c288bb5-67f8-43b8-a9dd-84f7f55f8094\",\"proxy_merchant_token\":\"358afb67-9778-47e7-b8e4-cd0113abb916\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"10000.00\",\"interest\":\"1500.00\",\"tax\":\"240.00\",\"payback\":\"11740.00\",\"retention_rate\":\"15.0000\",\"expiration_date\":\"2019-06-28\",\"term_maximum\":6,\"created_at\":\"2019-06-06T16:13:11Z\"}]"}	1588019573537
EVENTS	1588019646531	{"@timestamp":"2020-04-27T20:34:06.238Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token abda138a-bc83-4c58-a2e4-5757cea66e06 "}	1588019646239
EVENTS	1588019646531	{"@timestamp":"2020-04-27T20:34:06.239Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token abda138a-bc83-4c58-a2e4-5757cea66e06"}	1588019646239
EVENTS	1588019646531	{"@timestamp":"2020-04-27T20:34:06.242Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token abda138a-bc83-4c58-a2e4-5757cea66e06: []"}	1588019646242
EVENTS	1588019706538	{"@timestamp":"2020-04-27T20:35:02.886Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token f9626d3f-7d61-49ac-99c5-449632071190 "}	1588019702887
EVENTS	1588019706538	{"@timestamp":"2020-04-27T20:35:02.887Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token f9626d3f-7d61-49ac-99c5-449632071190"}	1588019702887
EVENTS	1588019706538	{"@timestamp":"2020-04-27T20:35:02.890Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token f9626d3f-7d61-49ac-99c5-449632071190: []"}	1588019702890
EVENTS	1588020456534	{"@timestamp":"2020-04-27T20:47:36.391Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 4abe6d23-5d01-4dab-ab62-77895c1610f1 "}	1588020456392
EVENTS	1588020456534	{"@timestamp":"2020-04-27T20:47:36.392Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 4abe6d23-5d01-4dab-ab62-77895c1610f1"}	1588020456392
EVENTS	1588020456534	{"@timestamp":"2020-04-27T20:47:36.394Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 4abe6d23-5d01-4dab-ab62-77895c1610f1: []"}	1588020456395
EVENTS	1588020471538	{"@timestamp":"2020-04-27T20:47:49.008Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 9757911a-37f8-4011-a3f4-f71e650e4831 "}	1588020469009
EVENTS	1588020471538	{"@timestamp":"2020-04-27T20:47:49.009Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 9757911a-37f8-4011-a3f4-f71e650e4831"}	1588020469009
EVENTS	1588020471538	{"@timestamp":"2020-04-27T20:47:49.014Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 9757911a-37f8-4011-a3f4-f71e650e4831: []"}	1588020469014
EVENTS	1588020611534	{"@timestamp":"2020-04-27T20:50:10.380Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f "}	1588020610380
EVENTS	1588020611534	{"@timestamp":"2020-04-27T20:50:10.380Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f"}	1588020610381
EVENTS	1588020611534	{"@timestamp":"2020-04-27T20:50:10.381Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 8cd438ce-9b3b-4170-ae7f-ea4d95f8333f: []"}	1588020610382
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:01.838Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc "}	1588020661839
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:01.839Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020661839
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:01.843Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020661843
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:01.845Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e2bf4466-54ae-4558-8deb-c98a760cd8dc' and pre-approval: '4fe1c987-8d7b-48b1-aa02-0b9288cc71f4'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588020661845
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:01.974Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588020661974
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:01.974Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020661975
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:01.976Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e2bf4466-54ae-4558-8deb-c98a760cd8dc' and pre-approval: '8a222688-4170-498b-81c9-1bfa9c73fac6'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588020661977
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.296Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588020662296
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.296Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020662296
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.298Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e2bf4466-54ae-4558-8deb-c98a760cd8dc' and pre-approval: 'e6a7e099-494c-4c94-b06a-1bb0f18f0663'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588020662299
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.345Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"status\": \"available\"}"}	1588020662346
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.346Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020662346
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.348Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e2bf4466-54ae-4558-8deb-c98a760cd8dc' and pre-approval: '1402e797-d4ef-4a36-a12f-c3497c534844'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588020662348
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.404Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662405
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.405Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662405
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.405Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020662406
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.407Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e2bf4466-54ae-4558-8deb-c98a760cd8dc' and pre-approval: '17b6206b-3bdc-4591-bb9f-4e94a0cec5f2'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588020662408
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.459Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662459
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.459Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662460
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.460Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020662460
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.462Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e2bf4466-54ae-4558-8deb-c98a760cd8dc' and pre-approval: '5dfc3680-ef6f-4ffe-931f-611e751f774c'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588020662462
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.506Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662508
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.507Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662508
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.509Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020662510
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.513Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e2bf4466-54ae-4558-8deb-c98a760cd8dc' and pre-approval: '38d6f42a-cacc-4f3c-9b08-a36497549a48'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588020662514
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.557Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662558
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.560Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662560
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.560Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020662561
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.563Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e2bf4466-54ae-4558-8deb-c98a760cd8dc' and pre-approval: '91759665-cad4-4e84-848b-32fcdb774bc6'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588020662564
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.608Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662608
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.608Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662609
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.609Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":206,"message":"invoking sql query to find loans by merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc"}	1588020662609
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.611Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.dao.LoansDaoImpl","method":"findLoanByMerchantTokenAndPreapprovalId","file":"LoansDaoImpl.java","line":216,"message":"An expected exception occurred trying to get loan for the merchant token 'e2bf4466-54ae-4558-8deb-c98a760cd8dc' and pre-approval: 'dff0676e-6cbe-4daf-a459-9177bebc712e'.","exceptionclass":"org.springframework.dao.EmptyResultDataAccessException","exceptionmsg":"Incorrect result size: expected 1, actual 0","exceptionstack":"\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97)\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:236)\n\tat com.payclip.loans.dao.LoansDaoImpl.findLoanByMerchantTokenAndPreapprovalId(LoansDaoImpl.java:207)\n\tat com.payclip.loans.dao.LoansDaoImpl$$FastClassBySpringCGLIB$$119d6c99.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.dao.LoansDaoImpl$$EnhancerBySpringCGLIB$$b95f27cc.findLoanByMerchantTokenAndPreapprovalId(<generated>)\n\tat com.payclip.loans.service.PreApprovalsService.lambda$getPreapprovalsByMerchantToken$0(PreApprovalsService.java:96)\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n\tat com.payclip.loans.service.PreApprovalsService.getPreapprovalsByMerchantToken(PreApprovalsService.java:147)\n\tat com.payclip.loans.service.PreApprovalsService$$FastClassBySpringCGLIB$$f2e02761.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n\tat com.payclip.loans.service.PreApprovalsService$$EnhancerBySpringCGLIB$$ade8a25d.getPreapprovalsByMerchantToken(<generated>)\n\tat com.payclip.loans.handler.PreApprovalHandler.onMessage(PreApprovalHandler.java:41)\n\tat sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:170)\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190)\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1514)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1440)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1428)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1423)\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1372)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137)\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043)\n\tat java.lang.Thread.run(Thread.java:748)\n"}	1588020662611
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.654Z","@version":"1","level":"INFO","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":159,"message":"messageResp: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662655
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.655Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getSubstatus","file":"PreApprovalsService.java","line":164,"message":"Response from sub-status preapproval queue: {\"error\":\"preapprovals_not_found\",\"error_description\":\"404 Parameter Not Found: Pre-approvals\",\"user_data\":{\"merchant_user_id\":null},\"redirect\":{\"status_process\":null,\"url_redirect\":null}}"}	1588020662655
EVENTS	1588020666539	{"@timestamp":"2020-04-27T20:51:02.656Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token e2bf4466-54ae-4558-8deb-c98a760cd8dc: [{\"id\":\"4fe1c987-8d7b-48b1-aa02-0b9288cc71f4\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e2bf4466-54ae-4558-8deb-c98a760cd8dc\",\"proxy_merchant_token\":\"80a6abd3-c572-476b-b2bc-3913ddd75c0e\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"25700.00\",\"interest\":\"4580.00\",\"tax\":\"732.80\",\"payback\":\"31012.80\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":5,\"created_at\":\"2020-02-27T12:03:36Z\"},{\"id\":\"8a222688-4170-498b-81c9-1bfa9c73fac6\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e2bf4466-54ae-4558-8deb-c98a760cd8dc\",\"proxy_merchant_token\":\"80a6abd3-c572-476b-b2bc-3913ddd75c0e\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"20000.00\",\"interest\":\"3550.00\",\"tax\":\"568.00\",\"payback\":\"24118.00\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":5,\"created_at\":\"2020-02-27T12:03:36Z\"},{\"id\":\"e6a7e099-494c-4c94-b06a-1bb0f18f0663\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e2bf4466-54ae-4558-8deb-c98a760cd8dc\",\"proxy_merchant_token\":\"80a6abd3-c572-476b-b2bc-3913ddd75c0e\",\"status\":\"AVAILABLE\",\"sub_status\":\"available\",\"amount\":\"14200.00\",\"interest\":\"2620.00\",\"tax\":\"419.20\",\"payback\":\"17239.20\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-03-16\",\"term_maximum\":5,\"created_at\":\"2020-02-27T12:03:36Z\"},{\"id\":\"1402e797-d4ef-4a36-a12f-c3497c534844\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e2bf4466-54ae-4558-8deb-c98a760cd8dc\",\"proxy_merchant_token\":\"80a6abd3-c572-476b-b2bc-3913ddd75c0e\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"17800.00\",\"interest\":\"2490.00\",\"tax\":\"398.40\",\"payback\":\"20688.40\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T07:30:09Z\"},{\"id\":\"17b6206b-3bdc-4591-bb9f-4e94a0cec5f2\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e2bf4466-54ae-4558-8deb-c98a760cd8dc\",\"proxy_merchant_token\":\"80a6abd3-c572-476b-b2bc-3913ddd75c0e\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"22900.00\",\"interest\":\"3190.00\",\"tax\":\"510.40\",\"payback\":\"26600.40\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T07:30:09Z\"},{\"id\":\"5dfc3680-ef6f-4ffe-931f-611e751f774c\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e2bf4466-54ae-4558-8deb-c98a760cd8dc\",\"proxy_merchant_token\":\"80a6abd3-c572-476b-b2bc-3913ddd75c0e\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"12700.00\",\"interest\":\"1790.00\",\"tax\":\"286.40\",\"payback\":\"14776.40\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-02-22\",\"term_maximum\":4,\"created_at\":\"2020-02-07T07:30:09Z\"},{\"id\":\"38d6f42a-cacc-4f3c-9b08-a36497549a48\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e2bf4466-54ae-4558-8deb-c98a760cd8dc\",\"proxy_merchant_token\":\"80a6abd3-c572-476b-b2bc-3913ddd75c0e\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"11500.00\",\"interest\":\"500.00\",\"tax\":\"80.00\",\"payback\":\"12080.00\",\"retention_rate\":\"14.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":3,\"created_at\":\"2019-12-13T21:52:39Z\"},{\"id\":\"91759665-cad4-4e84-848b-32fcdb774bc6\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e2bf4466-54ae-4558-8deb-c98a760cd8dc\",\"proxy_merchant_token\":\"80a6abd3-c572-476b-b2bc-3913ddd75c0e\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"14800.00\",\"interest\":\"630.00\",\"tax\":\"100.80\",\"payback\":\"15530.80\",\"retention_rate\":\"18.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":3,\"created_at\":\"2019-12-13T21:52:39Z\"},{\"id\":\"dff0676e-6cbe-4daf-a459-9177bebc712e\",\"loan\":null,\"provider_code\":\"MRP\",\"provider_id\":null,\"merchant_token\":\"e2bf4466-54ae-4558-8deb-c98a760cd8dc\",\"proxy_merchant_token\":\"80a6abd3-c572-476b-b2bc-3913ddd75c0e\",\"status\":\"EXPIRED\",\"sub_status\":\"\",\"amount\":\"8200.00\",\"interest\":\"370.00\",\"tax\":\"59.20\",\"payback\":\"8629.20\",\"retention_rate\":\"10.0000\",\"expiration_date\":\"2020-01-21\",\"term_maximum\":3,\"created_at\":\"2019-12-13T21:52:39Z\"}]"}	1588020662658
EVENTS	1588020736534	{"@timestamp":"2020-04-27T20:52:13.798Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 0224ad54-fa3f-44c1-b674-ffd05ae88d0f "}	1588020733798
EVENTS	1588020736534	{"@timestamp":"2020-04-27T20:52:13.798Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 0224ad54-fa3f-44c1-b674-ffd05ae88d0f"}	1588020733799
EVENTS	1588020736534	{"@timestamp":"2020-04-27T20:52:13.800Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-1","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 0224ad54-fa3f-44c1-b674-ffd05ae88d0f: []"}	1588020733800
EVENTS	1588020846534	{"@timestamp":"2020-04-27T20:54:01.795Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token 0b14f9f3-e472-4d70-8c8b-38c455e03cdc "}	1588020841795
EVENTS	1588020846534	{"@timestamp":"2020-04-27T20:54:01.795Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token 0b14f9f3-e472-4d70-8c8b-38c455e03cdc"}	1588020841795
EVENTS	1588020846534	{"@timestamp":"2020-04-27T20:54:01.798Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-2","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token 0b14f9f3-e472-4d70-8c8b-38c455e03cdc: []"}	1588020841799
EVENTS	1588020866535	{"@timestamp":"2020-04-27T20:54:24.663Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token acf75c80-3e83-4b72-abb6-3e3d55af06e0 "}	1588020864663
EVENTS	1588020866535	{"@timestamp":"2020-04-27T20:54:24.663Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token acf75c80-3e83-4b72-abb6-3e3d55af06e0"}	1588020864664
EVENTS	1588020866535	{"@timestamp":"2020-04-27T20:54:24.666Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-3","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token acf75c80-3e83-4b72-abb6-3e3d55af06e0: []"}	1588020864666
EVENTS	1588020881537	{"@timestamp":"2020-04-27T20:54:38.824Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":40,"message":"Request for merchant token a1a457f6-b7f2-4b3f-8ed9-bde4e108721f "}	1588020878827
EVENTS	1588020881537	{"@timestamp":"2020-04-27T20:54:38.824Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.service.PreApprovalsService","method":"getPreapprovalsByMerchantToken","file":"PreApprovalsService.java","line":91,"message":"Retrieving pre approvals for merchant with merchant token a1a457f6-b7f2-4b3f-8ed9-bde4e108721f"}	1588020878827
EVENTS	1588020881537	{"@timestamp":"2020-04-27T20:54:38.831Z","@version":"1","level":"DEBUG","serviceName":"service-loans","environment":"prod1","infrastucture":"AWS","hostname":"ip-10-0-101-153.prodpayclip.com","ip":"10.0.101.153","az":"us-west-2b","instanceId":"i-076f862e29dc5857c","thread":"SimpleAsyncTaskExecutor-4","class":"com.payclip.loans.handler.PreApprovalHandler","method":"onMessage","file":"PreApprovalHandler.java","line":47,"message":"Response for merchant token a1a457f6-b7f2-4b3f-8ed9-bde4e108721f: []"}	1588020878841
